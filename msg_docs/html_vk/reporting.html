<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Postprocessing and reporting &mdash; MESSAGEix 3.5.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/messageix-favicon.svg"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Debugging and data validation" href="debugging.html" />
    <link rel="prev" title="Add model years to an existing Scenario" href="tools/add_year.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/combined-logo-white.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prereqs.html">Prerequisite knowledge &amp; skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="framework.html">MESSAGE<em>ix</em> model &amp; framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Publications, Projects, and Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mathematical Specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/sets_maps_def.html">Sets and mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Years, periods, and time slices</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/parameter_def.html">Parameter definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/model_core.html">MESSAGE core formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/model_solve.html">Solve statement workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/reporting.html">Standard output reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/scaling_investment_costs.html">Auxiliary investment parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MACRO/macro_core.html">MACRO core formulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing MESSAGEix models</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="efficiency.html">Efficiency - output- vs. input defined technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/add_year.html">Add model years to an existing Scenario</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Postprocessing and reporting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#concepts">Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customization">Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-message_ix.reporting">API reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#top-level-classes-and-functions">Top-level classes and functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-message_ix.reporting.computations">Computations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-message_ix.reporting.pyam">Utilities</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging and data validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="macro.html">Calibrate and tune MESSAGE-MACRO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help &amp; reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rmessageix.html">Usage in R via <code class="docutils literal notranslate"><span class="pre">reticulate</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="notice.html">User guidelines and notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to development</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Sharing publications, projects, and tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MESSAGEix</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Postprocessing and reporting</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/reporting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="postprocessing-and-reporting">
<h1>Postprocessing and reporting<a class="headerlink" href="#postprocessing-and-reporting" title="Permalink to this headline"></a></h1>
<p>The MESSAGE<em>ix</em> framework provides zero-configuration <strong>reporting</strong> of models built on the framework.
The word “reporting” refers to calculations and other post-processing performed <em>after</em> a <a class="reference internal" href="api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scenario</span></code></a> has been solved by the associated optimization model: first the model solution is obtained, and then things are “reported” based on that solution.</p>
<p><a class="reference internal" href="#module-message_ix.reporting" title="message_ix.reporting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.reporting</span></code></a> is developed on the basis of <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#module-ixmp.reporting" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp.reporting</span></code></a> and <code class="xref py py-mod docutils literal notranslate"><span class="pre">genno</span></code>.
It provides a basis for other code and packages—such as <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix_models</span></code>—that perform reporting calculations tailored to specific model structures.
Each layer of this “stack” builds on the features in the level below:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Role</p></th>
<th class="head"><p>Core features</p></th>
<th class="head"><p>Reporting features</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">message_ix_models</span></code></p></td>
<td><p>MESSAGEix-GLOBIOM models</p></td>
<td><p>Specific model structure (<code class="docutils literal notranslate"><span class="pre">coal_ppl</span></code> in <code class="docutils literal notranslate"><span class="pre">t</span></code>)</p></td>
<td><p>Calculations for specific technologies</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">message_ix</span></code></p></td>
<td><p>Energy model framework</p></td>
<td><p>Common sets/parameters (<code class="docutils literal notranslate"><span class="pre">output</span></code>)</p></td>
<td><p>Derived quantities (<code class="docutils literal notranslate"><span class="pre">tom</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ixmp</span></code></p></td>
<td><p>Optimization models &amp; data</p></td>
<td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scenario</span></code></a> with sets, parameters, variables</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Reporter</span></code> auto-populated with sets etc.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">genno</span></code></p></td>
<td><p>Structured calculations</p></td>
<td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Computer" title="(in genno)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Computer</span></code></a>,
<a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a>,
<a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Quantity" title="(in genno)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></a></p></td>
<td><p>—</p></td>
</tr>
</tbody>
</table>
<p>These features are accessible through <a class="reference internal" href="#message_ix.reporting.Reporter" title="message_ix.reporting.Reporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reporter</span></code></a>, which can produce multiple <strong>reports</strong> from one or more Scenarios.
A report is identified by a <strong>key</strong> (usually a string), and may…</p>
<ul class="simple">
<li><p>perform arbitrarily complex calculations while intelligently handling units;</p></li>
<li><p>read and make use of data that is ‘exogenous’ to (not included in) a
Scenario;</p></li>
<li><p>produce output as Python or R objects (in code), or to files or databases;</p></li>
<li><p>calculate only a requested subset of quantities; and</p></li>
<li><p>much, much more!</p></li>
</ul>
<p>Contents:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#concepts" id="id1">Concepts</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id2">Usage</a></p></li>
<li><p><a class="reference internal" href="#customization" id="id3">Customization</a></p></li>
<li><p><a class="reference internal" href="#module-message_ix.reporting" id="id4">API reference</a></p>
<ul>
<li><p><a class="reference internal" href="#top-level-classes-and-functions" id="id5">Top-level classes and functions</a></p></li>
<li><p><a class="reference internal" href="#module-message_ix.reporting.computations" id="id6">Computations</a></p></li>
<li><p><a class="reference internal" href="#module-message_ix.reporting.pyam" id="id7">Utilities</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="concepts">
<h2><a class="toc-backref" href="#id1">Concepts</a><a class="headerlink" href="#concepts" title="Permalink to this headline"></a></h2>
<p>See <a class="reference external" href="https://genno.readthedocs.io/en/latest/usage.html" title="(in genno)"><span>Concepts and usage</span></a> in the genno documentation for an introduction to concepts including <strong>quantity</strong>, <strong>key</strong>, <strong>computation</strong>, <strong>task</strong>, and <strong>graph</strong>.
In <a class="reference internal" href="#module-message_ix.reporting" title="message_ix.reporting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.reporting</span></code></a>:</p>
<ul class="simple">
<li><p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Reporter</span></code> class is an extended version of the <a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Computer" title="(in genno)"><code class="xref py py-class docutils literal notranslate"><span class="pre">genno.Computer</span></code></a> class.</p></li>
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> parameters, scalars, equations, and time-series data all become quantities for the purpose of reporting.</p></li>
<li><p>For example, the MESSAGE<em>ix</em> parameter <code class="docutils literal notranslate"><span class="pre">resource_cost</span></code>, defined with the dimensions (node <cite>n</cite>, commodity <cite>c</cite>, grade <cite>g</cite>, year <cite>y</cite>) is identified by the key <code class="docutils literal notranslate"><span class="pre">resource_cost:n-c-g-y</span></code>.
When summed across the grade/<cite>g</cite> dimension, it has dimensions <cite>n</cite>, <cite>c</cite>, <cite>y</cite> and is identified by the key <code class="docutils literal notranslate"><span class="pre">resource_cost:n-c-y</span></code>.</p></li>
<li><p><a class="reference internal" href="#message_ix.reporting.Reporter.from_scenario" title="message_ix.reporting.Reporter.from_scenario"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Reporter.from_scenario()</span></code></a> automatically sets up keys and tasks (such as <code class="docutils literal notranslate"><span class="pre">resource_cost:n-c-g-y</span></code>) that simply retrieve raw/unprocessed data from a <a class="reference internal" href="api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scenario</span></code></a> and return it as a <a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Quantity" title="(in genno)"><code class="xref any docutils literal notranslate"><span class="pre">genno.Quantity</span></code></a>.</p></li>
<li><p>Computations are defined as functions in modules including:
<a class="reference internal" href="#module-message_ix.reporting.computations" title="message_ix.reporting.computations"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.reporting.computations</span></code></a>,
<a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#module-ixmp.reporting.computations" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp.reporting.computations</span></code></a>, and
<a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#module-genno.computations" title="(in genno)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">genno.computations</span></code></a>.
These are documented below.</p></li>
</ul>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id2">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline"></a></h2>
<p>A MESSAGE<em>ix</em> reporting workflow has the following steps:</p>
<ol class="arabic simple">
<li><p>Obtain a <a class="reference internal" href="api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scenario</span></code></a> object from an <code class="xref py py-class docutils literal notranslate"><span class="pre">Platform</span></code>.</p></li>
<li><p>Use <a class="reference internal" href="#message_ix.reporting.Reporter.from_scenario" title="message_ix.reporting.Reporter.from_scenario"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Reporter.from_scenario()</span></code></a> to prepare a Reporter object with many calculations automatically prepared.</p></li>
<li><p>(optionally) Use the built-in features of <a class="reference internal" href="#message_ix.reporting.Reporter" title="message_ix.reporting.Reporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reporter</span></code></a> to describe additional calculations.</p></li>
<li><p>Use <a class="reference internal" href="#message_ix.reporting.Reporter.get" title="message_ix.reporting.Reporter.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code></a> 1 or more times to execute tasks, including all the calculations on which they depend:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ixmp</span> <span class="kn">import</span> <span class="n">Platform</span>
<span class="kn">from</span> <span class="nn">message_ix</span> <span class="kn">import</span> <span class="n">Scenario</span><span class="p">,</span> <span class="n">Reporter</span>

<span class="n">mp</span> <span class="o">=</span> <span class="n">Platform</span><span class="p">()</span>
<span class="n">scen</span> <span class="o">=</span> <span class="n">Scenario</span><span class="p">(</span><span class="n">scen</span><span class="p">)</span>
<span class="n">rep</span> <span class="o">=</span> <span class="n">Reporter</span><span class="o">.</span><span class="n">from_scenario</span><span class="p">(</span><span class="n">scen</span><span class="p">)</span>
<span class="n">rep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that keys and tasks are <strong>described</strong> in steps (2–3), but they are not <strong>executed</strong> until <a class="reference internal" href="#message_ix.reporting.Reporter.get" title="message_ix.reporting.Reporter.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code></a> is called—or the results of one task are required by another.
This design allows the Reporter to skip unneeded (and potentially slow) computations and deliver good performance.
The Reporter’s <code class="xref py py-attr docutils literal notranslate"><span class="pre">Computer.graph</span></code> may contain thousands of tasks for retrieving model quantities and calculating derived quantities, but a particular call to <a class="reference internal" href="#message_ix.reporting.Reporter.get" title="message_ix.reporting.Reporter.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code></a> may only execute a few of these.</p>
</section>
<section id="customization">
<h2><a class="toc-backref" href="#id3">Customization</a><a class="headerlink" href="#customization" title="Permalink to this headline"></a></h2>
<p>A Reporter prepared with <a class="reference internal" href="#message_ix.reporting.Reporter.from_scenario" title="message_ix.reporting.Reporter.from_scenario"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_scenario()</span></code></a> always contains a key
<code class="docutils literal notranslate"><span class="pre">scenario</span></code>, referring to the Scenario to be reported.</p>
<p>The method <a class="reference internal" href="#message_ix.reporting.Reporter.add" title="message_ix.reporting.Reporter.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Reporter.add()</span></code></a> can be used to add <em>arbitrary</em> Python code that operates directly on the Scenario object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_custom_report</span><span class="p">(</span><span class="n">scenario</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Function with custom code that manipulates the `scenario`.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Model name:&quot;</span><span class="p">,</span> <span class="n">scenario</span><span class="o">.</span><span class="n">model</span><span class="p">)</span>

<span class="c1"># Add a task at the key &quot;custom&quot;. The task executes my_custom_report().</span>
<span class="c1"># The key &quot;scenario&quot; means that the Scenario object is retrieved and</span>
<span class="c1"># passed as an argument to the function.</span>
<span class="n">rep</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;custom&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">my_custom_report</span><span class="p">,</span> <span class="s2">&quot;scenario&quot;</span><span class="p">))</span>
<span class="n">rep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, the function <code class="docutils literal notranslate"><span class="pre">my_custom_report()</span></code> <em>could</em> run to thousands of lines; read to and write from multiple files; invoke other programs or Python scripts; etc.
In order to take advantage of the performance-optimizing features of the Reporter, such calculations can instead be composed from atomic (i.e. small, indivisible) computations.
See the <code class="xref py py-mod docutils literal notranslate"><span class="pre">genno</span></code> documentation for more.</p>
</section>
<section id="module-message_ix.reporting">
<span id="api-reference"></span><h2><a class="toc-backref" href="#id4">API reference</a><a class="headerlink" href="#module-message_ix.reporting" title="Permalink to this headline"></a></h2>
<section id="top-level-classes-and-functions">
<h3><a class="toc-backref" href="#id5">Top-level classes and functions</a><a class="headerlink" href="#top-level-classes-and-functions" title="Permalink to this headline"></a></h3>
<p><a class="reference internal" href="#module-message_ix.reporting" title="message_ix.reporting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.reporting</span></code></a> provides:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter" title="message_ix.reporting.Reporter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Reporter</span></code></a>(**kwargs)</p></td>
<td><p>MESSAGEix Reporter.</p></td>
</tr>
</tbody>
</table>
<p>The following objects from <code class="xref py py-mod docutils literal notranslate"><span class="pre">genno</span></code> may also be imported from <a class="reference internal" href="#module-message_ix.reporting" title="message_ix.reporting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.reporting</span></code></a>.
Their documentation is repeated below for convenience.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationError</span></code>(exc)</p></td>
<td><p>Wrapper to print intelligible exception information for <code class="xref py py-meth docutils literal notranslate"><span class="pre">Computer.get()</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Key</span></code>(name[, dims, tag])</p></td>
<td><p>A hashable key for a quantity that includes its dimensionality.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">KeyExistsError</span></code></p></td>
<td><p>Raised by <code class="xref py py-meth docutils literal notranslate"><span class="pre">Computer.add()</span></code> when the target key exists.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">MissingKeyError</span></code></p></td>
<td><p>Raised by <code class="xref py py-meth docutils literal notranslate"><span class="pre">Computer.add()</span></code> when a required input key is missing.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Quantity</span></code>(*args, **kwargs)</p></td>
<td><p>A sparse data structure that behaves like <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">configure</span></code>([path])</p></td>
<td><p>Configure <code class="xref py py-mod docutils literal notranslate"><span class="pre">genno</span></code> globally.</p></td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#ixmp.reporting.Reporter.from_scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ixmp.Reporter.from_scenario</span></code></a> automatically adds keys based on the contents of the <a class="reference internal" href="api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scenario</span></code></a> argument.
<a class="reference internal" href="#message_ix.reporting.Reporter.from_scenario" title="message_ix.reporting.Reporter.from_scenario"><code class="xref py py-meth docutils literal notranslate"><span class="pre">message_ix.Reporter.from_scenario</span></code></a> extends this to add additional keys for derived quantities specific to the MESSAGEix model framework.
These include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">out</span></code> - <code class="docutils literal notranslate"><span class="pre">output</span></code> × <code class="docutils literal notranslate"><span class="pre">ACT</span></code>; that is, the product of <code class="docutils literal notranslate"><span class="pre">output</span></code> (output efficiency) and <code class="docutils literal notranslate"><span class="pre">ACT</span></code> (activity)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">out_hist</span></code>     = <code class="docutils literal notranslate"><span class="pre">output</span></code> × <code class="docutils literal notranslate"><span class="pre">ref_activity</span></code> (historical reference activity)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">in</span></code>           = <code class="docutils literal notranslate"><span class="pre">input</span></code> × <code class="docutils literal notranslate"><span class="pre">ACT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">in_hist</span></code>      = <code class="docutils literal notranslate"><span class="pre">input</span></code> × <code class="docutils literal notranslate"><span class="pre">ref_activity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">emi</span></code>          = <code class="docutils literal notranslate"><span class="pre">emission_factor</span></code> × <code class="docutils literal notranslate"><span class="pre">ACT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">emi_hist</span></code>     = <code class="docutils literal notranslate"><span class="pre">emission_factor</span></code> × <code class="docutils literal notranslate"><span class="pre">ref_activity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inv</span></code>          = <code class="docutils literal notranslate"><span class="pre">inv_cost</span></code> × <code class="docutils literal notranslate"><span class="pre">CAP_NEW</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inv_hist</span></code>     = <code class="docutils literal notranslate"><span class="pre">inv_cost</span></code> × <code class="docutils literal notranslate"><span class="pre">ref_new_capacity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fom</span></code>          = <code class="docutils literal notranslate"><span class="pre">fix_cost</span></code> × <code class="docutils literal notranslate"><span class="pre">CAP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fom_hist</span></code>     = <code class="docutils literal notranslate"><span class="pre">fix_cost</span></code> × <code class="docutils literal notranslate"><span class="pre">ref_capacity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vom</span></code>          = <code class="docutils literal notranslate"><span class="pre">var_cost</span></code> × <code class="docutils literal notranslate"><span class="pre">ACT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vom_hist</span></code>     = <code class="docutils literal notranslate"><span class="pre">var_cost</span></code> × <code class="docutils literal notranslate"><span class="pre">ref_activity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tom</span></code>          = <code class="docutils literal notranslate"><span class="pre">fom</span></code> + <code class="docutils literal notranslate"><span class="pre">vom</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">land_out</span></code>     = <code class="docutils literal notranslate"><span class="pre">land_output</span></code> × <code class="docutils literal notranslate"><span class="pre">LAND</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">land_use_qty</span></code> = <code class="docutils literal notranslate"><span class="pre">land_use</span></code> × <code class="docutils literal notranslate"><span class="pre">LAND</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">land_emi</span></code>     = <code class="docutils literal notranslate"><span class="pre">land_emission</span></code> × <code class="docutils literal notranslate"><span class="pre">LAND</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">conversion</span></code>, the model parameter <code class="docutils literal notranslate"><span class="pre">addon_conversion</span></code> (note space versus underscore), except broadcast across individual add-on technologies (<cite>ta</cite>) rather than add-on types (<cite>type_addon</cite>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">up</span></code>, which is <code class="docutils literal notranslate"><span class="pre">addon_up</span></code> similarly broadcast.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">ACT</span></code>    = <code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">conversion</span></code> × <code class="docutils literal notranslate"><span class="pre">ACT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">in</span></code>     = <code class="docutils literal notranslate"><span class="pre">input</span></code> × <code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">ACT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">out</span></code>    = <code class="docutils literal notranslate"><span class="pre">output</span></code> × <code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">ACT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">potential</span></code> = <code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">up</span></code> × <code class="docutils literal notranslate"><span class="pre">addon</span> <span class="pre">ACT</span></code>, the maximum potential activity by add-on technology.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">price</span> <span class="pre">emission</span></code>, the model variable <code class="docutils literal notranslate"><span class="pre">PRICE_EMISSION</span></code> broadcast across emission species (<cite>e</cite>) <em>and</em> technologies (<cite>t</cite>) rather than types (<cite>type_emission</cite>, <cite>type_tec</cite>).</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">full_key()</span></code> to retrieve the full-dimensionality <code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code> for any of these quantities.</p>
</div>
<p>Other added keys include:</p>
<ul class="simple">
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> adds the standard short symbols for MESSAGE<em>ix</em> dimensions (sets) based on <a class="reference internal" href="#message_ix.reporting.DIMS" title="message_ix.reporting.DIMS"><code class="xref py py-data docutils literal notranslate"><span class="pre">DIMS</span></code></a>.
Each of these is also available in a Reporter: for example <code class="docutils literal notranslate"><span class="pre">rep.get(&quot;n&quot;)</span></code> returns a list with the elements of the MESSAGE<em>ix</em> set named “node”.
These keys can be used as input</p></li>
<li><p>Computations to convert internal <code class="xref py py-func docutils literal notranslate"><span class="pre">Quantity()</span></code> data format to the IAMC data format, i.e. as <a class="reference external" href="https://pyam-iamc.readthedocs.io/en/stable/api/iamdataframe.html#pyam.IamDataFrame" title="(in pyam v1.5.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyam.IamDataFrame</span></code></a> objects.
These include:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;name&gt;::pyam</span></code> for most of the above derived quantities.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CAP::pyam</span></code> (from <code class="docutils literal notranslate"><span class="pre">CAP</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CAP_NEW::pyam</span></code> (from <code class="docutils literal notranslate"><span class="pre">CAP_NEW</span></code>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">map_&lt;name&gt;</span></code> as “one-hot” or indicator quantities for the respective MESSAGE<em>ix</em> mapping sets <code class="docutils literal notranslate"><span class="pre">cat_&lt;name&gt;</span></code>.</p></li>
<li><p>Standard reports <code class="docutils literal notranslate"><span class="pre">message::system</span></code>, <code class="docutils literal notranslate"><span class="pre">message::costs</span></code>, and <code class="docutils literal notranslate"><span class="pre">message::emissions</span></code> per <a class="reference internal" href="#message_ix.reporting.REPORTS" title="message_ix.reporting.REPORTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">REPORTS</span></code></a>.</p></li>
<li><p>The report <code class="docutils literal notranslate"><span class="pre">message::default</span></code>, collecting all of the above reports.</p></li>
</ul>
<p>These automatic contents are prepared using:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.DERIVED" title="message_ix.reporting.DERIVED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DERIVED</span></code></a></p></td>
<td><p>Automatic quantities derived by other calculations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.DIMS" title="message_ix.reporting.DIMS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DIMS</span></code></a></p></td>
<td><p>Short names for dimensions (sets) in the MESSAGE<em>ix</em> framework.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.MAPPING_SETS" title="message_ix.reporting.MAPPING_SETS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MAPPING_SETS</span></code></a></p></td>
<td><p>MESSAGE mapping sets, converted to reporting quantities via <code class="xref py py-meth docutils literal notranslate"><span class="pre">map_as_qty()</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.PRODUCTS" title="message_ix.reporting.PRODUCTS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PRODUCTS</span></code></a></p></td>
<td><p>Automatic quantities that are the <code class="xref py py-meth docutils literal notranslate"><span class="pre">product()</span></code> of two others.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.PYAM_CONVERT" title="message_ix.reporting.PYAM_CONVERT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PYAM_CONVERT</span></code></a></p></td>
<td><p>Quantities to automatically convert to IAMC format using <code class="xref py py-meth docutils literal notranslate"><span class="pre">as_pyam()</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.REPORTS" title="message_ix.reporting.REPORTS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">REPORTS</span></code></a></p></td>
<td><p>Automatic reports that <code class="xref py py-meth docutils literal notranslate"><span class="pre">concat()</span></code> quantities converted to IAMC format.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">Reporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#ixmp.reporting.Reporter" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.reporting.reporter.Reporter</span></code></a></p>
<p>MESSAGEix Reporter.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.add" title="message_ix.reporting.Reporter.add"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add</span></code></a>(data, *args, **kwargs)</p></td>
<td><p>General-purpose method to add computations.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.add_file" title="message_ix.reporting.Reporter.add_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_file</span></code></a>(path[, key])</p></td>
<td><p>Add exogenous quantities from <em>path</em>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.add_product" title="message_ix.reporting.Reporter.add_product"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_product</span></code></a>(key, *quantities[, sums])</p></td>
<td><p>Add a computation that takes the product of <em>quantities</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.add_queue" title="message_ix.reporting.Reporter.add_queue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_queue</span></code></a>(queue[, max_tries, fail])</p></td>
<td><p>Add tasks from a list or <cite>queue</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.add_single" title="message_ix.reporting.Reporter.add_single"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_single</span></code></a>(key, *computation[, strict, index])</p></td>
<td><p>Add a single <cite>computation</cite> at <cite>key</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.aggregate" title="message_ix.reporting.Reporter.aggregate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aggregate</span></code></a>(qty, tag, dims_or_groups[, ...])</p></td>
<td><p>Add a computation that aggregates <em>qty</em>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.apply" title="message_ix.reporting.Reporter.apply"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply</span></code></a>(generator, *keys, **kwargs)</p></td>
<td><p>Add computations by applying <cite>generator</cite> to <cite>keys</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.check_keys" title="message_ix.reporting.Reporter.check_keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_keys</span></code></a>(*keys[, action])</p></td>
<td><p>Check that <cite>keys</cite> are in the Computer.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.configure" title="message_ix.reporting.Reporter.configure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">configure</span></code></a>([path, fail])</p></td>
<td><p>Configure the Computer.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.convert_pyam" title="message_ix.reporting.Reporter.convert_pyam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_pyam</span></code></a>(quantities[, tag])</p></td>
<td><p>Add conversion of one or more <strong>quantities</strong> to IAMC format.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.describe" title="message_ix.reporting.Reporter.describe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">describe</span></code></a>([key, quiet])</p></td>
<td><p>Return a string describing the computations that produce <cite>key</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.disaggregate" title="message_ix.reporting.Reporter.disaggregate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disaggregate</span></code></a>(qty, new_dim[, method, args])</p></td>
<td><p>Add a computation that disaggregates <cite>qty</cite> using <cite>method</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.finalize" title="message_ix.reporting.Reporter.finalize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finalize</span></code></a>(scenario)</p></td>
<td><p>Prepare the Reporter to act on <cite>scenario</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.from_scenario" title="message_ix.reporting.Reporter.from_scenario"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_scenario</span></code></a>(scenario, **kwargs)</p></td>
<td><p>Create a Reporter by introspecting <cite>scenario</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.full_key" title="message_ix.reporting.Reporter.full_key"><code class="xref py py-obj docutils literal notranslate"><span class="pre">full_key</span></code></a>(name_or_key)</p></td>
<td><p>Return the full-dimensionality key for <cite>name_or_key</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.get" title="message_ix.reporting.Reporter.get"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code></a>([key])</p></td>
<td><p>Execute and return the result of the computation <cite>key</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.infer_keys" title="message_ix.reporting.Reporter.infer_keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">infer_keys</span></code></a>(key_or_keys[, dims])</p></td>
<td><p>Infer complete <cite>key_or_keys</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.keys" title="message_ix.reporting.Reporter.keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code></a>()</p></td>
<td><p>Return the keys of <code class="xref py py-attr docutils literal notranslate"><span class="pre">graph</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.set_filters" title="message_ix.reporting.Reporter.set_filters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_filters</span></code></a>(**filters)</p></td>
<td><p>Apply <cite>filters</cite> ex ante (before computations occur).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.visualize" title="message_ix.reporting.Reporter.visualize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">visualize</span></code></a>(filename, **kwargs)</p></td>
<td><p>Generate an image describing the Computer structure.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.Reporter.write" title="message_ix.reporting.Reporter.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(key, path)</p></td>
<td><p>Write the result of <cite>key</cite> to the file <cite>path</cite>.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.add" title="Permalink to this definition"></a></dt>
<dd><p>General-purpose method to add computations.</p>
<p><a class="reference internal" href="#message_ix.reporting.Reporter.add" title="message_ix.reporting.Reporter.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a> can be called in several ways; its behaviour depends on <cite>data</cite>; see
below. It chains to methods such as <a class="reference internal" href="#message_ix.reporting.Reporter.add_single" title="message_ix.reporting.Reporter.add_single"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_single()</span></code></a>, <a class="reference internal" href="#message_ix.reporting.Reporter.add_queue" title="message_ix.reporting.Reporter.add_queue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_queue()</span></code></a>,
and/or <a class="reference internal" href="#message_ix.reporting.Reporter.apply" title="message_ix.reporting.Reporter.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>; each can also be called directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Some or all of the keys added to the Computer.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of Key-like</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#message_ix.reporting.Reporter.add_single" title="message_ix.reporting.Reporter.add_single"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_single</span></code></a>, <a class="reference internal" href="#message_ix.reporting.Reporter.add_queue" title="message_ix.reporting.Reporter.add_queue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_queue</span></code></a>, <a class="reference internal" href="#message_ix.reporting.Reporter.apply" title="message_ix.reporting.Reporter.apply"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add_aggregate">
<span class="sig-name descname"><span class="pre">add_aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Hashable" title="(in Python v3.10)"><span class="pre">Hashable</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims_or_groups</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.10)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><span class="pre">xarray.core.dataarray.DataArray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sums</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.add_aggregate" title="Permalink to this definition"></a></dt>
<dd><p>Add a computation that aggregates <em>qty</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qty</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code> or str) – Key of the quantity to be aggregated.</p></li>
<li><p><strong>tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Additional string to add to the end the key for the aggregated
quantity.</p></li>
<li><p><strong>dims_or_groups</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>iterable of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Name(s) of the dimension(s) to sum over, or nested dict.</p></li>
<li><p><strong>weights</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code>, optional) – Weights for weighted aggregation.</p></li>
<li><p><strong>keep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">computations.aggregate</span></code>.</p></li>
<li><p><strong>sums</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Passed to <a class="reference internal" href="#message_ix.reporting.Reporter.add" title="message_ix.reporting.Reporter.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>.</p></li>
<li><p><strong>fail</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Passed to <a class="reference internal" href="#message_ix.reporting.Reporter.add_queue" title="message_ix.reporting.Reporter.add_queue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_queue()</span></code></a> via <a class="reference internal" href="#message_ix.reporting.Reporter.add" title="message_ix.reporting.Reporter.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The key of the newly-added node.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add_as_pyam">
<span class="sig-name descname"><span class="pre">add_as_pyam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quantities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'iamc'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.add_as_pyam" title="Permalink to this definition"></a></dt>
<dd><p>Add conversion of one or more <strong>quantities</strong> to IAMC format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quantities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>Key</em><em> or </em><em>list of</em><em> (</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>Key</em><em>)</em>) – Keys for quantities to transform.</p></li>
<li><p><strong>tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Tag to append to new Keys.</p></li>
<li><p><strong>kwargs</strong> – Any keyword arguments accepted by <code class="xref py py-func docutils literal notranslate"><span class="pre">as_pyam()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Each task converts a <code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code> into a <a class="reference external" href="https://pyam-iamc.readthedocs.io/en/stable/api/iamdataframe.html#pyam.IamDataFrame" title="(in pyam v1.5.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyam.IamDataFrame</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Key</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">as_pyam</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add_file">
<span class="sig-name descname"><span class="pre">add_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.add_file" title="Permalink to this definition"></a></dt>
<dd><p>Add exogenous quantities from <em>path</em>.</p>
<p>Computing the <cite>key</cite> or using it in other computations causes <cite>path</cite> to
be loaded and converted to <code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – Path to the file, e.g. ‘/path/to/foo.ext’.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>.Key</em><em>, </em><em>optional</em>) – Key for the quantity read from the file.</p></li>
<li><p><strong>dims</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><em>set</em></a>) – Either a collection of names for dimensions of the quantity, or a
mapping from names appearing in the input to dimensions.</p></li>
<li><p><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://pint.readthedocs.io/en/stable/developers_reference.html#pint.Unit" title="(in pint v0.19.1)"><em>pint.Unit</em></a>) – Units to apply to the loaded Quantity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either <cite>key</cite> (if given) or e.g. <code class="docutils literal notranslate"><span class="pre">file:foo.ext</span></code> based on the <cite>path</cite> name,
without directory components.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>.Key</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.load_file" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">genno.computations.load_file</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add_load_file">
<span class="sig-name descname"><span class="pre">add_load_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.add_load_file" title="Permalink to this definition"></a></dt>
<dd><p>Add exogenous quantities from <em>path</em>.</p>
<p>Computing the <cite>key</cite> or using it in other computations causes <cite>path</cite> to
be loaded and converted to <code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – Path to the file, e.g. ‘/path/to/foo.ext’.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>.Key</em><em>, </em><em>optional</em>) – Key for the quantity read from the file.</p></li>
<li><p><strong>dims</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.10)"><em>set</em></a>) – Either a collection of names for dimensions of the quantity, or a
mapping from names appearing in the input to dimensions.</p></li>
<li><p><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://pint.readthedocs.io/en/stable/developers_reference.html#pint.Unit" title="(in pint v0.19.1)"><em>pint.Unit</em></a>) – Units to apply to the loaded Quantity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either <cite>key</cite> (if given) or e.g. <code class="docutils literal notranslate"><span class="pre">file:foo.ext</span></code> based on the <cite>path</cite> name,
without directory components.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>.Key</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.load_file" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">genno.computations.load_file</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add_product">
<span class="sig-name descname"><span class="pre">add_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">quantities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sums</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.add_product" title="Permalink to this definition"></a></dt>
<dd><p>Add a computation that takes the product of <em>quantities</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>Key</em>) – Key of the new quantity. If a Key, any dimensions are ignored; the
dimensions of the product are the union of the dimensions of
<em>quantities</em>.</p></li>
<li><p><strong>sums</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, all partial sums of the new quantity are also
added.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The full key of the new quantity.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add_queue">
<span class="sig-name descname"><span class="pre">add_queue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.10)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_tries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Hashable" title="(in Python v3.10)"><span class="pre">Hashable</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.reporting.Reporter.add_queue" title="Permalink to this definition"></a></dt>
<dd><p>Add tasks from a list or <cite>queue</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> (iterable of 2-<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>) – The members of each tuple are the arguments (e.g. <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> or tuple)
and keyword arguments (e.g <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) to <a class="reference internal" href="#message_ix.reporting.Reporter.add" title="message_ix.reporting.Reporter.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>.</p></li>
<li><p><strong>max_tries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Retry adding elements up to this many times.</p></li>
<li><p><strong>fail</strong> (“raise” or str or <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> level, optional) – Action to take when a computation from <cite>queue</cite> cannot be added after
<cite>max_tries</cite>: “raise” an exception, or log messages on the indicated level
and continue.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add_single">
<span class="sig-name descname"><span class="pre">add_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">computation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.add_single" title="Permalink to this definition"></a></dt>
<dd><p>Add a single <cite>computation</cite> at <cite>key</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>Key</em><em> or </em><em>hashable</em>) – A string, Key, or other value identifying the output of <cite>computation</cite>.</p></li>
<li><p><strong>computation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – Any computation. See <code class="xref py py-attr docutils literal notranslate"><span class="pre">graph</span></code>.</p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, <cite>key</cite> must not already exist in the Computer, and any keys
referred to by <cite>computation</cite> must exist.</p></li>
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, <cite>key</cite> is added to the index as a full-resolution key, so it can be
later retrieved with <a class="reference internal" href="#message_ix.reporting.Reporter.full_key" title="message_ix.reporting.Reporter.full_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">full_key()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyExistsError</strong> – If <cite>strict</cite> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> and either (a) <cite>key</cite> already exists; or (b)
    <cite>sums</cite> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> and the key for one of the partial sums of <cite>key</cite>
    already exists.</p></li>
<li><p><strong>MissingKeyError</strong> – If <cite>strict</cite> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> and any key referred to by <cite>computation</cite> does
    not exist.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.add_tasks">
<span class="sig-name descname"><span class="pre">add_tasks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fail_action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'raise'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.reporting.Reporter.add_tasks" title="Permalink to this definition"></a></dt>
<dd><p>Add the pre-defined MESSAGEix reporting tasks to the Reporter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fail_action</strong> (<em>“raise”</em><em> or </em><em>logging level</em>) – Passed to the <cite>fail</cite> argument of <a class="reference internal" href="#message_ix.reporting.Reporter.add_queue" title="message_ix.reporting.Reporter.add_queue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Reporter.add_queue()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Hashable" title="(in Python v3.10)"><span class="pre">Hashable</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims_or_groups</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.10)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><span class="pre">xarray.core.dataarray.DataArray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sums</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.aggregate" title="Permalink to this definition"></a></dt>
<dd><p>Add a computation that aggregates <em>qty</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qty</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code> or str) – Key of the quantity to be aggregated.</p></li>
<li><p><strong>tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Additional string to add to the end the key for the aggregated
quantity.</p></li>
<li><p><strong>dims_or_groups</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>iterable of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Name(s) of the dimension(s) to sum over, or nested dict.</p></li>
<li><p><strong>weights</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code>, optional) – Weights for weighted aggregation.</p></li>
<li><p><strong>keep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">computations.aggregate</span></code>.</p></li>
<li><p><strong>sums</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Passed to <a class="reference internal" href="#message_ix.reporting.Reporter.add" title="message_ix.reporting.Reporter.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>.</p></li>
<li><p><strong>fail</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Passed to <a class="reference internal" href="#message_ix.reporting.Reporter.add_queue" title="message_ix.reporting.Reporter.add_queue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_queue()</span></code></a> via <a class="reference internal" href="#message_ix.reporting.Reporter.add" title="message_ix.reporting.Reporter.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The key of the newly-added node.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generator</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.apply" title="Permalink to this definition"></a></dt>
<dd><p>Add computations by applying <cite>generator</cite> to <cite>keys</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator</strong> (<em>callable</em>) – Function to apply to <cite>keys</cite>.</p></li>
<li><p><strong>keys</strong> (<em>hashable</em>) – The starting key(s).</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments to <cite>generator</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.cache">
<span class="sig-name descname"><span class="pre">cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.cache" title="Permalink to this definition"></a></dt>
<dd><p>Decorate <cite>func</cite> so that its return value is cached.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://genno.readthedocs.io/en/latest/cache.html" title="(in genno)"><span>Caching</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.check_keys">
<span class="sig-name descname"><span class="pre">check_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raise'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.reporting.Reporter.check_keys" title="Permalink to this definition"></a></dt>
<dd><p>Check that <cite>keys</cite> are in the Computer.</p>
<p>If any of <cite>keys</cite> is not in the Computer and <cite>action</cite> is “raise” (the default)
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyError</span></code></a> is raised. Otherwise, a list is returned with either the key
from <cite>keys</cite>, or the corresponding <a class="reference internal" href="#message_ix.reporting.Reporter.full_key" title="message_ix.reporting.Reporter.full_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">full_key()</span></code></a>.</p>
<p>If <cite>action</cite> is “return” (or any other value), <code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code> is returned on
missing keys.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.10)"><span class="pre">pathlib.Path</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'raise'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.configure" title="Permalink to this definition"></a></dt>
<dd><p>Configure the Computer.</p>
<p>Accepts a <cite>path</cite> to a configuration file and/or keyword arguments.
Configuration keys loaded from file are superseded by keyword arguments.
Messages are logged at level <code class="xref py py-data docutils literal notranslate"><span class="pre">logging.INFO</span></code> if <cite>config</cite> contains
unhandled sections.</p>
<p>See <a class="reference external" href="https://genno.readthedocs.io/en/latest/config.html" title="(in genno)"><span>Configuration</span></a> for a list of all configuration sections and keys, and details
of the configuration file format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>.Path</em><em>, </em><em>optional</em>) – Path to a configuration file in JSON or YAML format.</p></li>
<li><p><strong>fail</strong> (“raise” or str or <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> level, optional) – Passed to <a class="reference internal" href="#message_ix.reporting.Reporter.add_queue" title="message_ix.reporting.Reporter.add_queue"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_queue()</span></code></a>. If not “raise”, then log messages are
generated for config handlers that fail. The Computer may be only partially
configured.</p></li>
<li><p><strong>**config</strong> – Configuration keys/sections and values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.convert_pyam">
<span class="sig-name descname"><span class="pre">convert_pyam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quantities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'iamc'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.convert_pyam" title="Permalink to this definition"></a></dt>
<dd><p>Add conversion of one or more <strong>quantities</strong> to IAMC format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quantities</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>Key</em><em> or </em><em>list of</em><em> (</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>Key</em><em>)</em>) – Keys for quantities to transform.</p></li>
<li><p><strong>tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Tag to append to new Keys.</p></li>
<li><p><strong>kwargs</strong> – Any keyword arguments accepted by <code class="xref py py-func docutils literal notranslate"><span class="pre">as_pyam()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Each task converts a <code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code> into a <a class="reference external" href="https://pyam-iamc.readthedocs.io/en/stable/api/iamdataframe.html#pyam.IamDataFrame" title="(in pyam v1.5.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyam.IamDataFrame</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Key</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">as_pyam</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.describe">
<span class="sig-name descname"><span class="pre">describe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.describe" title="Permalink to this definition"></a></dt>
<dd><p>Return a string describing the computations that produce <cite>key</cite>.</p>
<p>If <cite>key</cite> is not provided, all keys in the Computer are described.</p>
<p>Unless <cite>quiet</cite>, the string is also printed to the console.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Description of computations.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.disaggregate">
<span class="sig-name descname"><span class="pre">disaggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qty</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'shares'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.disaggregate" title="Permalink to this definition"></a></dt>
<dd><p>Add a computation that disaggregates <cite>qty</cite> using <cite>method</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qty</strong> (<em>hashable</em>) – Key of the quantity to be disaggregated.</p></li>
<li><p><strong>new_dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the new dimension of the disaggregated variable.</p></li>
<li><p><strong>method</strong> (<em>callable</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Disaggregation method. If a callable, then it is applied to <cite>var</cite> with any
extra <cite>args</cite>. If a string, then a method named ‘disaggregate_{method}’ is
used.</p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – Additional arguments to the <cite>method</cite>. The first element should be the key
for a quantity giving shares for disaggregation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The key of the newly-added node.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><span class="pre">ixmp.core.scenario.Scenario</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.reporting.Reporter.finalize" title="Permalink to this definition"></a></dt>
<dd><p>Prepare the Reporter to act on <cite>scenario</cite>.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code> (i.e. including <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.Scenario</span></code></a> and
<a class="reference internal" href="api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a>) object <cite>scenario</cite> is stored with the key
<code class="docutils literal notranslate"><span class="pre">'scenario'</span></code>. All subsequent processing will act on data from this Scenario.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.from_scenario">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#message_ix.reporting.Reporter" title="message_ix.reporting.Reporter"><span class="pre">message_ix.reporting.Reporter</span></a></span></span><a class="headerlink" href="#message_ix.reporting.Reporter.from_scenario" title="Permalink to this definition"></a></dt>
<dd><p>Create a Reporter by introspecting <cite>scenario</cite>.</p>
<p>Warnings are logged if <cite>scenario</cite> does not have a solution. In this case, any
keys/computations based on model output (ixmp variables and equations) may
return an empty Quantity, fail, or behave unpredictably. Keys/computations
based only on model input (ixmp sets and parameters) should function normally.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A reporter for <cite>scenario</cite>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#message_ix.reporting.Reporter" title="message_ix.reporting.Reporter">message_ix.reporting.Reporter</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.full_key">
<span class="sig-name descname"><span class="pre">full_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_or_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Hashable" title="(in Python v3.10)"><span class="pre">Hashable</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Hashable" title="(in Python v3.10)"><span class="pre">Hashable</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.reporting.Reporter.full_key" title="Permalink to this definition"></a></dt>
<dd><p>Return the full-dimensionality key for <cite>name_or_key</cite>.</p>
<p>An quantity ‘foo’ with dimensions (a, c, n, q, x) is available in the Computer
as <code class="docutils literal notranslate"><span class="pre">'foo:a-c-n-q-x'</span></code>. This <code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code> can be retrieved with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">full_key</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">full_key</span><span class="p">(</span><span class="s2">&quot;foo:c&quot;</span><span class="p">)</span>
<span class="c1"># etc.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.10)"><strong>KeyError</strong></a> – if <cite>name_or_key</cite> is not in the graph.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.get" title="Permalink to this definition"></a></dt>
<dd><p>Execute and return the result of the computation <cite>key</cite>.</p>
<p>Only <cite>key</cite> and its dependencies are computed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – If not provided, <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_key</span></code> is used.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If <cite>key</cite> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_key</span></code> are both <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.get_comp">
<span class="sig-name descname"><span class="pre">get_comp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.reporting.Reporter.get_comp" title="Permalink to this definition"></a></dt>
<dd><p>Return a computation function.</p>
<p><a class="reference internal" href="#message_ix.reporting.Reporter.get_comp" title="message_ix.reporting.Reporter.get_comp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_comp()</span></code></a> checks each of the <code class="xref py py-attr docutils literal notranslate"><span class="pre">modules</span></code> for a function or callable
with the given <cite>name</cite>. Modules at the end of the list take precedence over those
earlier in the lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>.callable</em></p></li>
<li><p><em>None</em> – If there is no computation with the given <cite>name</cite> in any of <code class="xref py py-attr docutils literal notranslate"><span class="pre">modules</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.infer_keys">
<span class="sig-name descname"><span class="pre">infer_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_or_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Hashable" title="(in Python v3.10)"><span class="pre">Hashable</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Hashable" title="(in Python v3.10)"><span class="pre">Hashable</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.infer_keys" title="Permalink to this definition"></a></dt>
<dd><p>Infer complete <cite>key_or_keys</cite>.</p>
<p>Each return value is one of:</p>
<ul class="simple">
<li><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code> with either</p>
<ul>
<li><p>dimensions <cite>dims</cite>, if any are given, otherwise</p></li>
<li><p>its full dimensionality (cf. <a class="reference internal" href="#message_ix.reporting.Reporter.full_key" title="message_ix.reporting.Reporter.full_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">full_key()</span></code></a>)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, the same as input, if the key is not defined in the Computer.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key_or_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>Key</em><em> or </em><em>list of str</em><em> or </em><em>Key</em>) – </p></li>
<li><p><strong>dims</strong> (<em>list of str</em><em>, </em><em>optional</em>) – Drop all but these dimensions from the returned key(s).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>str or Key</em> – If <cite>key_or_keys</cite> is a single <code class="xref py py-data docutils literal notranslate"><span class="pre">KeyLike</span></code>.</p></li>
<li><p><em>list of str or Key</em> – If <cite>key_or_keys</cite> is an iterable of <code class="xref py py-data docutils literal notranslate"><span class="pre">KeyLike</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.keys" title="Permalink to this definition"></a></dt>
<dd><p>Return the keys of <code class="xref py py-attr docutils literal notranslate"><span class="pre">graph</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.require_compat">
<span class="sig-name descname"><span class="pre">require_compat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">module</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.require_compat" title="Permalink to this definition"></a></dt>
<dd><p>Register computations from <code class="xref py py-mod docutils literal notranslate"><span class="pre">genno.compat</span></code>/others for <code class="xref py py-func docutils literal notranslate"><span class="pre">get_comp()</span></code>.</p>
<p>The specified module is appended to <code class="xref py py-attr docutils literal notranslate"><span class="pre">modules</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pkg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>module</em>) – <p>One of:</p>
<ul class="simple">
<li><p>the name of a package (e.g. “plotnine”), corresponding to a submodule of
<code class="xref py py-mod docutils literal notranslate"><span class="pre">genno.compat</span></code>, e.g. <a class="reference external" href="https://genno.readthedocs.io/en/latest/compat-plotnine.html#module-genno.compat.plotnine" title="(in genno)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">genno.compat.plotnine</span></code></a>.
<code class="docutils literal notranslate"><span class="pre">genno.compat.{pkg}.computations</span></code> is added.</p></li>
<li><p>the name of an arbitary module, e.g. “foo.bar”</p></li>
<li><p>a previously imported module object.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ModuleNotFoundError" title="(in Python v3.10)"><strong>ModuleNotFoundError</strong></a> – If the required packages are missing.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Computations packaged with genno for compatibility:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Computer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">require_compat</span><span class="p">(</span><span class="s2">&quot;pyam&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Computations in another module, using the module name:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">require_compat</span><span class="p">(</span><span class="s2">&quot;ixmp.reporting.computations&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or using imported module:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ixmp.reporting.computations</span> <span class="k">as</span> <span class="nn">mod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">require_compat</span><span class="p">(</span><span class="n">mod</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.set_filters">
<span class="sig-name descname"><span class="pre">set_filters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">filters</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.reporting.Reporter.set_filters" title="Permalink to this definition"></a></dt>
<dd><p>Apply <cite>filters</cite> ex ante (before computations occur).</p>
<p>See the description of <code class="xref py py-func docutils literal notranslate"><span class="pre">filters()</span></code> under <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#reporting-config" title="(in ixmp v3.5.1.dev7+ge795853)"><span>Configuration</span></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.unit_registry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unit_registry</span></span><a class="headerlink" href="#message_ix.reporting.Reporter.unit_registry" title="Permalink to this definition"></a></dt>
<dd><p>The <code class="xref py py-meth docutils literal notranslate"><span class="pre">pint.UnitRegistry()</span></code> used by the Computer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.visualize">
<span class="sig-name descname"><span class="pre">visualize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.visualize" title="Permalink to this definition"></a></dt>
<dd><p>Generate an image describing the Computer structure.</p>
<p>This is a shorthand for <code class="xref py py-meth docutils literal notranslate"><span class="pre">dask.visualize()</span></code>. Requires
<a class="reference external" href="https://pypi.org/project/graphviz/">graphviz</a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.reporting.Reporter.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.Reporter.write" title="Permalink to this definition"></a></dt>
<dd><p>Write the result of <cite>key</cite> to the file <cite>path</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="message_ix.reporting.DERIVED">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">DERIVED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[('tom:nl-t-yv-ya',</span> <span class="pre">(&lt;function</span> <span class="pre">add&gt;,</span> <span class="pre">'fom:nl-t-yv-ya',</span> <span class="pre">'vom:nl-t-yv-ya')),</span> <span class="pre">('addon</span> <span class="pre">conversion:nl-t-yv-ya-m-h-ta',</span> <span class="pre">(functools.partial(&lt;function</span> <span class="pre">broadcast_map&gt;,</span> <span class="pre">rename={'n':</span> <span class="pre">'nl'}),</span> <span class="pre">'addon_conversion:n-t-yv-ya-m-h-type_addon',</span> <span class="pre">'map_addon')),</span> <span class="pre">('addon</span> <span class="pre">up:nl-t-ya-m-h-ta',</span> <span class="pre">(functools.partial(&lt;function</span> <span class="pre">broadcast_map&gt;,</span> <span class="pre">rename={'n':</span> <span class="pre">'nl'}),</span> <span class="pre">'addon_up:n-t-ya-m-h-type_addon',</span> <span class="pre">'map_addon')),</span> <span class="pre">('price</span> <span class="pre">emission:n-e-t-y',</span> <span class="pre">(&lt;function</span> <span class="pre">broadcast_map&gt;,</span> <span class="pre">(&lt;function</span> <span class="pre">broadcast_map&gt;,</span> <span class="pre">'PRICE_EMISSION:n-type_emission-type_tec-y',</span> <span class="pre">'map_emission'),</span> <span class="pre">'map_tec'))]</span></em><a class="headerlink" href="#message_ix.reporting.DERIVED" title="Permalink to this definition"></a></dt>
<dd><p>Automatic quantities derived by other calculations.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="message_ix.reporting.DIMS">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">DIMS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'commodity':</span> <span class="pre">'c',</span> <span class="pre">'emission':</span> <span class="pre">'e',</span> <span class="pre">'grade':</span> <span class="pre">'g',</span> <span class="pre">'land_scenario':</span> <span class="pre">'s',</span> <span class="pre">'land_type':</span> <span class="pre">'u',</span> <span class="pre">'level':</span> <span class="pre">'l',</span> <span class="pre">'mode':</span> <span class="pre">'m',</span> <span class="pre">'node':</span> <span class="pre">'n',</span> <span class="pre">'node_dest':</span> <span class="pre">'nd',</span> <span class="pre">'node_loc':</span> <span class="pre">'nl',</span> <span class="pre">'node_origin':</span> <span class="pre">'no',</span> <span class="pre">'node_rel':</span> <span class="pre">'nr',</span> <span class="pre">'node_share':</span> <span class="pre">'ns',</span> <span class="pre">'rating':</span> <span class="pre">'q',</span> <span class="pre">'relation':</span> <span class="pre">'r',</span> <span class="pre">'technology':</span> <span class="pre">'t',</span> <span class="pre">'technology_addon':</span> <span class="pre">'ta',</span> <span class="pre">'technology_primary':</span> <span class="pre">'tp',</span> <span class="pre">'time':</span> <span class="pre">'h',</span> <span class="pre">'time_dest':</span> <span class="pre">'hd',</span> <span class="pre">'time_origin':</span> <span class="pre">'ho',</span> <span class="pre">'year':</span> <span class="pre">'y',</span> <span class="pre">'year_act':</span> <span class="pre">'ya',</span> <span class="pre">'year_rel':</span> <span class="pre">'yr',</span> <span class="pre">'year_vtg':</span> <span class="pre">'yv'}</span></em><a class="headerlink" href="#message_ix.reporting.DIMS" title="Permalink to this definition"></a></dt>
<dd><p>Short names for dimensions (sets) in the MESSAGE<em>ix</em> framework.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="message_ix.reporting.MAPPING_SETS">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">MAPPING_SETS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[('addon',</span> <span class="pre">'t'),</span> <span class="pre">('emission',</span> <span class="pre">'e'),</span> <span class="pre">('tec',</span> <span class="pre">'t'),</span> <span class="pre">('year',</span> <span class="pre">'y')]</span></em><a class="headerlink" href="#message_ix.reporting.MAPPING_SETS" title="Permalink to this definition"></a></dt>
<dd><p>MESSAGE mapping sets, converted to reporting quantities via <code class="xref py py-meth docutils literal notranslate"><span class="pre">map_as_qty()</span></code>.</p>
<p>For instance, the mapping set <code class="docutils literal notranslate"><span class="pre">cat_addon</span></code> is available at the reporting key
<code class="docutils literal notranslate"><span class="pre">map_addon</span></code>, which produces a <code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code> with the two dimensions
<code class="docutils literal notranslate"><span class="pre">type_addon</span></code> and <code class="docutils literal notranslate"><span class="pre">ta</span></code> (short form of <code class="docutils literal notranslate"><span class="pre">technology_addon</span></code>). This Quantity
contains the value 1 at every valid (type_addon, ta) location, and 0 elsewhere.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="message_ix.reporting.PRODUCTS">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">PRODUCTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(('out',</span> <span class="pre">('output',</span> <span class="pre">'ACT')),</span> <span class="pre">('in',</span> <span class="pre">('input',</span> <span class="pre">'ACT')),</span> <span class="pre">('rel',</span> <span class="pre">('relation_activity',</span> <span class="pre">'ACT')),</span> <span class="pre">('emi',</span> <span class="pre">('emission_factor',</span> <span class="pre">'ACT')),</span> <span class="pre">('inv',</span> <span class="pre">('inv_cost',</span> <span class="pre">'CAP_NEW')),</span> <span class="pre">('fom',</span> <span class="pre">('fix_cost',</span> <span class="pre">'CAP')),</span> <span class="pre">('vom',</span> <span class="pre">('var_cost',</span> <span class="pre">'ACT')),</span> <span class="pre">('land_out',</span> <span class="pre">('land_output',</span> <span class="pre">'LAND')),</span> <span class="pre">('land_use_qty',</span> <span class="pre">('land_use',</span> <span class="pre">'LAND')),</span> <span class="pre">('land_emi',</span> <span class="pre">('land_emission',</span> <span class="pre">'LAND')),</span> <span class="pre">('addon</span> <span class="pre">ACT',</span> <span class="pre">('addon</span> <span class="pre">conversion',</span> <span class="pre">'ACT')),</span> <span class="pre">('addon</span> <span class="pre">in',</span> <span class="pre">('input',</span> <span class="pre">'addon</span> <span class="pre">ACT')),</span> <span class="pre">('addon</span> <span class="pre">out',</span> <span class="pre">('output',</span> <span class="pre">'addon</span> <span class="pre">ACT')),</span> <span class="pre">('addon</span> <span class="pre">potential',</span> <span class="pre">('addon</span> <span class="pre">up',</span> <span class="pre">'addon</span> <span class="pre">ACT')))</span></em><a class="headerlink" href="#message_ix.reporting.PRODUCTS" title="Permalink to this definition"></a></dt>
<dd><p>Automatic quantities that are the <code class="xref py py-meth docutils literal notranslate"><span class="pre">product()</span></code> of two others.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="message_ix.reporting.PYAM_CONVERT">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">PYAM_CONVERT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[('out:nl-t-ya-m-nd-c-l',</span> <span class="pre">'ya',</span> <span class="pre">{'kind':</span> <span class="pre">'ene',</span> <span class="pre">'var':</span> <span class="pre">'out'}),</span> <span class="pre">('in:nl-t-ya-m-no-c-l',</span> <span class="pre">'ya',</span> <span class="pre">{'kind':</span> <span class="pre">'ene',</span> <span class="pre">'var':</span> <span class="pre">'in'}),</span> <span class="pre">('CAP:nl-t-ya',</span> <span class="pre">'ya',</span> <span class="pre">{'var':</span> <span class="pre">'capacity'}),</span> <span class="pre">('CAP_NEW:nl-t-yv',</span> <span class="pre">'yv',</span> <span class="pre">{'var':</span> <span class="pre">'new</span> <span class="pre">capacity'}),</span> <span class="pre">('inv:nl-t-yv',</span> <span class="pre">'yv',</span> <span class="pre">{'var':</span> <span class="pre">'inv</span> <span class="pre">cost'}),</span> <span class="pre">('fom:nl-t-ya',</span> <span class="pre">'ya',</span> <span class="pre">{'var':</span> <span class="pre">'fom</span> <span class="pre">cost'}),</span> <span class="pre">('vom:nl-t-ya',</span> <span class="pre">'ya',</span> <span class="pre">{'var':</span> <span class="pre">'vom</span> <span class="pre">cost'}),</span> <span class="pre">('tom:nl-t-ya',</span> <span class="pre">'ya',</span> <span class="pre">{'var':</span> <span class="pre">'total</span> <span class="pre">om</span> <span class="pre">cost'}),</span> <span class="pre">('emi:nl-t-ya-m-e',</span> <span class="pre">'ya',</span> <span class="pre">{'kind':</span> <span class="pre">'emi',</span> <span class="pre">'var':</span> <span class="pre">'emis'})]</span></em><a class="headerlink" href="#message_ix.reporting.PYAM_CONVERT" title="Permalink to this definition"></a></dt>
<dd><p>Quantities to automatically convert to IAMC format using
<code class="xref py py-meth docutils literal notranslate"><span class="pre">as_pyam()</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="message_ix.reporting.REPORTS">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">REPORTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'message:costs':</span> <span class="pre">['inv:pyam',</span> <span class="pre">'fom:pyam',</span> <span class="pre">'vom:pyam',</span> <span class="pre">'tom:pyam'],</span> <span class="pre">'message:emissions':</span> <span class="pre">['emi:pyam'],</span> <span class="pre">'message:system':</span> <span class="pre">['out:pyam',</span> <span class="pre">'in:pyam',</span> <span class="pre">'CAP:pyam',</span> <span class="pre">'CAP_NEW:pyam']}</span></em><a class="headerlink" href="#message_ix.reporting.REPORTS" title="Permalink to this definition"></a></dt>
<dd><p>Automatic reports that <code class="xref py py-meth docutils literal notranslate"><span class="pre">concat()</span></code> quantities converted to IAMC
format.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">ComputationError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Wrapper to print intelligible exception information for <code class="xref py py-meth docutils literal notranslate"><span class="pre">Computer.get()</span></code>.</p>
<p>In order to aid in debugging, this helper:</p>
<ul class="simple">
<li><p>Omits the parts of the stack trace that are internal to <code class="xref py py-mod docutils literal notranslate"><span class="pre">dask</span></code>, and</p></li>
<li><p>Gives the key in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Computer.graph</span></code> and the computation/task that caused
the exception.</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">Key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>A hashable key for a quantity that includes its dimensionality.</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return a new Key with <cite>tag</cite> appended.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return a new Key with additional dimensions <cite>dims</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bare_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>If <cite>value</cite> is a bare name (no dims or tags), return it; else <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dims</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em></dt>
<dd><p>Dimensions of the quantity, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">dims</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return a new Key with <cite>dims</cite> dropped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_str_or_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Hashable" title="(in Python v3.10)"><span class="pre">Hashable</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a></span></span></dt>
<dd><p>Return a new Key from <em>value</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>Key</em>) – Value to use to generate a new Key.</p></li>
<li><p><strong>drop</strong> (list of str or <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, optional) – Existing dimensions of <em>value</em> to drop. See <code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code>.</p></li>
<li><p><strong>append</strong> (<em>list of str</em><em>, </em><em>optional.</em>) – New dimensions to append to the returned Key. See <code class="xref py py-meth docutils literal notranslate"><span class="pre">append()</span></code>.</p></li>
<li><p><strong>tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Tag for returned Key. If <em>value</em> has a tag, the two are joined
using a ‘+’ character. See <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_tag()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">iter_sums</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.10)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.10)"><span class="pre">Callable</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Generate (key, task) for all possible partial sums of the Key.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em></dt>
<dd><p>Name of the quantity, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a></span></span></dt>
<dd><p>Return a new Key that has the union of dimensions on <em>keys</em>.</p>
<p>Dimensions are ordered by their first appearance:</p>
<ol class="arabic simple">
<li><p>First, the dimensions of the first of the <em>keys</em>.</p></li>
<li><p>Next, any additional dimensions in the second of the <em>keys</em> that
were not already added in step 1.</p></li>
<li><p>etc.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name for the new Key. The names of <em>keys</em> are discarded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sorted</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.Key" title="(in genno)"><span class="pre">genno.core.key.Key</span></a></em></dt>
<dd><p>A version of the Key with its <code class="xref py py-attr docutils literal notranslate"><span class="pre">dims</span></code> sorted alphabetically.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em></dt>
<dd><p>Quantity tag, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">KeyExistsError</span></span></dt>
<dd><p>Raised by <code class="xref py py-meth docutils literal notranslate"><span class="pre">Computer.add()</span></code> when the target key exists.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">MissingKeyError</span></span></dt>
<dd><p>Raised by <code class="xref py py-meth docutils literal notranslate"><span class="pre">Computer.add()</span></code> when a required input key is missing.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">Quantity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>A sparse data structure that behaves like <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code>.</p>
<p>Depending on the value of <code class="xref py py-data docutils literal notranslate"><span class="pre">CLASS</span></code>, Quantity is either <code class="xref py py-class docutils literal notranslate"><span class="pre">AttrSeries</span></code> or
<code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataArray</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Convert <cite>series</cite> to the Quantity class given by <code class="xref py py-data docutils literal notranslate"><span class="pre">CLASS</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">to_series</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v1.4.3)"><span class="pre">pandas.core.series.Series</span></a></span></span></dt>
<dd><p>Like <code class="xref py py-meth docutils literal notranslate"><span class="pre">xarray.DataArray.to_series()</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">units</span></span></dt>
<dd><p>Retrieve or set the units of the Quantity.</p>
<p class="rubric">Examples</p>
<p>Create a quantity without units:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">qty</span> <span class="o">=</span> <span class="n">Quantity</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Set using a string; automatically converted to pint.Unit:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">qty</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;kg&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qty</span><span class="o">.</span><span class="n">units</span>
<span class="go">&lt;Unit(&#39;kilogram&#39;)&gt;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.</span></span><span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.10)"><span class="pre">pathlib.Path</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Configure <code class="xref py py-mod docutils literal notranslate"><span class="pre">genno</span></code> globally.</p>
<p>Modifies global variables that affect the behaviour of <em>all</em> Computers and
computations. Configuration keys loaded from file are superseded by keyword
arguments. Messages are logged at level <code class="xref py py-obj docutils literal notranslate"><span class="pre">logging.INFO</span></code> if <cite>config</cite> contains
unhandled sections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>Path</em><em>, </em><em>optional</em>) – Path to a configuration file in JSON or YAML format.</p></li>
<li><p><strong>**config</strong> – Configuration keys/sections and values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-message_ix.reporting.computations">
<span id="computations"></span><h3><a class="toc-backref" href="#id6">Computations</a><a class="headerlink" href="#module-message_ix.reporting.computations" title="Permalink to this headline"></a></h3>
<p><a class="reference internal" href="#module-message_ix.reporting" title="message_ix.reporting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.reporting</span></code></a> provides a small number of computations.
Two of these (<a class="reference internal" href="#message_ix.reporting.computations.plot_cumulative" title="message_ix.reporting.computations.plot_cumulative"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_cumulative()</span></code></a> and <a class="reference internal" href="#message_ix.reporting.computations.stacked_bar" title="message_ix.reporting.computations.stacked_bar"><code class="xref py py-func docutils literal notranslate"><span class="pre">stacked_bar()</span></code></a>) are currently only used in the tutorials to produce simple plots; for more flexible plotting, <a class="reference external" href="https://genno.readthedocs.io/en/latest/compat-plotnine.html#module-genno.compat.plotnine" title="(in genno)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">genno.compat.plotnine</span></code></a> is recommended instead.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.reporting.computations.plot_cumulative" title="message_ix.reporting.computations.plot_cumulative"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_cumulative</span></code></a>(x, y, labels)</p></td>
<td><p>Plot a supply curve.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.reporting.computations.stacked_bar" title="message_ix.reporting.computations.stacked_bar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stacked_bar</span></code></a>(qty[, dims, units, title, cf, ...])</p></td>
<td><p>Plot <cite>qty</cite> as a stacked bar chart.</p></td>
</tr>
</tbody>
</table>
<p>Other computations are provided by <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#module-ixmp.reporting" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp.reporting</span></code></a>:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#ixmp.reporting.computations.data_for_quantity" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_for_quantity</span></code></a>(ix_type, name, column, ...)</p></td>
<td><p>Retrieve data from <em>scenario</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#ixmp.reporting.computations.map_as_qty" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map_as_qty</span></code></a>(set_df, full_set)</p></td>
<td><p>Convert <em>set_df</em> to a <code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#ixmp.reporting.computations.store_ts" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">store_ts</span></code></a>(scenario, *data)</p></td>
<td><p>Store time series <cite>data</cite> on <cite>scenario</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#ixmp.reporting.computations.update_scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_scenario</span></code></a>(scenario, *quantities[, params])</p></td>
<td><p>Update <em>scenario</em> with computed data from reporting <em>quantities</em>.</p></td>
</tr>
</tbody>
</table>
<p>…and by <code class="xref py py-mod docutils literal notranslate"><span class="pre">genno.computation</span></code> and its compatibility modules. See the package documentation for details.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/compat-plotnine.html#genno.compat.plotnine.Plot" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Plot</span></code></a>()</p></td>
<td><p>Class for plotting using <code class="xref py py-mod docutils literal notranslate"><span class="pre">plotnine</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.add" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add</span></code></a>(*quantities[, fill_value])</p></td>
<td><p>Sum across multiple <cite>quantities</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.aggregate" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aggregate</span></code></a>(quantity, groups, keep)</p></td>
<td><p>Aggregate <em>quantity</em> by <em>groups</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.apply_units" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_units</span></code></a>(qty, units[, quiet])</p></td>
<td><p>Simply apply <em>units</em> to <em>qty</em>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/compat-pyam.html#genno.compat.pyam.computations.as_pyam" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">as_pyam</span></code></a>(scenario, quantity[, rename, ...])</p></td>
<td><p>Return a <a class="reference external" href="https://pyam-iamc.readthedocs.io/en/stable/api/iamdataframe.html#pyam.IamDataFrame" title="(in pyam v1.5.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyam.IamDataFrame</span></code></a> containing <cite>quantity</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.broadcast_map" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">broadcast_map</span></code></a>(quantity, map[, rename, strict])</p></td>
<td><p>Broadcast <cite>quantity</cite> using a <cite>map</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.combine" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">combine</span></code></a>(*quantities[, select, weights])</p></td>
<td><p>Sum distinct <em>quantities</em> by <em>weights</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.concat" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">concat</span></code></a>(*objs, **kwargs)</p></td>
<td><p>Concatenate Quantity <cite>objs</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.disaggregate_shares" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disaggregate_shares</span></code></a>(quantity, shares)</p></td>
<td><p>Disaggregate <em>quantity</em> by <em>shares</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.div" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">div</span></code></a>(numerator, denominator)</p></td>
<td><p>Identical to <code class="xref py py-func docutils literal notranslate"><span class="pre">ratio()</span></code>, but using a name aligned with the Python standard library, e.g.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.group_sum" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">group_sum</span></code></a>(qty, group, sum)</p></td>
<td><p>Group by dimension <em>group</em>, then sum across dimension <em>sum</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.index_to" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">index_to</span></code></a>(qty, dim_or_selector[, label])</p></td>
<td><p>Compute an index of <cite>qty</cite> against certain of its values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.interpolate" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolate</span></code></a>(qty[, coords, method, ...])</p></td>
<td><p>Interpolate <cite>qty</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.load_file" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_file</span></code></a>(path[, dims, units, name])</p></td>
<td><p>Read the file at <em>path</em> and return its contents as a <code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.mul" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mul</span></code></a>(*quantities)</p></td>
<td><p>Identical to <code class="xref py py-func docutils literal notranslate"><span class="pre">product()</span></code>, but using a name aligned with the Python standard library, e.g.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.pow" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pow</span></code></a>(a, b)</p></td>
<td><p>Compute <cite>a</cite> raised to the power of <cite>b</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.ratio" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ratio</span></code></a>(numerator, denominator)</p></td>
<td><p>Compute the ratio <cite>numerator</cite> / <cite>denominator</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.relabel" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">relabel</span></code></a>(qty[, labels])</p></td>
<td><p>Replace specific labels along dimensions of <cite>qty</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.rename_dims" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rename_dims</span></code></a>(qty[, new_name_or_name_dict])</p></td>
<td><p>Rename the dimensions of <cite>qty</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.select" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select</span></code></a>(qty, indexers[, inverse])</p></td>
<td><p>Select from <em>qty</em> based on <em>indexers</em>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.sum" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sum</span></code></a>(quantity[, weights, dimensions])</p></td>
<td><p>Sum <em>quantity</em> over <em>dimensions</em>, with optional <em>weights</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://genno.readthedocs.io/en/latest/api.html#genno.computations.write_report" title="(in genno)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_report</span></code></a>(quantity, path)</p></td>
<td><p>Write a quantity to a file.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="message_ix.reporting.computations.plot_cumulative">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.computations.</span></span><span class="sig-name descname"><span class="pre">plot_cumulative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.computations.plot_cumulative" title="Permalink to this definition"></a></dt>
<dd><p>Plot a supply curve.</p>
<ul class="simple">
<li><p><cite>x</cite> and <cite>y</cite> must share the first two dimensions.</p></li>
<li><p>The first dimension must contain unique values.</p></li>
<li><p>One rectangle is plotted for each unique value in the second dimension.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>Quantity</em>) – e.g. <code class="docutils literal notranslate"><span class="pre">&lt;resource_volume:n-g&gt;</span></code>.</p></li>
<li><p><strong>y</strong> (<em>Quantity</em>) – e.g. <code class="docutils literal notranslate"><span class="pre">&lt;resource_cost:n-g-y&gt;</span></code>. The <code class="docutils literal notranslate"><span class="pre">mean()</span></code> is taken across the third
dimension.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="message_ix.reporting.computations.stacked_bar">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.computations.</span></span><span class="sig-name descname"><span class="pre">stacked_bar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qty</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['nl',</span> <span class="pre">'t',</span> <span class="pre">'ya']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.reporting.computations.stacked_bar" title="Permalink to this definition"></a></dt>
<dd><p>Plot <cite>qty</cite> as a stacked bar chart.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qty</strong> (<em>ixmp.reporting.Quantity</em>) – Data to plot.</p></li>
<li><p><strong>dims</strong> (<em>3-tuple of str</em>) – <p>Dimensions for, respectively:</p>
<ol class="arabic simple">
<li><p>The node/region.</p></li>
<li><p>Dimension to stack.</p></li>
<li><p>The ordinate (x-axis).</p></li>
</ol>
</p></li>
<li><p><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Units to display on the plot.</p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Title fragment; the plot title is “{node} {title}”.</p></li>
<li><p><strong>cf</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Conversion factor to apply to data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-message_ix.reporting.pyam">
<span id="utilities"></span><h3><a class="toc-backref" href="#id7">Utilities</a><a class="headerlink" href="#module-message_ix.reporting.pyam" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="message_ix.reporting.pyam.collapse_message_cols">
<span class="sig-prename descclassname"><span class="pre">message_ix.reporting.pyam.</span></span><span class="sig-name descname"><span class="pre">collapse_message_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.10)"><span class="pre">Callable</span></a></span></span><a class="headerlink" href="#message_ix.reporting.pyam.collapse_message_cols" title="Permalink to this definition"></a></dt>
<dd><p><code class="xref py py-func docutils literal notranslate"><span class="pre">as_pyam()</span></code> <cite>collapse=…</cite> callback for MESSAGEix quantities.</p>
<p>Wraps <code class="xref py py-func docutils literal notranslate"><span class="pre">collapse()</span></code> with arguments particular to MESSAGEix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name for ‘variable’ column.</p></li>
<li><p><strong>kind</strong> (<em>None</em><em> or </em><em>'ene'</em><em> or </em><em>'emi'</em><em>, </em><em>optional</em>) – <p>Determines which other columns are combined into the ‘region’ and ‘variable’
columns:</p>
<ul>
<li><p>’ene’: ‘variable’ is
<code class="docutils literal notranslate"><span class="pre">'&lt;var&gt;|&lt;level&gt;|&lt;commodity&gt;|&lt;technology&gt;|&lt;mode&gt;'</span></code> and ‘region’ is
<code class="docutils literal notranslate"><span class="pre">'&lt;region&gt;|&lt;node_dest&gt;'</span></code> (if <cite>var=’out’</cite>) or
<code class="docutils literal notranslate"><span class="pre">'&lt;region&gt;|&lt;node_origin&gt;'</span></code> (if <cite>‘var=’in’</cite>).</p></li>
<li><p>’emi’: ‘variable’ is <code class="docutils literal notranslate"><span class="pre">'&lt;var&gt;|&lt;emission&gt;|&lt;technology&gt;|&lt;mode&gt;'</span></code>.</p></li>
<li><p>Otherwise: ‘variable’ is <code class="docutils literal notranslate"><span class="pre">'&lt;var&gt;|&lt;technology&gt;'</span></code>.</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tools/add_year.html" class="btn btn-neutral float-left" title="Add model years to an existing Scenario" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="debugging.html" class="btn btn-neutral float-right" title="Debugging and data validation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, IIASA Energy, Climate, and Environment (ECE) Program.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>