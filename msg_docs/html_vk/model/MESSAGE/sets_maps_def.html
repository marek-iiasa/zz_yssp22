<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sets and mappings &mdash; MESSAGEix 3.5.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/messageix-favicon.svg"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script>window.MathJax = {"tex": {"macros": {"ACT": "\\text{ACT}", "STORAGE": "\\text{STORAGE}", "STORAGECHARGE": "\\text{STORAGE_CHARGE}", "durationtimerel": "\\text{duration_time_rel}", "input": "\\text{input}", "maptimecommoditystorage": "\\text{map_time_commodity_storage}", "storageinitial": "\\text{storage_initial}", "storageselfdischarge": "\\text{storage_self_discharge}"}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Years, periods, and time slices" href="../../time.html" />
    <link rel="prev" title="Usage in publications, projects, and tools" href="../../usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/combined-logo-white.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../prereqs.html">Prerequisite knowledge &amp; skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../framework.html">MESSAGE<em>ix</em> model &amp; framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Publications, Projects, and Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mathematical Specification</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Sets and mappings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sets-in-the-messageix-implementation">Sets in the MESSAGE<em>ix</em> implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#index-names">Index names</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#category-types-and-mappings">Category types and mappings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#section-maps-def">Mapping sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mapping-sets-flags-for-bounds">Mapping sets (flags) for bounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mapping-sets-flags-for-fixed-variables">Mapping sets (flags) for fixed variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../time.html">Years, periods, and time slices</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameter_def.html">Parameter definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_core.html">MESSAGE core formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_solve.html">Solve statement workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Standard output reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="scaling_investment_costs.html">Auxiliary investment parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MACRO/macro_core.html">MACRO core formulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing MESSAGEix models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../efficiency.html">Efficiency - output- vs. input defined technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/add_year.html">Add model years to an existing Scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reporting.html">Postprocessing and reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging.html">Debugging and data validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../macro.html">Calibrate and tune MESSAGE-MACRO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help &amp; reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rmessageix.html">Usage in R via <code class="docutils literal notranslate"><span class="pre">reticulate</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notice.html">User guidelines and notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sharing.html">Sharing publications, projects, and tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MESSAGEix</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Sets and mappings</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/model/MESSAGE/sets_maps_def.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page is generated from inline documentation in <code class="docutils literal notranslate"><span class="pre">MESSAGE\sets_maps_def.gms</span></code>.</p>
</div>
<section id="sets-and-mappings">
<span id="sets-maps-def"></span><h1>Sets and mappings<a class="headerlink" href="#sets-and-mappings" title="Permalink to this headline"></a></h1>
<p><code class="file docutils literal notranslate"><span class="pre">sets_maps_def.gms</span></code> defines all sets and mappings used in MESSAGE<em>ix</em>. The symbols in the <strong>Notation</strong> column of
the tables below are used in the equations of the mathematical formulation, while the set names appear in the GAMS
code.</p>
<section id="sets-in-the-messageix-implementation">
<span id="section-set-def"></span><h2>Sets in the MESSAGE<em>ix</em> implementation<a class="headerlink" href="#sets-in-the-messageix-implementation" title="Permalink to this headline"></a></h2>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 12%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Set name</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Explanatory comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>node <a class="footnote-reference brackets" href="#node" id="id1">1</a></p></td>
<td><p><span class="math notranslate nohighlight">\(n \in N\)</span></p></td>
<td><p>Regions, countries, grid cells</p></td>
</tr>
<tr class="row-odd"><td><p>commodity</p></td>
<td><p><span class="math notranslate nohighlight">\(c \in C\)</span></p></td>
<td><p>Resources, electricity, water, land availability, etc.</p></td>
</tr>
<tr class="row-even"><td><p>level</p></td>
<td><p><span class="math notranslate nohighlight">\(l \in L\)</span></p></td>
<td><p>Levels of the reference energy system or supply chain (primary, secondary, … , useful)</p></td>
</tr>
<tr class="row-odd"><td><p>grade</p></td>
<td><p><span class="math notranslate nohighlight">\(g \in G\)</span></p></td>
<td><p>Grades of resource quality in the extraction &amp; mining sector</p></td>
</tr>
<tr class="row-even"><td><p>technology [tec]</p></td>
<td><p><span class="math notranslate nohighlight">\(t \in T\)</span></p></td>
<td><div class="line-block">
<div class="line">Technologies that use input commodities to produce outputs;</div>
<div class="line">the short-hand notation “tec” is used in the GAMS implementation</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>mode <a class="footnote-reference brackets" href="#mode" id="id2">2</a></p></td>
<td><p><span class="math notranslate nohighlight">\(m \in M\)</span></p></td>
<td><p>Modes of operation for specific technologies</p></td>
</tr>
<tr class="row-even"><td><p>emission</p></td>
<td><p><span class="math notranslate nohighlight">\(e \in E\)</span></p></td>
<td><p>Greenhouse gases, pollutants, etc.</p></td>
</tr>
<tr class="row-odd"><td><p>land_scenario</p></td>
<td><p><span class="math notranslate nohighlight">\(s \in S\)</span></p></td>
<td><p>Scenarios of land use (for land-use model emulator)</p></td>
</tr>
<tr class="row-even"><td><p>land_type</p></td>
<td><p><span class="math notranslate nohighlight">\(u \in U\)</span></p></td>
<td><p>Land-use types (e.g., field, forest, pasture)</p></td>
</tr>
<tr class="row-odd"><td><p>year [year_all] <a class="footnote-reference brackets" href="#year-all" id="id3">3</a> <a class="footnote-reference brackets" href="#period-year" id="id4">4</a></p></td>
<td><p><span class="math notranslate nohighlight">\(y \in Y\)</span></p></td>
<td><p>Periods, denoted by the final year, in the model horizon</p></td>
</tr>
<tr class="row-even"><td><p>time <a class="footnote-reference brackets" href="#time" id="id5">5</a></p></td>
<td><p><span class="math notranslate nohighlight">\(h \in H\)</span></p></td>
<td><p>Subannual time periods (seasons, days, hours)</p></td>
</tr>
<tr class="row-odd"><td><p>shares <a class="footnote-reference brackets" href="#shares" id="id6">6</a></p></td>
<td><p><span class="math notranslate nohighlight">\(p \in P\)</span></p></td>
<td><p>Set of constraints on shares of technologies and commodities</p></td>
</tr>
<tr class="row-even"><td><p>relation <a class="footnote-reference brackets" href="#relations" id="id7">7</a></p></td>
<td><p><span class="math notranslate nohighlight">\(r \in R\)</span></p></td>
<td><p>Names of generic relations (linear constraints)</p></td>
</tr>
<tr class="row-odd"><td><p>lvl_spatial</p></td>
<td></td>
<td><p>Spatial hierarchy levels, e.g.  global, region, country, or grid cell.</p></td>
</tr>
<tr class="row-even"><td><p>lvl_temporal</p></td>
<td></td>
<td><p>Temporal hierarchy levels, e.g. year, season, day, or hour.</p></td>
</tr>
<tr class="row-odd"><td><p>rating</p></td>
<td><p><span class="math notranslate nohighlight">\(q \in Q\)</span></p></td>
<td><p>Identifies the ‘quality’ of the renewable energy potential (rating of non-dispatchable
technologies relative to aggregate commodity use)</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="node"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The set <code class="docutils literal notranslate"><span class="pre">node</span></code> includes spatial units across all levels of spatial disaggregation
(global, regions, countries, basins, grid cells).
The hierarchical mapping is implemented via the mapping set <code class="docutils literal notranslate"><span class="pre">map_spatial_hierarchy</span></code>.
This set always includes an element ‘World’ when initializing a <code class="docutils literal notranslate"><span class="pre">MESSAGE</span></code>-scheme <a class="reference internal" href="../../api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a>.</p>
</dd>
<dt class="label" id="mode"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>For example, high electricity or high heat production modes of operation for combined heat and power plants.</p>
</dd>
<dt class="label" id="year-all"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>In the MESSAGE<em>ix</em> implementation in GAMS, the set <code class="docutils literal notranslate"><span class="pre">year_all</span></code> denotes the “superset” of the entire
horizon (historical and model horizon), and the set <code class="docutils literal notranslate"><span class="pre">year</span></code> is a dynamic subset of <code class="docutils literal notranslate"><span class="pre">year_all</span></code>. This facilitates
an efficient implementation of the historical capacity build-up and the (optional) recursive-dynamic solution
approach. When working with a <a class="reference internal" href="../../api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a> via the scientific programming API, the set of all
periods is called <code class="docutils literal notranslate"><span class="pre">year</span></code> for a more concise notation. The specification of the model horizon is implemented
using the mapping set <code class="docutils literal notranslate"><span class="pre">cat_year</span></code> and the type “firstmodelyear”.</p>
</dd>
<dt class="label" id="period-year"><span class="brackets"><a class="fn-backref" href="#id4">4</a></span></dt>
<dd><p>See <a class="reference internal" href="../../time.html"><span class="doc">Years, periods, and time slices</span></a>.</p>
</dd>
<dt class="label" id="time"><span class="brackets"><a class="fn-backref" href="#id5">5</a></span></dt>
<dd><p>The set <code class="docutils literal notranslate"><span class="pre">time</span></code> collects all sub-annual temporal units across all levels of temporal disaggregation.
In a <code class="docutils literal notranslate"><span class="pre">MESSAGE</span></code>-scheme <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.Scenario</span></code></a>, this set always includes an element “year”,
and the duration of that element is 1 (<span class="math notranslate nohighlight">\(duration\_time_{'year'} = 1\)</span>).</p>
</dd>
<dt class="label" id="shares"><span class="brackets"><a class="fn-backref" href="#id6">6</a></span></dt>
<dd><p>A generic formulation of share constraints is implemented in MESSAGE<em>ix</em>,
see <a class="reference internal" href="model_core.html#share-constraints"><span class="std std-ref">Constraints on shares of technologies and commodities</span></a>.</p>
</dd>
<dt class="label" id="relations"><span class="brackets"><a class="fn-backref" href="#id7">7</a></span></dt>
<dd><p>A generic formulation of linear constraints is implemented in MESSAGE<em>ix</em>,
see <a class="reference internal" href="model_core.html#section-of-generic-relations"><span class="std std-ref">Section of generic relations (linear constraints)</span></a>. These constraints can be used for testing and development,
but specific new features should be implemented by specific equations and parameters.</p>
</dd>
</dl>
<section id="index-names">
<h3>Index names<a class="headerlink" href="#index-names" title="Permalink to this headline"></a></h3>
<p>Where the same set is used 2 or more times to index multiple dimensions of the same <a class="reference internal" href="parameter_def.html#parameter-def"><span class="std std-ref">parameter</span></a>,
these dimensions are given names (called <strong>index names</strong>) that differ from the name of the set. The table below
contains a partial list of index names appearing in the documentation.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 18%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Set</p></th>
<th class="head"><p>Index name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">node</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">node_dest</span></code></p></td>
<td><p>Node to which a technology providers commodity output.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">node</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">node_loc</span></code></p></td>
<td><p>Node where a technology operates.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">node</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">node_origin</span></code></p></td>
<td><p>Node from which a technology receives commodity input.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="category-types-and-mappings">
<span id="mapping-sets"></span><h2>Category types and mappings<a class="headerlink" href="#category-types-and-mappings" title="Permalink to this headline"></a></h2>
<p>This feature is used to easily implement aggregation across groups of set elements.
For example, by setting an upper bound over an emission type, the constraint enforces
that the sum over all emission species mapped to that type via the mapping set <code class="docutils literal notranslate"><span class="pre">cat_emission</span></code>
satisfies that upper bound.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 15%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Set name</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Explanatory comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>level_resource (level) <a class="footnote-reference brackets" href="#level-res" id="id8">8</a></p></td>
<td><p><span class="math notranslate nohighlight">\(l \in L^{RES} \subseteq L\)</span></p></td>
<td><p>Levels related to <cite>fossil resources</cite> representation</p></td>
</tr>
<tr class="row-odd"><td><p>level_renewable (level) <a class="footnote-reference brackets" href="#level-res" id="id9">8</a></p></td>
<td><p><span class="math notranslate nohighlight">\(l \in L^{REN} \subseteq L\)</span></p></td>
<td><p>Levels related to <cite>renewables</cite> representation</p></td>
</tr>
<tr class="row-even"><td><p>level_storage(level)</p></td>
<td><p><span class="math notranslate nohighlight">\(l \in L^{STOR} \subseteq L\)</span></p></td>
<td><p>Subsets of levels on which commodities are <a class="reference internal" href="model_core.html#gams-storage"><span class="std std-ref">stored</span></a>; excluded from <a class="reference internal" href="model_core.html#commodity-balance-lt"><span class="std std-ref">commodity balances</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>type_node <a class="footnote-reference brackets" href="#type-node" id="id10">9</a></p></td>
<td><p><span class="math notranslate nohighlight">\(\widehat{n} \in \widehat{N}\)</span></p></td>
<td><p>Category types for nodes</p></td>
</tr>
<tr class="row-even"><td><p>cat_node (type_node,node)</p></td>
<td><p><span class="math notranslate nohighlight">\(n \in N(\widehat{n})\)</span></p></td>
<td><p>Category mapping between node types and nodes (all nodes that are subnodes of node <span class="math notranslate nohighlight">\(\widehat{n}\)</span>)</p></td>
</tr>
<tr class="row-odd"><td><p>type_tec <a class="footnote-reference brackets" href="#type-tec" id="id11">10</a></p></td>
<td><p><span class="math notranslate nohighlight">\(\widehat{t} \in \widehat{T}\)</span></p></td>
<td><p>Category types for technologies</p></td>
</tr>
<tr class="row-even"><td><p>cat_tec (type_tec,tec) <a class="footnote-reference brackets" href="#type-tec" id="id12">10</a></p></td>
<td><p><span class="math notranslate nohighlight">\(t \in T(\widehat{t})\)</span></p></td>
<td><p>Category mapping between tec types and technologies (all technologies mapped to the category <code class="docutils literal notranslate"><span class="pre">type_tec</span></code> <span class="math notranslate nohighlight">\(\widehat{t}\)</span>)</p></td>
</tr>
<tr class="row-odd"><td><p>inv_tec (tec) <a class="footnote-reference brackets" href="#inv-tec" id="id13">11</a></p></td>
<td><p><span class="math notranslate nohighlight">\(t \in T^{INV} \subseteq T\)</span></p></td>
<td><p>Specific subset of investment technologies (all technologies with investment decisions and capacity constraints)</p></td>
</tr>
<tr class="row-even"><td><p>renewable_tec (tec) <a class="footnote-reference brackets" href="#renewable-tec" id="id14">12</a></p></td>
<td><p><span class="math notranslate nohighlight">\(t \in T^{REN} \subseteq T\)</span></p></td>
<td><p>Specific subset of renewable-energy technologies (all technologies which draw their input from the renewable level)</p></td>
</tr>
<tr class="row-odd"><td><p>storage_tec(tec)</p></td>
<td><p><span class="math notranslate nohighlight">\(t \in T^{STOR} \subseteq T\)</span></p></td>
<td><p>Subset of technologies that are <a class="reference internal" href="model_core.html#gams-storage"><span class="std std-ref">storage</span></a> container technologies (reservoirs)</p></td>
</tr>
<tr class="row-even"><td><p>addon(tec)</p></td>
<td><p><span class="math notranslate nohighlight">\(t^a \in T^{A} \subseteq T\)</span></p></td>
<td><p>Specific subset of technologies that are an add-on to other (parent) technologies</p></td>
</tr>
<tr class="row-odd"><td><p>type_addon</p></td>
<td><p><span class="math notranslate nohighlight">\(\widehat{t^a} \in \widehat{T^A}\)</span></p></td>
<td><p>Category types for add-on technologies (that can be applied mutually exclusive)</p></td>
</tr>
<tr class="row-even"><td><p>cat_addon(type_addon,addon)</p></td>
<td><p><span class="math notranslate nohighlight">\(t^a \in T^A(\widehat{t^a})\)</span></p></td>
<td><p>Category mapping add-on technologies to respective add-on technology types (all add-on technologies mapped to the category <code class="docutils literal notranslate"><span class="pre">type_addon</span></code> <span class="math notranslate nohighlight">\(\widehat{t}\)</span>)</p></td>
</tr>
<tr class="row-odd"><td><p>type_year</p></td>
<td><p><span class="math notranslate nohighlight">\(\widehat{y} \in \widehat{Y}\)</span></p></td>
<td><p>Category types for year aggregations</p></td>
</tr>
<tr class="row-even"><td><p>cat_year(type_year,year_all)</p></td>
<td><p><span class="math notranslate nohighlight">\(y \in Y(\widehat{y})\)</span></p></td>
<td><p>Category mapping years to respective categories (all years mapped to the category <code class="docutils literal notranslate"><span class="pre">type_year</span></code> <span class="math notranslate nohighlight">\(\widehat{y}\)</span>)</p></td>
</tr>
<tr class="row-odd"><td><p>type_emission</p></td>
<td><p><span class="math notranslate nohighlight">\(\widehat{e} \in \widehat{E}\)</span></p></td>
<td><p>Category types for emissions (greenhouse gases, pollutants, etc.)</p></td>
</tr>
<tr class="row-even"><td><p>cat_emission (type_emission,emission)</p></td>
<td><p><span class="math notranslate nohighlight">\(e \in E(\widehat{e})\)</span></p></td>
<td><p>Category mapping between emission types and emissions (all emissions mapped to the category <code class="docutils literal notranslate"><span class="pre">type_emission</span></code> <span class="math notranslate nohighlight">\(\widehat{e}\)</span>)</p></td>
</tr>
<tr class="row-odd"><td><p>type_tec_land (type_tec) <a class="footnote-reference brackets" href="#type-tec-land" id="id15">13</a></p></td>
<td><p><span class="math notranslate nohighlight">\(\widehat{t} \in \widehat{T}^{LAND} \subseteq \widehat{T}\)</span></p></td>
<td><p>Mapping set of technology types and land use</p></td>
</tr>
<tr class="row-even"><td><p>balance_equality (commodity,level)</p></td>
<td><p><span class="math notranslate nohighlight">\(c \in C, l \in L\)</span></p></td>
<td><p>Commodities and level related to <a class="reference internal" href="model_core.html#commodity-balance-lt"><span class="std std-ref">Equation COMMODITY_BALANCE_LT</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>time_relative (time)</p></td>
<td><p><span class="math notranslate nohighlight">\(h \in H\)</span></p></td>
<td><p>Parent sub-annual time slices for considering relative time in parameter <span class="xref std std-ref">duration_time_rel</span></p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="level-res"><span class="brackets">8</span><span class="fn-backref">(<a href="#id8">1</a>,<a href="#id9">2</a>)</span></dt>
<dd><p>The constraint <a class="reference internal" href="model_core.html#extraction-equivalence"><span class="std std-ref">Equation EXTRACTION_EQUIVALENCE</span></a> is active only for the levels included in this set,
and the constraint <a class="reference internal" href="model_core.html#commodity-balance"><span class="std std-ref">Auxiliary COMMODITY_BALANCE</span></a> is deactivated for these levels.</p>
</dd>
<dt class="label" id="type-node"><span class="brackets"><a class="fn-backref" href="#id10">9</a></span></dt>
<dd><p>The element “economy” is added by default as part of the <code class="docutils literal notranslate"><span class="pre">MESSAGE</span></code>-scheme <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.Scenario</span></code></a>.</p>
</dd>
<dt class="label" id="type-tec"><span class="brackets">10</span><span class="fn-backref">(<a href="#id11">1</a>,<a href="#id12">2</a>)</span></dt>
<dd><p>The element “all” in <code class="docutils literal notranslate"><span class="pre">type_tec</span></code> and the associated mapping to all technologies in the set <code class="docutils literal notranslate"><span class="pre">cat_tec</span></code>
are added by default as part of the <code class="docutils literal notranslate"><span class="pre">MESSAGE</span></code>-scheme <a class="reference internal" href="../../api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a>.</p>
</dd>
<dt class="label" id="inv-tec"><span class="brackets"><a class="fn-backref" href="#id13">11</a></span></dt>
<dd><p>The auxiliary set <code class="docutils literal notranslate"><span class="pre">inv_tec</span></code> (subset of <code class="docutils literal notranslate"><span class="pre">technology</span></code>) is a short-hand notation for all technologies
with defined investment costs. This activates the investment cost part in the objective function and the
constraints for all technologies where investment decisions are relevant.
It is added by default when exporting <code class="docutils literal notranslate"><span class="pre">MESSAGE</span></code>-scheme <a class="reference internal" href="../../api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a> to gdx.</p>
</dd>
<dt class="label" id="renewable-tec"><span class="brackets"><a class="fn-backref" href="#id14">12</a></span></dt>
<dd><p>The auxiliary set <code class="docutils literal notranslate"><span class="pre">renewable_tec</span></code> (subset of <code class="docutils literal notranslate"><span class="pre">technology</span></code>) is a short-hand notation
for all technologies with defined parameters relevant for the equations in the “Renewable” section.
It is added by default when exporting <code class="docutils literal notranslate"><span class="pre">MESSAGE</span></code>-scheme <a class="reference internal" href="../../api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a> to gdx.</p>
</dd>
<dt class="label" id="type-tec-land"><span class="brackets"><a class="fn-backref" href="#id15">13</a></span></dt>
<dd><p>The mapping set <code class="docutils literal notranslate"><span class="pre">type_tec_land</span></code> is a dynamic subset of <code class="docutils literal notranslate"><span class="pre">type_tec</span></code> and specifies whether
emissions from the land-use model emulator module are included when aggregrating over a specific technology type.
The element “all” is added by default in a <code class="docutils literal notranslate"><span class="pre">MESSAGE</span></code>-scheme <a class="reference internal" href="../../api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a>.</p>
</dd>
</dl>
</section>
<section id="section-maps-def">
<span id="id16"></span><h2>Mapping sets<a class="headerlink" href="#section-maps-def" title="Permalink to this headline"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These sets are <strong>generated automatically</strong> when exporting a <code class="docutils literal notranslate"><span class="pre">MESSAGE</span></code>-scheme <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.Scenario</span></code></a> to gdx using the API.
They are used in the GAMS model to reduce model size by excluding non-relevant variables and equations
(e.g., activity of a technology outside of its technical lifetime). These are <strong>not</strong> meant to be
edited through the API when editing scenarios. Not all the <code class="docutils literal notranslate"><span class="pre">Mapping</span> <span class="pre">sets</span></code> are shown in the list below, to access
the full list of mapping sets, please refer to the documentation file found in <code class="docutils literal notranslate"><span class="pre">message_ix\model\MESSAGE\sets_maps_def.gms</span></code>.</p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 40%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Set name</p></th>
<th class="head"><p>Explanatory comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>map_node(node,location)</p></td>
<td><p>Mapping of nodes across hierarchy levels (location is in node)</p></td>
</tr>
<tr class="row-odd"><td><p>map_time(time,time2)</p></td>
<td><p>Mapping of time periods across hierarchy levels (time2 is in time)</p></td>
</tr>
<tr class="row-even"><td><p>map_time_period(year_all,lvl_temporal,time,time2)</p></td>
<td><p>Mapping of the sequence of sub-annual timeslices (used in <a class="reference internal" href="model_core.html#gams-storage"><span class="std std-ref">storage</span></a>)</p></td>
</tr>
<tr class="row-odd"><td><p>map_resource(node,commodity,grade,year_all)</p></td>
<td><p>Mapping of resources and grades to node over time</p></td>
</tr>
<tr class="row-even"><td><p>map_ren_grade(node,commodity,grade,year_all)</p></td>
<td><p>Mapping of renewables and grades to node over time</p></td>
</tr>
<tr class="row-odd"><td><p>map_ren_com(node,tec,commodity,year_all)</p></td>
<td><p>Mapping of technologies to renewable energy source as input</p></td>
</tr>
<tr class="row-even"><td><p>map_rating(node,tec,commodity,level,rating,year_all)</p></td>
<td><p>Mapping of technologues to ratings bin assignment</p></td>
</tr>
<tr class="row-odd"><td><p>map_commodity(node,commodity,level,year_all,time)</p></td>
<td><p>Mapping of commodity-level to node and time</p></td>
</tr>
<tr class="row-even"><td><p>map_stocks(node,commodity,level,year_all)</p></td>
<td><p>Mapping of commodity-level to node and time</p></td>
</tr>
<tr class="row-odd"><td><p>map_tec(node,tec,year_all)</p></td>
<td><p>Mapping of technology to node and years</p></td>
</tr>
<tr class="row-even"><td><p>map_tec_time(node,tec,year_all,time)</p></td>
<td><p>Mapping of technology to temporal dissagregation (time)</p></td>
</tr>
<tr class="row-odd"><td><p>map_tec_mode(node,tec,year_all,mode)</p></td>
<td><p>Mapping of technology to modes</p></td>
</tr>
<tr class="row-even"><td><p>map_tec_storage(node,tec,mode,tec2,mode2,level,commodity,lvl_temporal)</p></td>
<td><p>Mapping of charge-discharge technologies <code class="docutils literal notranslate"><span class="pre">tec</span></code> to their storage container <code class="docutils literal notranslate"><span class="pre">tec2</span></code>, stored <code class="docutils literal notranslate"><span class="pre">commodity</span></code> and <code class="docutils literal notranslate"><span class="pre">level</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>map_time_commodity_storage(node,tec,level,commodity,mode,year_all,time)</p></td>
<td><p>Mapping of storage containers to their input commodity-level (not commodity-level of stored media)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="mapping-sets-flags-for-bounds">
<span id="section-maps-bounds"></span><h2>Mapping sets (flags) for bounds<a class="headerlink" href="#mapping-sets-flags-for-bounds" title="Permalink to this headline"></a></h2>
<p>There are a number of mappings sets generated when exporting a <a class="reference internal" href="../../api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a> to gdx.
They are used as ‘flags’ to indicate whether a constraint is active.
The names of these sets follow the format <code class="docutils literal notranslate"><span class="pre">is_&lt;constraint&gt;_&lt;dir&gt;</span></code>.</p>
<p>Such mapping sets are necessary because GAMS does not distinguish between 0 and ‘no value assigned’,
i.e., it cannot differentiate between a bound of 0 and ‘no bound assigned’.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These sets are also <strong>automatically generated</strong>. To see the full list of mapping sets for bounds, please refer to the documentation
file found in <code class="docutils literal notranslate"><span class="pre">message_ix\model\MESSAGE\sets_maps_def.gms</span></code>.</p>
</div>
</section>
<section id="mapping-sets-flags-for-fixed-variables">
<span id="section-maps-fixed"></span><h2>Mapping sets (flags) for fixed variables<a class="headerlink" href="#mapping-sets-flags-for-fixed-variables" title="Permalink to this headline"></a></h2>
<p>Similar to the mapping sets for bounds, there are mapping sets to indicate whether decision variables
are pre-defined to a specific value, usually taken from a solution of another model instance.
This can be used to represent imperfect foresight where a policy shift or parameter change is introduced in later
years. The names of these sets follow the format <code class="docutils literal notranslate"><span class="pre">is_fixed_&lt;variable&gt;</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These sets are also <strong>automatically generated</strong>. To see the full list of mapping sets for fixed variables, please refere to the documentation
file found in <code class="docutils literal notranslate"><span class="pre">message_ix\model\MESSAGE\sets_maps_def.gms</span></code>.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../usage.html" class="btn btn-neutral float-left" title="Usage in publications, projects, and tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../time.html" class="btn btn-neutral float-right" title="Years, periods, and time slices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, IIASA Energy, Climate, and Environment (ECE) Program.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>