<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auxiliary investment parameters &mdash; MESSAGEix 3.5.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/messageix-favicon.svg"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script>window.MathJax = {"tex": {"macros": {"ACT": "\\text{ACT}", "STORAGE": "\\text{STORAGE}", "STORAGECHARGE": "\\text{STORAGE_CHARGE}", "durationtimerel": "\\text{duration_time_rel}", "input": "\\text{input}", "maptimecommoditystorage": "\\text{map_time_commodity_storage}", "storageinitial": "\\text{storage_initial}", "storageselfdischarge": "\\text{storage_self_discharge}"}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MACRO core formulation" href="../MACRO/macro_core.html" />
    <link rel="prev" title="Standard output reports" href="reporting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/combined-logo-white.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../prereqs.html">Prerequisite knowledge &amp; skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../framework.html">MESSAGE<em>ix</em> model &amp; framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Publications, Projects, and Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mathematical Specification</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sets_maps_def.html">Sets and mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../time.html">Years, periods, and time slices</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameter_def.html">Parameter definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_core.html">MESSAGE core formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_solve.html">Solve statement workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Standard output reports</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Auxiliary investment parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#levelized-capital-costs">Levelized capital costs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#construction-time-accounting">Construction time accounting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#investment-costs-beyond-the-model-horizon">Investment costs beyond the model horizon</a></li>
<li class="toctree-l2"><a class="reference internal" href="#remaining-installed-capacity">Remaining installed capacity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../MACRO/macro_core.html">MACRO core formulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing MESSAGEix models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../efficiency.html">Efficiency - output- vs. input defined technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/add_year.html">Add model years to an existing Scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reporting.html">Postprocessing and reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../debugging.html">Debugging and data validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../macro.html">Calibrate and tune MESSAGE-MACRO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help &amp; reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rmessageix.html">Usage in R via <code class="docutils literal notranslate"><span class="pre">reticulate</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notice.html">User guidelines and notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sharing.html">Sharing publications, projects, and tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MESSAGEix</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Auxiliary investment parameters</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/model/MESSAGE/scaling_investment_costs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page is generated from inline documentation in <code class="docutils literal notranslate"><span class="pre">MESSAGE\scaling_investment_costs.gms</span></code>.</p>
</div>
<section id="auxiliary-investment-parameters">
<h1>Auxiliary investment parameters<a class="headerlink" href="#auxiliary-investment-parameters" title="Permalink to this headline"></a></h1>
<section id="levelized-capital-costs">
<h2>Levelized capital costs<a class="headerlink" href="#levelized-capital-costs" title="Permalink to this headline"></a></h2>
<p>For the ‘soft’ relaxations of the dynamic constraints and the associated penalty factor in the objective function,
we need to compute the parameter <span class="math notranslate nohighlight">\(levelized\_cost_{n,t,y}\)</span>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}levelized\_cost_{n,t,m,y,h} := \
    &amp; inv\_cost_{n,t,y} \cdot \frac{ interestrate_{y} \cdot \left( 1 + interestrate_{y} \right)^{|y|} }
                                  { \left( 1 + interestrate_{y} \right)^{|y|} - 1 } \\
    &amp; + fix\_cost_{n,t,y,y} \cdot \frac{ 1 }{ \sum_{h'} duration\_time_{h'} \cdot capacity\_factor_{n,t,y,y,h'} } \\
    &amp; + var\_cost_{n,t,y,y,m,h}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(|y| = technical\_lifetime_{n,t,y}\)</span>. This formulation implicitly assumes constant fixed
and variable costs over time.</p>
<p><strong>Warning:</strong> All soft relaxations of the dynamic activity constraint are
disabled if the levelized costs are negative!</p>
</section>
<section id="construction-time-accounting">
<h2>Construction time accounting<a class="headerlink" href="#construction-time-accounting" title="Permalink to this headline"></a></h2>
<p>If the construction of new capacity takes a significant amount of time,
investment costs have to be scaled up accordingly to account for the higher capital costs.</p>
<div class="math notranslate nohighlight">
\[construction\_time\_factor_{n,t,y} = \left( 1 + interestrate_y \right)^{|y|}\]</div>
<p>where <span class="math notranslate nohighlight">\(|y| = construction\_time_{n,t,y}\)</span>. If no construction time is specified, the default value of the
investment cost scaling factor defaults to 1. The model assumes that the construction time only plays a role
for the investment costs, i.e., each unit of new-built capacity is available instantaneously.</p>
<p><strong>Comment:</strong> This formulation applies the discount rate of the vintage year
(i.e., the year in which the new capacity becomes operational).</p>
</section>
<section id="investment-costs-beyond-the-model-horizon">
<h2>Investment costs beyond the model horizon<a class="headerlink" href="#investment-costs-beyond-the-model-horizon" title="Permalink to this headline"></a></h2>
<p>If the technical lifetime of a technology exceeds the model horizon <span class="math notranslate nohighlight">\(Y^{model}\)</span>, the model has to add
a scaling factor to the investment costs (<span class="math notranslate nohighlight">\(end\_of\_horizon\_factor_{n,t,y}\)</span>). Assuming a constant
stream of revenue (marginal value of the capacity constraint), this can be computed by annualizing investment costs
from the condition that in an optimal solution, the investment costs must equal the discounted future revenues,
if the investment variable <span class="math notranslate nohighlight">\(CAP\_NEW_{n,t,y} &gt; 0\)</span>:</p>
<div class="math notranslate nohighlight">
\[inv\_cost_{n,t,y^V} = \sum_{y \in Y^{lifetime}_{n,t,y^V}} df\_year_{y} \cdot \beta_{n,t},\]</div>
<p>Here, <span class="math notranslate nohighlight">\(\beta_{n,t} &gt; 0\)</span> is the dual variable to the capacity constraint (assumed constant over future periods)
and <span class="math notranslate nohighlight">\(Y^{lifetime}_{n,t,y^V}\)</span> is the set of periods in the lifetime of a plant built in period <span class="math notranslate nohighlight">\(y^V\)</span>.
Then, the scaling factor <span class="math notranslate nohighlight">\(end\_of\_horizon\_factor_{n,t,y^V}\)</span> can be derived as follows:</p>
<div class="math notranslate nohighlight">
\[end\_of\_horizon\_factor_{n,t,y^V} :=
\frac{\sum_{y \in Y^{lifetime}_{n,t,y^V} \cap Y^{model}} df\_year_{y} }
    {\sum_{y' \in Y^{lifetime}_{n,t,y^V}} df\_year_{y'} + beyond\_horizon\_factor_{n,t,y^V} }
\in (0,1],\]</div>
<p>where the parameter <span class="math notranslate nohighlight">\(beyond\_horizon\_factor_{n,t,y^V}\)</span> accounts for the discount factor beyond the
overall model horizon (the set <span class="math notranslate nohighlight">\(Y\)</span> in contrast to the set <span class="math notranslate nohighlight">\(Y^{model} \subseteq Y\)</span> of the periods
included in the current model iteration (see the page on the recursive-dynamic model solution approach).</p>
<div class="math notranslate nohighlight">
\[beyond\_horizon\_lifetime_{n,t,y^V} :=  \max \Big\{ 0,
    economic\_lifetime_{n,t,y^V} - \sum_{y' \geq y^V} duration\_period_{y'} \Big\}\]</div>
<div class="math notranslate nohighlight">
\[beyond\_horizon\_factor_{n,t,y^V} :=
    df\_year_{\widehat{y}} \cdot \frac{1}{ \left( 1 + interestrate_{\widehat{y}} \right)^{|\widehat{y}|} }
    \cdot \frac{ 1 - \left( \frac{1}{1 + interestrate_{\widehat{y}}} \right)^{|\widetilde{y}|}}
               { 1 - \frac{1}{1 + interestrate_{\widehat{y}}}}\]</div>
<p>where <span class="math notranslate nohighlight">\(\widehat{y}\)</span> is the last period included in the overall model horizon,
<span class="math notranslate nohighlight">\(|\widehat{y}| = period\_duration\_period_{\widehat{y}}\)</span>
and <span class="math notranslate nohighlight">\(|\widetilde{y}| = beyond\_horizon\_lifetime_{n,t,y^V}\)</span>.</p>
<p>If the interest rate is zero, i.e., <span class="math notranslate nohighlight">\(interestrate_{\widehat{y}} = 0\)</span>,
the parameter <span class="math notranslate nohighlight">\(beyond\_horizon\_factor_{n,t,y^V}\)</span> equals the remaining technical lifetime
beyond the model horizon and the parameter <span class="math notranslate nohighlight">\(end\_of\_horizon\_factor_{n,t,y^V}\)</span> equals
the share of technical lifetime within the model horizon.</p>
<p><strong>Possible extension:</strong> Instead of assuming <span class="math notranslate nohighlight">\(\beta_{n,t}\)</span> to be constant over time, one could include
a simple (linear) projection of <span class="math notranslate nohighlight">\(\beta_{n,t,y}\)</span> beyond the end of the model horizon. However, this would likely
require to include the computation of dual variables endogenously, and thus a mixed-complementarity formulation of
the model.</p>
</section>
<section id="remaining-installed-capacity">
<h2>Remaining installed capacity<a class="headerlink" href="#remaining-installed-capacity" title="Permalink to this headline"></a></h2>
<p>The model has to take into account that the technical lifetime of a technology may not coincide with the cumulative
period duration. Therefore, the model introduces the parameter <span class="math notranslate nohighlight">\(remaining\_capacity_{n,t,y^V,y}\)</span>
as a factor of remaining technical lifetime in the last period of operation divided by the duration of that period.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="reporting.html" class="btn btn-neutral float-left" title="Standard output reports" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../MACRO/macro_core.html" class="btn btn-neutral float-right" title="MACRO core formulation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, IIASA Energy, Climate, and Environment (ECE) Program.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>