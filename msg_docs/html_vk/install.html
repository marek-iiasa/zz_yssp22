<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; MESSAGEix 3.5.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/messageix-favicon.svg"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials.html" />
    <link rel="prev" title="Run script for MESSAGEix and MACRO" href="model/MESSAGE-MACRO_run.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/combined-logo-white.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="prereqs.html">Prerequisite knowledge &amp; skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="framework.html">MESSAGE<em>ix</em> model &amp; framework</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-system-dependencies">Install system dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gams-required">GAMS (required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graphviz-optional">Graphviz (optional)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-messageix">Install MESSAGE<em>ix</em></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-anaconda">Using Anaconda</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-pip">Using <code class="docutils literal notranslate"><span class="pre">pip</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#from-source">From source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#check-that-installation-was-successful">Check that installation was successful</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-r-and-reticulate">Install R and reticulate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#common-issues">Common issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#no-jvm-shared-library-file-jvm-dll-found">“No JVM shared library file (jvm.dll) found”</a></li>
<li class="toctree-l3"><a class="reference internal" href="#no-module-named-pyam">“No module named ‘pyam’”</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-gams-model-files-for-editing">Copy GAMS model files for editing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Publications, Projects, and Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mathematical Specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/sets_maps_def.html">Sets and mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Years, periods, and time slices</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/parameter_def.html">Parameter definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/model_core.html">MESSAGE core formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/model_solve.html">Solve statement workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/reporting.html">Standard output reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/scaling_investment_costs.html">Auxiliary investment parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MACRO/macro_core.html">MACRO core formulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing MESSAGEix models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="efficiency.html">Efficiency - output- vs. input defined technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/add_year.html">Add model years to an existing Scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Postprocessing and reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging and data validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="macro.html">Calibrate and tune MESSAGE-MACRO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help &amp; reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rmessageix.html">Usage in R via <code class="docutils literal notranslate"><span class="pre">reticulate</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="notice.html">User guidelines and notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to development</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Sharing publications, projects, and tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MESSAGEix</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/install.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#install-system-dependencies" id="id8">Install system dependencies</a></p>
<ul>
<li><p><a class="reference internal" href="#gams-required" id="id9">GAMS (required)</a></p></li>
<li><p><a class="reference internal" href="#graphviz-optional" id="id10">Graphviz (optional)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#install-messageix" id="id11">Install MESSAGE<em>ix</em></a></p>
<ul>
<li><p><a class="reference internal" href="#using-anaconda" id="id12">Using Anaconda</a></p></li>
<li><p><a class="reference internal" href="#using-pip" id="id13">Using <code class="docutils literal notranslate"><span class="pre">pip</span></code></a></p></li>
<li><p><a class="reference internal" href="#from-source" id="id14">From source</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#check-that-installation-was-successful" id="id15">Check that installation was successful</a></p></li>
<li><p><a class="reference internal" href="#install-r-and-reticulate" id="id16">Install R and reticulate</a></p></li>
<li><p><a class="reference internal" href="#common-issues" id="id17">Common issues</a></p>
<ul>
<li><p><a class="reference internal" href="#no-jvm-shared-library-file-jvm-dll-found" id="id18">“No JVM shared library file (jvm.dll) found”</a></p></li>
<li><p><a class="reference internal" href="#no-module-named-pyam" id="id19">“No module named ‘pyam’”</a></p></li>
<li><p><a class="reference internal" href="#copy-gams-model-files-for-editing" id="id20">Copy GAMS model files for editing</a></p></li>
</ul>
</li>
</ul>
</div>
<p>Ensure you have first read the <a class="reference internal" href="prereqs.html"><span class="doc">prerequisites</span></a> for understanding and using MESSAGE<em>ix</em>.
These include specific points of knowledge that are necessary to understand these instructions and choose among different installation options.</p>
<section id="install-system-dependencies">
<h2><a class="toc-backref" href="#id8">Install system dependencies</a><a class="headerlink" href="#install-system-dependencies" title="Permalink to this headline"></a></h2>
<section id="gams-required">
<h3><a class="toc-backref" href="#id9">GAMS (required)</a><a class="headerlink" href="#gams-required" title="Permalink to this headline"></a></h3>
<p>MESSAGE<em>ix</em> requires <a class="reference external" href="http://www.gams.com">GAMS</a>.</p>
<ol class="arabic">
<li><p>Download GAMS for your operating system; either the <a class="reference external" href="https://www.gams.com/download/">latest version</a> or, for users not familiar with GAMS licenses, <a class="reference external" href="https://www.gams.com/29/">version 29</a> (see note below).</p></li>
<li><p>Run the installer.</p></li>
<li><p>Ensure that the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable on your system includes the path to the GAMS program:</p>
<ul>
<li><p>on Windows, in the GAMS installer…</p>
<blockquote>
<div><ul class="simple">
<li><p>Check the box labeled “Use advanced installation mode.”</p></li>
<li><p>Check the box labeled “Add GAMS directory to PATH environment variable” on the Advanced Options page.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>on macOS, in the GAMS installer…</p>
<blockquote>
<div><ul>
<li><p>When prompted to specify the “Installation Type” (step 3 of the installation process), select “Customise”.</p></li>
<li><p>Check the box labeled “Add GAMS to PATH”.</p>
<p>If this option is not available see instructions below.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p>on other platforms (macOS or Linux), add the following line to a file such as <code class="file docutils literal notranslate"><span class="pre">~/.bash_profile</span></code> (macOS), <code class="file docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, or <code class="file docutils literal notranslate"><span class="pre">~/.profile</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export PATH=$PATH:/path/to/gams-directory-with-gams-binary
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MESSAGE-MACRO and MACRO require GAMS 24.8.1 or later (see <a class="reference internal" href="api.html#message_ix.models.MACRO.GAMS_min_version" title="message_ix.models.MACRO.GAMS_min_version"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MACRO.GAMS_min_version</span></code></a>)
The latest version is recommended.</p>
<p>GAMS is proprietary software and requires a license to solve optimization problems.
To run both the <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> and <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> tutorials and test suites, a “free demonstration” license is required; the free license is suitable for these small models.
Versions of GAMS up to <a class="reference external" href="https://www.gams.com/29/">version 29</a> include such a license with the installer; since version 30, the free demo license is no longer included, but may be requested via the GAMS website.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you only have a license for an older version of GAMS, install both the older and the latest versions.</p>
</div>
</section>
<section id="graphviz-optional">
<h3><a class="toc-backref" href="#id10">Graphviz (optional)</a><a class="headerlink" href="#graphviz-optional" title="Permalink to this headline"></a></h3>
<p><a class="reference internal" href="reporting.html#message_ix.reporting.Reporter.visualize" title="message_ix.reporting.Reporter.visualize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reporting.Reporter.visualize()</span></code></a> uses <a class="reference external" href="https://www.graphviz.org/">Graphviz</a>, a program for graph visualization.
Installing message_ix causes the python <code class="xref py py-mod docutils literal notranslate"><span class="pre">graphviz</span></code> package to be installed.
If you want to use <a class="reference internal" href="reporting.html#message_ix.reporting.Reporter.visualize" title="message_ix.reporting.Reporter.visualize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">visualize()</span></code></a> or run the test suite, the Graphviz program itself must also be installed; otherwise it is <strong>optional</strong>.</p>
<p>If you install MESSAGEix <a class="reference internal" href="#using-anaconda">Using Anaconda</a>, Graphviz is installed automatically via <a class="reference external" href="https://anaconda.org/conda-forge/graphviz">its conda-forge package</a>.
For other methods of installation, see the <a class="reference external" href="https://www.graphviz.org/download/">Graphviz download page</a> for downloads and instructions for your system.</p>
</section>
</section>
<section id="install-messageix">
<h2><a class="toc-backref" href="#id11">Install MESSAGE<em>ix</em></a><a class="headerlink" href="#install-messageix" title="Permalink to this headline"></a></h2>
<p>After installing GAMS, we recommend that new users install Anaconda, and then use it to install MESSAGE<em>ix</em>.
Advanced users may choose to install MESSAGE<em>ix</em> using <code class="docutils literal notranslate"><span class="pre">pip</span></code>, or from source code (next sections).
If you are not doing this, then skip those sections.</p>
<section id="using-anaconda">
<h3><a class="toc-backref" href="#id12">Using Anaconda</a><a class="headerlink" href="#using-anaconda" title="Permalink to this headline"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is also available as a narrated video on the <a class="reference external" href="https://www.youtube.com/user/IIASALive">IIASA YouTube channel</a>.
If you are a beginner, you may want to watch the video before attempting the installation yourself.</p>
<iframe width="690" height="360" src="https://www.youtube.com/embed/QZw-7rIqUJ0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<ol class="arabic" start="4">
<li><p>Install Python via either <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html">Miniconda</a> or <a class="reference external" href="https://docs.continuum.io/anaconda/install/">Anaconda</a>. <a class="footnote-reference brackets" href="#id4" id="id1">1</a>
We recommend the latest version; currently Python 3.8.</p></li>
<li><p>Open a command prompt.
Windows users should use the “Anaconda Prompt” to avoid issues with permissions and environment variables when installing and using MESSAGE<em>ix</em>.
This program is available in the Windows Start menu after installing Anaconda.</p></li>
<li><p>Configure conda to install <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> from the conda-forge channel <a class="footnote-reference brackets" href="#id5" id="id2">2</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda config --prepend channels conda-forge
</pre></div>
</div>
</li>
<li><p>Create a new conda environment and activate it.
This step is <strong>required</strong> if using Anaconda, but <em>optional</em> if using Miniconda.
This example uses the name <code class="docutils literal notranslate"><span class="pre">message_env</span></code>, but you can use any name of your choice:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda create --name message_env
$ conda activate message_env
</pre></div>
</div>
</li>
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">message-ix</span></code> package into the current environment (either e.g. <code class="docutils literal notranslate"><span class="pre">message_env</span></code>, or another name from step 7) <a class="footnote-reference brackets" href="#id6" id="id3">3</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda install message-ix
</pre></div>
</div>
</li>
</ol>
<p>Again: at this point, installation is complete.
You do not need to complete the steps in “Using <code class="docutils literal notranslate"><span class="pre">pip</span></code>” or “From source”.
Go to the section <a class="reference internal" href="#check-that-installation-was-successful">Check that installation was successful</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>See the <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/glossary.html">conda glossary</a> for the differences between Anaconda and Miniconda, and the definitions of the terms ‘channel’ and ‘environment’ here.</p>
</dd>
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>The ‘$’ character at the start of these lines indicates that the command text should be entered in the terminal or prompt, depending on the operating system.
Do not retype the ‘$’ character itself.</p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>Notice that conda uses the hyphen (‘-’) in package names, different from the underscore (‘_’) used in Python when importing the package.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using Anaconda (not Miniconda), steps (5) through (8) can also be performed using the graphical Anaconda Navigator.
See the <a class="reference external" href="https://docs.anaconda.com/anaconda/navigator/">Anaconda Navigator documentation</a> for how to perform the various steps.</p>
</div>
</section>
<section id="using-pip">
<h3><a class="toc-backref" href="#id13">Using <code class="docutils literal notranslate"><span class="pre">pip</span></code></a><a class="headerlink" href="#using-pip" title="Permalink to this headline"></a></h3>
<p><a class="reference external" href="https://pip.pypa.io/en/stable/user_guide/">pip</a> is Python’s default package management system.
If you install Anaconda (step 4, above), then <code class="docutils literal notranslate"><span class="pre">pip</span></code> is also usable.
<code class="docutils literal notranslate"><span class="pre">pip</span></code> can also be used when Python is installed directly, <em>without</em> using Anaconda.</p>
<ol class="arabic" start="4">
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">pip</span></code> is installed—with Anaconda, or according to the pip documentation.</p></li>
<li><p>Open a command prompt and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install message_ix
</pre></div>
</div>
</li>
</ol>
</section>
<section id="from-source">
<h3><a class="toc-backref" href="#id14">From source</a><a class="headerlink" href="#from-source" title="Permalink to this headline"></a></h3>
<ol class="arabic" start="4">
<li><p>Install <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/install.html" title="(in ixmp v3.5.1.dev7+ge795853)"><span class="xref std std-doc">ixmp</span></a> from source.</p></li>
<li><p>(Optional) If you intend to contribute changes to MESSAGE<em>ix</em>, first register a Github account, and fork the <a class="reference external" href="https://github.com/iiasa/message_ix">message_ix repository</a>.
This will create a new repository <code class="docutils literal notranslate"><span class="pre">&lt;user&gt;/message_ix</span></code>.
(Please also see <a class="reference internal" href="contributing.html"><span class="doc">Contributing to development</span></a>.)</p></li>
<li><p>Clone either the main repository, or your fork; using the <a class="reference external" href="https://desktop.github.com">Github Desktop</a> client, or the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone git@github.com:iiasa/message_ix.git

# or:
$ git clone git@github.com:USER/message_ix.git
</pre></div>
</div>
</li>
<li><p>Open a command prompt in the <code class="docutils literal notranslate"><span class="pre">message_ix</span></code> directory and type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install --editable .[docs,reporting,tests,tutorial]
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--editable</span></code> flag ensures that changes to the source code are picked up every time <code class="code docutils literal notranslate"><span class="pre">import</span> <span class="pre">message_ix</span></code> is used in Python code.
The <code class="docutils literal notranslate"><span class="pre">[docs,reporting,tests,tutorial]</span></code> extra requirements ensure additional dependencies are installed.</p>
</li>
<li><p>(Optional) If you will be using <code class="file docutils literal notranslate"><span class="pre">MESSAGE_master.gms</span></code> outside of Python <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> to run MESSAGE<em>ix</em>, you will likely modify this file, but will not want to commit these changes to Git.
Set the Git “assume unchanged” bit for this file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git update-index --assume-unchanged message_ix/model/MESSAGE_master.gms
</pre></div>
</div>
<p>To unset the bit, use <code class="docutils literal notranslate"><span class="pre">--no-assume-unchanged</span></code>.
See the <a class="reference external" href="https://www.git-scm.com/docs/git-update-index#_using_assume_unchanged_bit">Git documentation</a> for more details.</p>
</li>
<li><p>(Optional) If installed from source, run the built-in test suite to check that MESSAGE<em>ix</em> functions correctly on your system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="check-that-installation-was-successful">
<h2><a class="toc-backref" href="#id15">Check that installation was successful</a><a class="headerlink" href="#check-that-installation-was-successful" title="Permalink to this headline"></a></h2>
<p>Verify that the version installed corresponds to the <a class="reference external" href="https://github.com/iiasa/message_ix/releases">latest release</a> by running the following commands on the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Show versions of message_ix, ixmp, and key dependencies
$ message-ix show-versions

# Show the list of modelling platforms that have been installed and the path to the database config file
# By default, just the local database should appear in the list
$ message-ix platform list
</pre></div>
</div>
<p>The above commands will work as of <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> 3.0 and in subsequent versions.
If an error occurs, this may mean that an older version has been installed and should be updated.
To check the current version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># If installed using conda
$ conda list message-ix

# If installed using pip
$ pip show message-ix
</pre></div>
</div>
</section>
<section id="install-r-and-reticulate">
<span id="install-r"></span><h2><a class="toc-backref" href="#id16">Install R and reticulate</a><a class="headerlink" href="#install-r-and-reticulate" title="Permalink to this headline"></a></h2>
<p>You only need to install R if you want to use <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> and <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> from R, rather than from Python.</p>
<p>First, install <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> using one of the three methods above.
Then:</p>
<ol class="arabic">
<li><p><a class="reference external" href="https://www.r-project.org">Install R</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ensure the the R version installed is either 32- <em>or</em> 64-bit (and &gt;= 3.5.0), consistent with GAMS and Java.
Having both 32- and 64-bit versions of R, or mixed 32- and 64-bit versions of different packages, can cause errors.</p>
</div>
</li>
<li><p><a class="reference external" href="https://rstudio.github.io/reticulate/#installation">Install reticulate</a>.</p></li>
<li><p>(Optional) Install <a class="reference external" href="https://irkernel.github.io/installation/">IRkernel</a>, which allows running R code in Jupyter notebooks (see the link for instructions).</p></li>
</ol>
<p>Next:</p>
<ul>
<li><p>See <a class="reference internal" href="rmessageix.html"><span class="doc">Usage in R via reticulate</span></a> for further details.</p></li>
<li><p>If you installed <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> from source, check that the R interface works by using the built-in test suite to run the R tutorial notebooks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest -m rmessageix
</pre></div>
</div>
</li>
</ul>
</section>
<section id="common-issues">
<h2><a class="toc-backref" href="#id17">Common issues</a><a class="headerlink" href="#common-issues" title="Permalink to this headline"></a></h2>
<section id="no-jvm-shared-library-file-jvm-dll-found">
<h3><a class="toc-backref" href="#id18">“No JVM shared library file (jvm.dll) found”</a><a class="headerlink" href="#no-jvm-shared-library-file-jvm-dll-found" title="Permalink to this headline"></a></h3>
<p>Error messages like this when running <code class="docutils literal notranslate"><span class="pre">message-ix</span> <span class="pre">--platform=default</span> <span class="pre">list</span></code> or when creating a <code class="xref py py-class docutils literal notranslate"><span class="pre">Platform</span></code> object (e.g. <code class="code docutils literal notranslate"><span class="pre">ixmp.Platform()</span></code> in Python) indicate that <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> (via <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> and JPype) cannot find Java on your machine, in particular the Java Virtual Machine (JVM).
There are multiple ways to resolve this issue:</p>
<ol class="arabic simple">
<li><p>If you have installed Java manually, ensure that the <code class="docutils literal notranslate"><span class="pre">JAVA_HOME</span></code> environment variable is set system-wide; see for example <a class="reference external" href="https://javatutorial.net/set-java-home-windows-10">these instructions</a> for Windows users.</p></li>
<li><p>If using Anaconda, install the <code class="docutils literal notranslate"><span class="pre">openjdk</span></code> package in the same environment as the <code class="docutils literal notranslate"><span class="pre">message-ix</span></code> package.
When the Windows Anaconda Prompt is opened, <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span></code> then ensures the <code class="docutils literal notranslate"><span class="pre">JAVA_HOME</span></code> variable is correctly set.</p></li>
</ol>
<p>To check which JVM will be used by ixmp, run the following in any prompt or terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -c &quot;import jpype; print(jpype.getDefaultJVMPath())&quot;
</pre></div>
</div>
</section>
<section id="no-module-named-pyam">
<h3><a class="toc-backref" href="#id19">“No module named ‘pyam’”</a><a class="headerlink" href="#no-module-named-pyam" title="Permalink to this headline"></a></h3>
<p>The package <a class="reference external" href="https://pypi.org/project/pyam-iamc/">pyam-iamc</a> is one of the “reporting” extra dependencies of <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code>.
These extra dependencies are not installed automatically, but can be installed using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># If message_ix is installed using pip
$ pip install message_ix[reporting]
# or
$ pip install pyam-iamc

# If message_ix is installed using Anaconda (see note below)
$ conda install pyam
</pre></div>
</div>
<p>Note that this package has the <em>different</em> name on conda-forge versus PyPI: <a class="reference external" href="https://anaconda.org/conda-forge/pyam">pyam</a>.</p>
<p>The package listed as <a class="reference external" href="https://pypi.org/project/pyam/">pyam</a> on PyPI (and not available via Anaconda) is unrelated to <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code>, not compatible with it, and will produce other error messages.
If you installed this package accidentally, remove it using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># If installed using pip
$ pip uninstall pyam
</pre></div>
</div>
</section>
<section id="copy-gams-model-files-for-editing">
<h3><a class="toc-backref" href="#id20">Copy GAMS model files for editing</a><a class="headerlink" href="#copy-gams-model-files-for-editing" title="Permalink to this headline"></a></h3>
<p>By default, the GAMS files containing the mathematical model core are installed
with <code class="docutils literal notranslate"><span class="pre">message_ix</span></code> (e.g., in your Python <code class="docutils literal notranslate"><span class="pre">site-packages</span></code> directory). Many
users will simply want to run MESSAGE<em>ix</em>, or use the Python or R APIs to
manipulate data, parameters and scenarios. For these uses, direct editing of the
GAMS files is not necessary.</p>
<p>To edit the files directly—to change the mathematical formulation, such as adding new types of parameters, constraints, etc.—use the <code class="docutils literal notranslate"><span class="pre">message-ix</span></code> command-line program to copy the model files in a directory of your choice:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ message-ix copy-model /path/for/model/files
</pre></div>
</div>
<p>You can also set the <code class="docutils literal notranslate"><span class="pre">message</span> <span class="pre">model</span> <span class="pre">dir</span></code> configuration key so that this copy of the files is used by default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ message-ix config set &quot;message model dir&quot; /path/for/model/files
</pre></div>
</div>
<p>…or do both in one step:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ message-ix copy-model --set-default /path/for/model/files
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="model/MESSAGE-MACRO_run.html" class="btn btn-neutral float-left" title="Run script for MESSAGEix and MACRO" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, IIASA Energy, Climate, and Environment (ECE) Program.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>