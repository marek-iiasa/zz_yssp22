<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python API &mdash; MESSAGEix 3.5.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/messageix-favicon.svg"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage in R via reticulate" href="rmessageix.html" />
    <link rel="prev" title="Calibrate and tune MESSAGE-MACRO" href="macro.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/combined-logo-white.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prereqs.html">Prerequisite knowledge &amp; skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="framework.html">MESSAGE<em>ix</em> model &amp; framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Publications, Projects, and Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mathematical Specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/sets_maps_def.html">Sets and mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Years, periods, and time slices</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/parameter_def.html">Parameter definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/model_core.html">MESSAGE core formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/model_solve.html">Solve statement workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/reporting.html">Standard output reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/scaling_investment_costs.html">Auxiliary investment parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MACRO/macro_core.html">MACRO core formulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing MESSAGEix models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="efficiency.html">Efficiency - output- vs. input defined technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/add_year.html">Add model years to an existing Scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Postprocessing and reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging and data validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="macro.html">Calibrate and tune MESSAGE-MACRO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help &amp; reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ixmp-package"><code class="docutils literal notranslate"><span class="pre">ixmp</span></code> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#message-ix-package"><code class="docutils literal notranslate"><span class="pre">message_ix</span></code> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#model-classes">Model classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-message_ix.util">Utility methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-message_ix.testing">Testing utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rmessageix.html">Usage in R via <code class="docutils literal notranslate"><span class="pre">reticulate</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="notice.html">User guidelines and notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to development</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Sharing publications, projects, and tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MESSAGEix</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Python API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="python-api">
<h1>Python API<a class="headerlink" href="#python-api" title="Permalink to this headline"></a></h1>
<p>The application programming interface (API) for MESSAGE<em>ix</em> model developers is implemented in Python.
The full API is also available from R; see <a class="reference internal" href="rmessageix.html"><span class="doc">Usage in R via reticulate</span></a>.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#ixmp-package" id="id5"><code class="docutils literal notranslate"><span class="pre">ixmp</span></code> package</a></p></li>
<li><p><a class="reference internal" href="#message-ix-package" id="id6"><code class="docutils literal notranslate"><span class="pre">message_ix</span></code> package</a></p></li>
<li><p><a class="reference internal" href="#model-classes" id="id7">Model classes</a></p></li>
<li><p><a class="reference internal" href="#module-message_ix.util" id="id8">Utility methods</a></p></li>
<li><p><a class="reference internal" href="#module-message_ix.testing" id="id9">Testing utilities</a></p></li>
</ul>
</div>
<section id="ixmp-package">
<h2><a class="toc-backref" href="#id5"><code class="docutils literal notranslate"><span class="pre">ixmp</span></code> package</a><a class="headerlink" href="#ixmp-package" title="Permalink to this headline"></a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> provides three classes. These are fully described by the <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/index.html" title="(in ixmp v3.5.1.dev7+ge795853)"><span class="xref std std-doc">ixmp documentation</span></a>, which is cross-linked from many places in the MESSAGE<em>ix</em> documentation.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Platform" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Platform</span></code></a>([name, backend])</p></td>
<td><p>Instance of the modeling platform.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.TimeSeries" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>(mp, model, scenario[, version, ...])</p></td>
<td><p>Collection of data in time series format.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Scenario</span></code></a>(mp, model, scenario[, version, ...])</p></td>
<td><p>Collection of model-related data.</p></td>
</tr>
</tbody>
</table>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> also provides some utility classes and methods:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ixmp.config</span></code></p></td>
<td><p>Configuration for ixmp.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api-model.html#ixmp.model.MODELS" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ixmp.model.MODELS</span></code></a></p></td>
<td><p>Mapping from names to available models.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api-model.html#ixmp.model.get_model" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ixmp.model.get_model</span></code></a>(name, **model_options)</p></td>
<td><p>Return a model for <em>name</em> (or the default) with <em>model_options</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.testing.make_dantzig" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ixmp.testing.make_dantzig</span></code></a>(mp[, solve, quiet])</p></td>
<td><p>Return <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.Scenario</span></code></a> of Dantzig's canning/transport problem.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="message-ix-package">
<h2><a class="toc-backref" href="#id6"><code class="docutils literal notranslate"><span class="pre">message_ix</span></code> package</a><a class="headerlink" href="#message-ix-package" title="Permalink to this headline"></a></h2>
<p>MESSAGE<em>ix</em> models are created using the <a class="reference internal" href="#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a> class. Several utility methods are also provided in the module <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.utils</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="message_ix.Scenario">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.</span></span><span class="sig-name descname"><span class="pre">Scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.core.scenario.Scenario</span></code></a></p>
<p>MESSAGE<em>ix</em> Scenario.</p>
<p>See <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.TimeSeries" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.TimeSeries</span></code></a> for the meaning of arguments <cite>mp</cite>, <cite>model</cite>,
<cite>scenario</cite>, <cite>version</cite>, and <cite>annotation</cite>. The <cite>scheme</cite> of a newly-created
Scenario is always ‘MESSAGE’.</p>
<p>This class extends <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.Scenario</span></code></a> and <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.TimeSeries" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.TimeSeries</span></code></a> and
inherits all their methods. Documentation of these inherited methods is
included here for convenience. <a class="reference internal" href="#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a> defines
additional methods specific to MESSAGE<em>ix</em>:</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.0: </span><a class="reference internal" href="#message_ix.Scenario.read_excel" title="message_ix.Scenario.read_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code></a> and <a class="reference internal" href="#message_ix.Scenario.to_excel" title="message_ix.Scenario.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_excel()</span></code></a> are now methods of <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.Scenario</span></code></a>, but continue to work with message_ix.Scenario.</p>
</div>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.Scenario.add_cat" title="message_ix.Scenario.add_cat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_cat</span></code></a>(name, cat, keys[, is_unique])</p></td>
<td><p>Map elements from <em>keys</em> to category <em>cat</em> within set <em>name</em>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.Scenario.add_horizon" title="message_ix.Scenario.add_horizon"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_horizon</span></code></a>([year, firstmodelyear, data])</p></td>
<td><p>Set the scenario time horizon via <code class="docutils literal notranslate"><span class="pre">year</span></code> and related categories.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.Scenario.add_macro" title="message_ix.Scenario.add_macro"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_macro</span></code></a>(data[, scenario, check_convergence])</p></td>
<td><p>Add MACRO parametrization to the Scenario and calibrate.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.Scenario.add_spatial_sets" title="message_ix.Scenario.add_spatial_sets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_spatial_sets</span></code></a>(data)</p></td>
<td><p>Add sets related to spatial dimensions of the model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.Scenario.cat" title="message_ix.Scenario.cat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cat</span></code></a>(name, cat)</p></td>
<td><p>Return a list of all set elements mapped to a category.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.Scenario.cat_list" title="message_ix.Scenario.cat_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cat_list</span></code></a>(name)</p></td>
<td><p>Return a list of all categories for a mapping set.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.Scenario.equ" title="message_ix.Scenario.equ"><code class="xref py py-obj docutils literal notranslate"><span class="pre">equ</span></code></a>(name[, filters])</p></td>
<td><p>Return equation data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.Scenario.firstmodelyear" title="message_ix.Scenario.firstmodelyear"><code class="xref py py-obj docutils literal notranslate"><span class="pre">firstmodelyear</span></code></a></p></td>
<td><p>The first model year of the scenario.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.Scenario.par" title="message_ix.Scenario.par"><code class="xref py py-obj docutils literal notranslate"><span class="pre">par</span></code></a>(name[, filters])</p></td>
<td><p>Return parameter data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.Scenario.read_excel" title="message_ix.Scenario.read_excel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_excel</span></code></a>(path[, add_units, init_items, ...])</p></td>
<td><p>Read a Microsoft Excel file into the Scenario.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.Scenario.rename" title="message_ix.Scenario.rename"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rename</span></code></a>(name, mapping[, keep])</p></td>
<td><p>Rename an element in a set</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.Scenario.to_excel" title="message_ix.Scenario.to_excel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_excel</span></code></a>(path[, items, filters, max_row])</p></td>
<td><p>Write Scenario to a Microsoft Excel file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.Scenario.var" title="message_ix.Scenario.var"><code class="xref py py-obj docutils literal notranslate"><span class="pre">var</span></code></a>(name[, filters])</p></td>
<td><p>Return variable data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.Scenario.vintage_and_active_years" title="message_ix.Scenario.vintage_and_active_years"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vintage_and_active_years</span></code></a>([ya_args, in_horizon])</p></td>
<td><p>Return sets of vintage and active years for use in data input.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.Scenario.years_active" title="message_ix.Scenario.years_active"><code class="xref py py-obj docutils literal notranslate"><span class="pre">years_active</span></code></a>(node, tec, yr_vtg)</p></td>
<td><p>Return years in which <em>tec</em> of <em>yr_vtg</em> can be active in <em>node</em>.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.add_macro">
<span class="sig-name descname"><span class="pre">add_macro</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_convergence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.add_macro" title="Permalink to this definition"></a></dt>
<dd><p>Add MACRO parametrization to the Scenario and calibrate.
Notice: existing MACRO calibration data will be overwritten by running this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> (</em><em>str -&gt; DataFrame</em><em> or </em><em>Series</em><em>)</em>) – Dictionary of required data for MACRO calibration.</p></li>
<li><p><strong>scenario</strong> (<em>string</em><em>, </em><em>optional</em><em>, </em><em>default: None.</em>) – Scenario name for calibrated MESSAGEix scenario.</p></li>
<li><p><strong>check_convergence</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em><em>, </em><em>default: True.</em>) – The calibrated scenario solves in one iteration.</p></li>
<li><p><strong>kwargs</strong> – Solve options when solving the calibrated scenario.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="macro.html#macro-input-data"><span class="std std-ref">Input data file</span></a></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>MACRO support via <a class="reference internal" href="#message_ix.Scenario.add_macro" title="message_ix.Scenario.add_macro"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_macro()</span></code></a> is <strong>experimental</strong> in message_ix 3.0 and may not function as expected on all possible MESSAGE<em>ix</em> models.
See <a class="reference external" href="https://github.com/iiasa/message_ix/issues?q=is%3Aissue+is%3Aopen+label%3Amacro">a list of known and pending issues</a> on GitHub.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.add_cat">
<span class="sig-name descname"><span class="pre">add_cat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.add_cat" title="Permalink to this definition"></a></dt>
<dd><p>Map elements from <em>keys</em> to category <em>cat</em> within set <em>name</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the set.</p></li>
<li><p><strong>cat</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the category.</p></li>
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>list of str</em>) – Element keys to be added to the category mapping.</p></li>
<li><p><strong>is_unique</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If <cite>True</cite>, then <em>cat</em> must have only one element. An exception is
raised if <em>cat</em> already has an element, or if <code class="docutils literal notranslate"><span class="pre">len(keys)</span> <span class="pre">&gt;</span> <span class="pre">1</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.add_geodata">
<span class="sig-name descname"><span class="pre">add_geodata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.add_geodata" title="Permalink to this definition"></a></dt>
<dd><p>Add geodata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – <p>Data to add. <cite>df</cite> must have the following columns:</p>
<ul class="simple">
<li><p><cite>region</cite></p></li>
<li><p><cite>variable</cite></p></li>
<li><p><cite>subannual</cite></p></li>
<li><p><cite>unit</cite></p></li>
<li><p><cite>year</cite></p></li>
<li><p><cite>value</cite></p></li>
<li><p><cite>meta</cite></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.add_horizon">
<span class="sig-name descname"><span class="pre">add_horizon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstmodelyear</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.add_horizon" title="Permalink to this definition"></a></dt>
<dd><p>Set the scenario time horizon via <code class="docutils literal notranslate"><span class="pre">year</span></code> and related categories.</p>
<p><a class="reference internal" href="#message_ix.Scenario.add_horizon" title="message_ix.Scenario.add_horizon"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_horizon()</span></code></a> acts like <code class="docutils literal notranslate"><span class="pre">add_set(&quot;year&quot;,</span> <span class="pre">...)</span></code>, except with
additional conveniences:</p>
<ul>
<li><p>The <cite>firstmodelyear</cite> argument can be used to set the first period
handled by the MESSAGE optimization. This is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scenario</span><span class="o">.</span><span class="n">add_cat</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;firstmodelyear&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">is_unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Parameter <code class="docutils literal notranslate"><span class="pre">duration_period</span></code> is assigned values based on <cite>year</cite>:
The duration of periods is calculated as the interval between
successive <cite>year</cite> elements, and the duration of the first period is
set to value that appears most frequently.</p></li>
</ul>
<p>See <a class="reference internal" href="time.html"><span class="doc">Years, periods, and time slices</span></a> for a detailed terminology of years and periods in
<code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>list of int</em>) – The set of periods.</p></li>
<li><p><strong>firstmodelyear</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – First period for the model solution. If not given, the first entry
of <cite>year</cite> is used.</p></li>
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – <div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.1: </span>The “year” key corresponds to <cite>year</cite> and is required.
A “firstmodelyear” key corresponds to <cite>firstmodelyear</cite> and is
optional.</p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If the <code class="docutils literal notranslate"><span class="pre">year</span></code> set of the Scenario is already populated. Changing
    the time periods of an existing Scenario can entail complex
    adjustments to data. For this purpose, adjust each set and
    parameter individually, or see <a class="reference internal" href="tools/add_year.html#module-message_ix.tools.add_year" title="message_ix.tools.add_year"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools.add_year</span></code></a>.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">message_ix</span><span class="o">.</span><span class="n">Scenario</span><span class="p">()</span>
<span class="go"># The following are equivalent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_horizon</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">2030</span><span class="p">,</span> <span class="mi">2040</span><span class="p">],</span> <span class="n">firstmodelyear</span><span class="o">=</span><span class="mi">2020</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_horizon</span><span class="p">([</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">2030</span><span class="p">,</span> <span class="mi">2040</span><span class="p">],</span> <span class="mi">2020</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_horizon</span><span class="p">([</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">2030</span><span class="p">,</span> <span class="mi">2040</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.add_par">
<span class="sig-name descname"><span class="pre">add_par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_or_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.add_par" title="Permalink to this definition"></a></dt>
<dd><p>Set the values of a parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the parameter.</p></li>
<li><p><strong>key_or_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>iterable of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.10)"><em>range</em></a><em> or </em><em>dict or</em>) – <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>
Element(s) to be added.</p></li>
<li><p><strong>value</strong> (<em>numeric</em><em> or </em><em>iterable of numeric</em><em>, </em><em>optional</em>) – Values.</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>iterable of str</em><em>, </em><em>optional</em>) – Unit symbols.</p></li>
<li><p><strong>comment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>iterable of str</em><em>, </em><em>optional</em>) – Comment(s) for the added values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.add_set">
<span class="sig-name descname"><span class="pre">add_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.add_set" title="Permalink to this definition"></a></dt>
<dd><p>Add elements to an existing set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the set.</p></li>
<li><p><strong>key</strong> (str or iterable of str or dict or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Element(s) to be added. If <cite>name</cite> exists, the elements are appended to
existing elements.</p></li>
<li><p><strong>comment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>iterable of str</em><em>, </em><em>optional</em>) – Comment describing the element(s). If given, there must be the same number
of comments as elements.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.10)"><strong>KeyError</strong></a> – If the set <cite>name</cite> does not exist. <a class="reference internal" href="#message_ix.Scenario.init_set" title="message_ix.Scenario.init_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_set()</span></code></a> must be called  before
    <a class="reference internal" href="#message_ix.Scenario.add_set" title="message_ix.Scenario.add_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_set()</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – For invalid forms or combinations of <cite>key</cite> and <cite>comment</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.add_spatial_sets">
<span class="sig-name descname"><span class="pre">add_spatial_sets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.add_spatial_sets" title="Permalink to this definition"></a></dt>
<dd><p>Add sets related to spatial dimensions of the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – <p>Mapping of <cite>level</cite> → <cite>member</cite>. Each member may be:</p>
<ul class="simple">
<li><p>A single label for elements.</p></li>
<li><p>An iterable of labels for elements.</p></li>
<li><p>A recursive <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> following the same convention, defining
sub-levels and their members.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">message_ix</span><span class="o">.</span><span class="n">Scenario</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_spatial_sets</span><span class="p">({</span><span class="s1">&#39;country&#39;</span><span class="p">:</span> <span class="s1">&#39;Austria&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_spatial_sets</span><span class="p">({</span><span class="s1">&#39;country&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Austria&#39;</span><span class="p">,</span> <span class="s1">&#39;Germany&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_spatial_sets</span><span class="p">({</span><span class="s1">&#39;country&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;Austria&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Vienna&#39;</span><span class="p">,</span> <span class="s1">&#39;Lower Austria&#39;</span><span class="p">]}}})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.add_timeseries">
<span class="sig-name descname"><span class="pre">add_timeseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_lim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.add_timeseries" title="Permalink to this definition"></a></dt>
<dd><p>Add time series data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – <p>Data to add. <cite>df</cite> must have the following columns:</p>
<ul>
<li><p><cite>region</cite> or <cite>node</cite></p></li>
<li><p><cite>variable</cite></p></li>
<li><p><cite>unit</cite></p></li>
</ul>
<p>Additional column names may be either of:</p>
<ul>
<li><p><cite>year</cite> and <cite>value</cite>—long, or ‘tabular’, format.</p></li>
<li><p>one or more specific years—wide, or ‘IAMC’ format.</p></li>
</ul>
<p>To support subannual temporal resolution of timeseries data, a column
<cite>subannual</cite> is optional in <cite>df</cite>. The entries in this column must have been
defined in the Platform instance using <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_timeslice()</span></code> beforehand. If
no column <cite>subannual</cite> is included in <cite>df</cite>, the data is assumed to contain
yearly values. See <code class="xref py py-meth docutils literal notranslate"><span class="pre">timeslices()</span></code> for a detailed description of the
feature.</p>
</p></li>
<li><p><strong>meta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, store <cite>df</cite> as metadata. Metadata is treated specially when
<a class="reference internal" href="#message_ix.Scenario.clone" title="message_ix.Scenario.clone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Scenario.clone()</span></code></a> is called for Scenarios created with
<code class="docutils literal notranslate"><span class="pre">scheme='MESSAGE'</span></code>.</p></li>
<li><p><strong>year_lim</strong> (<em>tuple of</em><em> (</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><em>None</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><em>None</em><em>)</em><em>, </em><em>optional</em>) – Respectively, minimum and maximum years to add from <cite>df</cite>; data for other
years is ignored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.cat">
<span class="sig-name descname"><span class="pre">cat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.cat" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of all set elements mapped to a category.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the set.</p></li>
<li><p><strong>cat</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the category.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> is returned if <em>name</em> is ‘year’.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of str or list of int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.cat_list">
<span class="sig-name descname"><span class="pre">cat_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.cat_list" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of all categories for a mapping set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.change_scalar">
<span class="sig-name descname"><span class="pre">change_scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.10)"><span class="pre">numbers.Real</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.change_scalar" title="Permalink to this definition"></a></dt>
<dd><p>Set the value and unit of a scalar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the scalar.</p></li>
<li><p><strong>val</strong> (<em>number</em>) – New value of the scalar.</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – New unit of the scalar.</p></li>
<li><p><strong>comment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Description of the change.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.check_out">
<span class="sig-name descname"><span class="pre">check_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeseries_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.check_out" title="Permalink to this definition"></a></dt>
<dd><p>Check out the Scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If <a class="reference internal" href="#message_ix.Scenario.has_solution" title="message_ix.Scenario.has_solution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_solution()</span></code></a> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeSeries.check_out</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.maybe_check_out</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.clone" title="Permalink to this definition"></a></dt>
<dd><p>Clone the current scenario and return the clone.</p>
<p>See <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario.clone" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ixmp.Scenario.clone()</span></code></a> for other parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keep_solution</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, include all timeseries data and the solution
(vars and equs) from the source Scenario in the clone.
Otherwise, only timeseries data marked as <cite>meta=True</cite> (see
<code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeSeries.add_timeseries()</span></code>) or prior to <cite>first_model_year</cite>
(see <code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeSeries.add_timeseries()</span></code>) are cloned.</p></li>
<li><p><strong>shift_first_model_year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – If given, the values of the solution are transfered to parameters
<cite>historical_*</cite>, parameter <cite>resource_volume</cite> is updated, and the
<cite>first_model_year</cite> is shifted. The solution is then discarded,
see <code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeSeries.remove_solution()</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.commit">
<span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.commit" title="Permalink to this definition"></a></dt>
<dd><p>Commit all changed data to the database.</p>
<p>If the TimeSeries was newly created (with <code class="docutils literal notranslate"><span class="pre">version='new'</span></code>), <code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code>
is updated with a new version number assigned by the backend. Otherwise,
<a class="reference internal" href="#message_ix.Scenario.commit" title="message_ix.Scenario.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">commit()</span></code></a> does not change the <code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>comment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Description of the changes being committed.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.maybe_commit</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.delete_meta">
<span class="sig-name descname"><span class="pre">delete_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.delete_meta" title="Permalink to this definition"></a></dt>
<dd><p>Remove <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/data-model.html#data-meta" title="(in ixmp v3.5.1.dev7+ge795853)"><span>Metadata</span></a> for this object.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.1: </span>Use <a class="reference internal" href="#message_ix.Scenario.remove_meta" title="message_ix.Scenario.remove_meta"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_meta()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>list of str</em>) – Either single metadata name/identifier, or list of names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.discard_changes">
<span class="sig-name descname"><span class="pre">discard_changes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.discard_changes" title="Permalink to this definition"></a></dt>
<dd><p>Discard all changes and reload from the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.equ">
<span class="sig-name descname"><span class="pre">equ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.equ" title="Permalink to this definition"></a></dt>
<dd><p>Return equation data.</p>
<p>Same as <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario.equ" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ixmp.Scenario.equ()</span></code></a>, except columns indexed by the
MESSAGE<em>ix</em> set <code class="docutils literal notranslate"><span class="pre">year</span></code> are returned with <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the equation.</p></li>
<li><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> (</em><em>str -&gt; list of str</em><em>)</em><em>, </em><em>optional</em>) – Filters for the dimensions of the equation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered elements of the equation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.equ_list">
<span class="sig-name descname"><span class="pre">equ_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.equ_list" title="Permalink to this definition"></a></dt>
<dd><p>List all defined equations.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="message_ix.Scenario.firstmodelyear">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">firstmodelyear</span></span><a class="headerlink" href="#message_ix.Scenario.firstmodelyear" title="Permalink to this definition"></a></dt>
<dd><p>The first model year of the scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.from_url">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'warn'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.TimeSeries" title="(in ixmp v3.5.1.dev7+ge795853)"><span class="pre">ixmp.core.timeseries.TimeSeries</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Platform" title="(in ixmp v3.5.1.dev7+ge795853)"><span class="pre">ixmp.core.platform.Platform</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.from_url" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate a TimeSeries (or Scenario) given an <code class="docutils literal notranslate"><span class="pre">ixmp://</span></code> URL.</p>
<p>The following are equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ixmp</span> <span class="kn">import</span> <span class="n">Platform</span><span class="p">,</span> <span class="n">TimeSeries</span>
<span class="n">mp</span> <span class="o">=</span> <span class="n">Platform</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;example&#39;</span><span class="p">)</span>
<span class="n">scen</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">mp</span> <span class="s1">&#39;model&#39;</span><span class="p">,</span> <span class="s1">&#39;scenario&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
<p>and:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ixmp</span> <span class="kn">import</span> <span class="n">TimeSeries</span>
<span class="n">scen</span><span class="p">,</span> <span class="n">mp</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">from_url</span><span class="p">(</span><span class="s1">&#39;ixmp://example/model/scenario#42&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – See <code class="xref py py-meth docutils literal notranslate"><span class="pre">parse_url</span></code>.</p></li>
<li><p><strong>errors</strong> (<em>'warn'</em><em> or </em><em>'raise'</em>) – If ‘warn’, a failure to load the TimeSeries is logged as a warning, and the
platform is still returned. If ‘raise’, the exception is raised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ts, platform</strong> – The TimeSeries and Platform referred to by the URL.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2-tuple of (TimeSeries, <code class="xref py py-class docutils literal notranslate"><span class="pre">Platform</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.get_geodata">
<span class="sig-name descname"><span class="pre">get_geodata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.get_geodata" title="Permalink to this definition"></a></dt>
<dd><p>Fetch geodata and return it as dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Specified data.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.get_meta">
<span class="sig-name descname"><span class="pre">get_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.get_meta" title="Permalink to this definition"></a></dt>
<dd><p>Get <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/data-model.html#data-meta" title="(in ixmp v3.5.1.dev7+ge795853)"><span>Metadata</span></a> for this object.</p>
<p>Metadata with the given <cite>name</cite>, attached to this (<a class="reference internal" href="#message_ix.Scenario.model" title="message_ix.Scenario.model"><code class="xref py py-attr docutils literal notranslate"><span class="pre">model</span></code></a> name,
<a class="reference internal" href="#message_ix.Scenario.scenario" title="message_ix.Scenario.scenario"><code class="xref py py-attr docutils literal notranslate"><span class="pre">scenario</span></code></a> name, <code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code>), is retrieved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Metadata name/identifier.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.has_equ">
<span class="sig-name descname"><span class="pre">has_equ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.has_equ" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the scenario has an equation with that name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.has_par">
<span class="sig-name descname"><span class="pre">has_par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.has_par" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the scenario has a parameter with that name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.has_set">
<span class="sig-name descname"><span class="pre">has_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.has_set" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the scenario has a set <em>name</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.has_solution">
<span class="sig-name descname"><span class="pre">has_solution</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.has_solution" title="Permalink to this definition"></a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the Scenario contains model solution data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.has_var">
<span class="sig-name descname"><span class="pre">has_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.has_var" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the scenario has a variable with that name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.idx_names">
<span class="sig-name descname"><span class="pre">idx_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.idx_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of index names for an item (set, par, var, equ).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – name of the item</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.idx_sets">
<span class="sig-name descname"><span class="pre">idx_sets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.idx_sets" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of index sets for an item (set, par, var, equ).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – name of the item</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.init_equ">
<span class="sig-name descname"><span class="pre">init_equ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_sets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.init_equ" title="Permalink to this definition"></a></dt>
<dd><p>Initialize a new equation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the equation.</p></li>
<li><p><strong>idx_sets</strong> (<em>sequence of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Name(s) of index sets for a 1+-dimensional variable.</p></li>
<li><p><strong>idx_names</strong> (<em>sequence of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Names of the dimensions indexed by <cite>idx_sets</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.init_par">
<span class="sig-name descname"><span class="pre">init_par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_sets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.init_par" title="Permalink to this definition"></a></dt>
<dd><p>Initialize a new parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the parameter.</p></li>
<li><p><strong>idx_sets</strong> (<em>sequence of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Names of sets that index this parameter.</p></li>
<li><p><strong>idx_names</strong> (<em>sequence of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Names of the dimensions indexed by <cite>idx_sets</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.init_scalar">
<span class="sig-name descname"><span class="pre">init_scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.10)"><span class="pre">numbers.Real</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.init_scalar" title="Permalink to this definition"></a></dt>
<dd><p>Initialize a new scalar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the scalar</p></li>
<li><p><strong>val</strong> (<em>number</em>) – Initial value of the scalar.</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Unit of the scalar.</p></li>
<li><p><strong>comment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Description of the scalar.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.init_set">
<span class="sig-name descname"><span class="pre">init_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_sets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.init_set" title="Permalink to this definition"></a></dt>
<dd><p>Initialize a new set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the set.</p></li>
<li><p><strong>idx_sets</strong> (<em>sequence of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Names of other sets that index this set.</p></li>
<li><p><strong>idx_names</strong> (<em>sequence of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Names of the dimensions indexed by <cite>idx_sets</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If the set (or another object with the same <em>name</em>) already exists.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.10)"><strong>RuntimeError</strong></a> – If the Scenario is not checked out (see <code class="xref py py-meth docutils literal notranslate"><span class="pre">check_out()</span></code>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.init_var">
<span class="sig-name descname"><span class="pre">init_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_sets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.init_var" title="Permalink to this definition"></a></dt>
<dd><p>Initialize a new variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the variable.</p></li>
<li><p><strong>idx_sets</strong> (<em>sequence of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Name(s) of index sets for a 1+-dimensional variable.</p></li>
<li><p><strong>idx_names</strong> (<em>sequence of str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Names of the dimensions indexed by <cite>idx_sets</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.is_default">
<span class="sig-name descname"><span class="pre">is_default</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.is_default" title="Permalink to this definition"></a></dt>
<dd><p>Return <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the <code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code> is the default version.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api-backend.html#ixmp.backend.ItemType" title="(in ixmp v3.5.1.dev7+ge795853)"><span class="pre">ixmp.backend.ItemType</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ItemType.PAR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.10)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.items" title="Permalink to this definition"></a></dt>
<dd><p>Iterate over model data items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>ItemType</em><em>, </em><em>optional</em>) – Types of items to iterate, e.g. <code class="xref py py-data docutils literal notranslate"><span class="pre">ItemType.PAR</span></code> for parameters, the
only value currently supported.</p></li>
<li><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – Filters for values along dimensions; same as the <cite>filters</cite> argument to
<a class="reference internal" href="#message_ix.Scenario.par" title="message_ix.Scenario.par"><code class="xref py py-meth docutils literal notranslate"><span class="pre">par()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>(str, object)</em> – Tuples of item name and data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.last_update">
<span class="sig-name descname"><span class="pre">last_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.last_update" title="Permalink to this definition"></a></dt>
<dd><p>Get the timestamp of the last update/edit of this TimeSeries.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.load_scenario_data">
<span class="sig-name descname"><span class="pre">load_scenario_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.load_scenario_data" title="Permalink to this definition"></a></dt>
<dd><p>Load all Scenario data into memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If the Scenario was instantiated with <code class="docutils literal notranslate"><span class="pre">cache=False</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="message_ix.Scenario.model">
<span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#message_ix.Scenario.model" title="Permalink to this definition"></a></dt>
<dd><p>Name of the model associated with the TimeSeries.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.par">
<span class="sig-name descname"><span class="pre">par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.par" title="Permalink to this definition"></a></dt>
<dd><p>Return parameter data.</p>
<p>Same as <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario.par" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ixmp.Scenario.par()</span></code></a>, except columns indexed by the
MESSAGE<em>ix</em> set <code class="docutils literal notranslate"><span class="pre">year</span></code> are returned with <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the parameter.</p></li>
<li><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> (</em><em>str -&gt; list of str</em><em>)</em><em>, </em><em>optional</em>) – Filters for the dimensions of the parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered elements of the parameter.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.par_list">
<span class="sig-name descname"><span class="pre">par_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.par_list" title="Permalink to this definition"></a></dt>
<dd><p>List all defined parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.preload_timeseries">
<span class="sig-name descname"><span class="pre">preload_timeseries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.preload_timeseries" title="Permalink to this definition"></a></dt>
<dd><p>Preload timeseries data to in-memory cache. Useful for bulk updates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.read_excel">
<span class="sig-name descname"><span class="pre">read_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><span class="pre">os.PathLike</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.read_excel" title="Permalink to this definition"></a></dt>
<dd><p>Read a Microsoft Excel file into the Scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – File to read. Must have suffix ‘.xlsx’.</p></li>
<li><p><strong>add_units</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Add missing units, if any, to the Platform instance.</p></li>
<li><p><strong>init_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Initialize sets and parameters that do not already exist in the Scenario.</p></li>
<li><p><strong>commit_steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Commit changes after every data addition.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/file-io.html#excel-data-format" title="(in ixmp v3.5.1.dev7+ge795853)"><span>Scenario/model data</span></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeSeries.read_file</span></code>, <a class="reference internal" href="#message_ix.Scenario.to_excel" title="message_ix.Scenario.to_excel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_excel</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.read_file">
<span class="sig-name descname"><span class="pre">read_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><span class="pre">os.PathLike</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstyear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lastyear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.read_file" title="Permalink to this definition"></a></dt>
<dd><p>Read time series data from a CSV or Microsoft Excel file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – File to read. Must have suffix ‘.csv’ or ‘.xlsx’.</p></li>
<li><p><strong>firstyear</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Only read data from years equal to or later than this year.</p></li>
<li><p><strong>lastyear</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Only read data from years equal to or earlier than this year.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#message_ix.Scenario.read_excel" title="message_ix.Scenario.read_excel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Scenario.read_excel</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.remove_geodata">
<span class="sig-name descname"><span class="pre">remove_geodata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.remove_geodata" title="Permalink to this definition"></a></dt>
<dd><p>Remove geodata from the TimeSeries instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – <p>Data to remove. <cite>df</cite> must have the following columns:</p>
<ul class="simple">
<li><p><cite>region</cite></p></li>
<li><p><cite>variable</cite></p></li>
<li><p><cite>unit</cite></p></li>
<li><p><cite>subannual</cite></p></li>
<li><p><cite>year</cite></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.remove_meta">
<span class="sig-name descname"><span class="pre">remove_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.remove_meta" title="Permalink to this definition"></a></dt>
<dd><p>Remove <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/data-model.html#data-meta" title="(in ixmp v3.5.1.dev7+ge795853)"><span>Metadata</span></a> for this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>list of str</em>) – Either single metadata name/identifier, or list of names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.remove_par">
<span class="sig-name descname"><span class="pre">remove_par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.remove_par" title="Permalink to this definition"></a></dt>
<dd><p>Remove parameter values or an entire parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the parameter.</p></li>
<li><p><strong>key</strong> (<em>dataframe</em><em> or </em><em>key list</em><em> or </em><em>concatenated string</em><em>, </em><em>optional</em>) – Elements to be removed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.remove_set">
<span class="sig-name descname"><span class="pre">remove_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.remove_set" title="Permalink to this definition"></a></dt>
<dd><p>Delete set elements or an entire set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the set to remove (if <cite>key</cite> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) or from which to remove
elements.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or list of str, optional) – Elements to be removed from set <cite>name</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.remove_solution">
<span class="sig-name descname"><span class="pre">remove_solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_model_year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.remove_solution" title="Permalink to this definition"></a></dt>
<dd><p>Remove the solution from the scenario.</p>
<p>This function removes the solution (variables and equations) and timeseries
data marked as <cite>meta=False</cite> from the scenario (see <a class="reference internal" href="#message_ix.Scenario.add_timeseries" title="message_ix.Scenario.add_timeseries"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_timeseries()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>first_model_year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – If given, timeseries data marked as <cite>meta=False</cite> is removed only for years
from <cite>first_model_year</cite> onwards.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If Scenario has no solution or if <cite>first_model_year</cite> is not <cite>int</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.remove_timeseries">
<span class="sig-name descname"><span class="pre">remove_timeseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.remove_timeseries" title="Permalink to this definition"></a></dt>
<dd><p>Remove time series data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – <p>Data to remove. <cite>df</cite> must have the following columns:</p>
<ul class="simple">
<li><p><cite>region</cite> or <cite>node</cite></p></li>
<li><p><cite>variable</cite></p></li>
<li><p><cite>unit</cite></p></li>
<li><p><cite>year</cite></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.rename" title="Permalink to this definition"></a></dt>
<dd><p>Rename an element in a set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – name of the set to change (e.g., ‘technology’)</p></li>
<li><p><strong>mapping</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – mapping of old (current) to new set element names</p></li>
<li><p><strong>keep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em><em>, </em><em>default: False</em>) – keep the old values in the model</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.run_id">
<span class="sig-name descname"><span class="pre">run_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.run_id" title="Permalink to this definition"></a></dt>
<dd><p>Get the run id of this TimeSeries.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.scalar">
<span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.10)"><span class="pre">numbers.Real</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.scalar" title="Permalink to this definition"></a></dt>
<dd><p>Return the value and unit of a scalar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the scalar.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>{‘value’</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>value, ‘unit’: unit}</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="message_ix.Scenario.scenario">
<span class="sig-name descname"><span class="pre">scenario</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#message_ix.Scenario.scenario" title="Permalink to this definition"></a></dt>
<dd><p>Name of the scenario associated with the TimeSeries.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.set" title="Permalink to this definition"></a></dt>
<dd><p>Return elements of a set.</p>
<p>Same as <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario.set" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ixmp.Scenario.set()</span></code></a>, except columns for multi-dimensional
sets indexed by the MESSAGE<em>ix</em> set <code class="docutils literal notranslate"><span class="pre">year</span></code> are returned with
<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the set.</p></li>
<li><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> (</em><em>str -&gt; list of str</em><em>)</em><em>, </em><em>optional</em>) – Mapping of <cite>dimension_name</cite> → <cite>elements</cite>, where <cite>dimension_name</cite>
is one of the <cite>idx_names</cite> given when the set was initialized (see
<a class="reference internal" href="#message_ix.Scenario.init_set" title="message_ix.Scenario.init_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_set()</span></code></a>), and <cite>elements</cite> is an iterable of labels to
include in the return value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>pd.Series</em> – If <em>name</em> is an index set.</p></li>
<li><p><em>pd.DataFrame</em> – If <em>name</em> is a set defined over one or more other, index sets.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.set_as_default">
<span class="sig-name descname"><span class="pre">set_as_default</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.set_as_default" title="Permalink to this definition"></a></dt>
<dd><p>Set the current <code class="xref py py-attr docutils literal notranslate"><span class="pre">version</span></code> as the default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.set_list">
<span class="sig-name descname"><span class="pre">set_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.set_list" title="Permalink to this definition"></a></dt>
<dd><p>List all defined sets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.set_meta">
<span class="sig-name descname"><span class="pre">set_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_or_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.10)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.set_meta" title="Permalink to this definition"></a></dt>
<dd><p>Set <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/data-model.html#data-meta" title="(in ixmp v3.5.1.dev7+ge795853)"><span>Metadata</span></a> for this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name_or_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – If <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, a mapping of names/identifiers to values. Otherwise,
use the metadata identifier.</p></li>
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>number</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Metadata value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MESSAGE'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solve_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.solve" title="Permalink to this definition"></a></dt>
<dd><p>Solve MESSAGE or MESSAGE-MACRO for the Scenario.</p>
<p>By default, <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario.solve" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ixmp.Scenario.solve()</span></code></a> is called with ‘MESSAGE’ as the
<em>model</em> argument. <em>model</em> may also be overwritten, e.g.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;MESSAGE-MACRO&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>'MESSAGE'</em><em> or </em><em>'MACRO'</em><em> or </em><em>'MESSAGE-MACRO'</em><em>, </em><em>optional</em>) – Model to solve.</p></li>
<li><p><strong>solve_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> (</em><em>str -&gt; str</em><em>)</em><em>, </em><em>optional</em>) – Name to value mapping to use for GAMS CPLEX solver options file.
See the <a class="reference internal" href="#message_ix.models.MESSAGE" title="message_ix.models.MESSAGE"><code class="xref py py-class docutils literal notranslate"><span class="pre">MESSAGE</span></code></a> class and <a class="reference internal" href="#message_ix.models.DEFAULT_CPLEX_OPTIONS" title="message_ix.models.DEFAULT_CPLEX_OPTIONS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DEFAULT_CPLEX_OPTIONS</span></code></a>.</p></li>
<li><p><strong>kwargs</strong> – Many other options control the execution of the underlying GAMS
code; see the <a class="reference internal" href="#message_ix.models.MESSAGE_MACRO" title="message_ix.models.MESSAGE_MACRO"><code class="xref py py-class docutils literal notranslate"><span class="pre">MESSAGE_MACRO</span></code></a> class and
<a class="reference internal" href="#message_ix.models.GAMSModel" title="message_ix.models.GAMSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">GAMSModel</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.timeseries">
<span class="sig-name descname"><span class="pre">timeseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iamc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subannual</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)"><span class="pre">pandas.core.frame.DataFrame</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.timeseries" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve time series data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iamc</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Return data in wide/’IAMC’ format. If <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>, return data in long
format; see <a class="reference internal" href="#message_ix.Scenario.add_timeseries" title="message_ix.Scenario.add_timeseries"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_timeseries()</span></code></a>.</p></li>
<li><p><strong>region</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>list of str</em><em>, </em><em>optional</em>) – Regions to include in returned data.</p></li>
<li><p><strong>variable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>list of str</em><em>, </em><em>optional</em>) – Variables to include in returned data.</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><em>list of str</em><em>, </em><em>optional</em>) – Units to include in returned data.</p></li>
<li><p><strong>year</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><em>list of</em><em> (</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>)</em><em>, </em><em>optional</em>) – Years to include in returned data.</p></li>
<li><p><strong>subannual</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em> or </em><em>'auto'</em><em>, </em><em>optional</em>) – Whether to include column for sub-annual specification (if <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>);
if ‘auto’, include column if sub-annual data (other than ‘Year’) exists in
returned data frame.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – If <cite>subannual</cite> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> but Scenario has (filtered) sub-annual data.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Specified data.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)">pandas.DataFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.to_excel">
<span class="sig-name descname"><span class="pre">to_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">path:</span> <span class="pre">os.PathLike,</span> <span class="pre">items:</span> <span class="pre">ixmp.backend.ItemType</span> <span class="pre">=</span> <span class="pre">ItemType.None,</span> <span class="pre">filters:</span> <span class="pre">typing.Optional[typing.Dict[str,</span> <span class="pre">typing.Union[typing.Sequence[str],</span> <span class="pre">ixmp.core.scenario.Scenario]]]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">max_row:</span> <span class="pre">typing.Optional[int]</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#message_ix.Scenario.to_excel" title="Permalink to this definition"></a></dt>
<dd><p>Write Scenario to a Microsoft Excel file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>os.PathLike</em></a>) – File to write. Must have suffix <code class="file docutils literal notranslate"><span class="pre">.xlsx</span></code>.</p></li>
<li><p><strong>items</strong> (<em>ItemType</em><em>, </em><em>optional</em>) – Types of items to write. Either <code class="xref py py-attr docutils literal notranslate"><span class="pre">SET</span></code> | <code class="xref py py-attr docutils literal notranslate"><span class="pre">PAR</span></code> (i.e. only sets
and parameters), or <code class="xref py py-attr docutils literal notranslate"><span class="pre">MODEL</span></code> (also variables and equations, i.e.
model solution data).</p></li>
<li><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em>, </em><em>optional</em>) – Filters for values along dimensions; same as the <cite>filters</cite> argument to
<a class="reference internal" href="#message_ix.Scenario.par" title="message_ix.Scenario.par"><code class="xref py py-meth docutils literal notranslate"><span class="pre">par()</span></code></a>.</p></li>
<li><p><strong>max_row</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum number of rows in each sheet. If the number of elements in an item
exceeds this number or <code class="xref py py-data docutils literal notranslate"><span class="pre">EXCEL_MAX_ROWS</span></code>, then an item is written to
multiple sheets named, e.g. ‘foo’, ‘foo(2)’, ‘foo(3)’, etc.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/file-io.html#excel-data-format" title="(in ixmp v3.5.1.dev7+ge795853)"><span>Scenario/model data</span></a>, <a class="reference internal" href="#message_ix.Scenario.read_excel" title="message_ix.Scenario.read_excel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_excel</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.transact">
<span class="sig-name descname"><span class="pre">transact</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.transact" title="Permalink to this definition"></a></dt>
<dd><p>Context manager to wrap code in a ‘transaction’.</p>
<p>If <cite>condition</cite> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, the TimeSeries (or <a class="reference internal" href="#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scenario</span></code></a>) is
checked out <em>before</em> the block begins. When the block ends, the object is
committed with <cite>message</cite>. If <cite>condition</cite> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>, nothing occurs before
or after the block.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># `ts` is currently checked in/locked</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ts</span><span class="o">.</span><span class="n">transact</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;replace &#39;foo&#39; with &#39;bar&#39; in set x&quot;</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="c1"># `ts` is checked out and may be modified</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">ts</span><span class="o">.</span><span class="n">remove_set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">ts</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Changes to `ts` have been committed</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="message_ix.Scenario.url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#message_ix.Scenario.url" title="Permalink to this definition"></a></dt>
<dd><p>URL fragment for the TimeSeries.</p>
<p>This has the format <code class="docutils literal notranslate"><span class="pre">{model</span> <span class="pre">name}/{scenario</span> <span class="pre">name}#{version}</span></code>, with the same
values passed when creating the TimeSeries instance.</p>
<p class="rubric">Examples</p>
<p>To form a complete URL (e.g. to use with <a class="reference internal" href="#message_ix.Scenario.from_url" title="message_ix.Scenario.from_url"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_url()</span></code></a>), use a configured
<code class="xref py py-class docutils literal notranslate"><span class="pre">Platform</span></code> name:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">platform_name</span> <span class="o">=</span> <span class="s2">&quot;my-ixmp-platform&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mp</span> <span class="o">=</span> <span class="n">Platform</span><span class="p">(</span><span class="n">platform_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="p">(</span><span class="n">mp</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="mi">34</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span><span class="o">.</span><span class="n">url</span>
<span class="go">&quot;foo/bar#34&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;ixmp://</span><span class="si">{</span><span class="n">platform_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">ts</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&quot;ixmp://platform_name/foo/bar#34&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use caution: because Platform configuration is system-specific, other
systems must have the same configuration for <cite>platform_name</cite> in order for
the URL to refer to the same TimeSeries/Scenario.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.var">
<span class="sig-name descname"><span class="pre">var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.var" title="Permalink to this definition"></a></dt>
<dd><p>Return variable data.</p>
<p>Same as <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario.var" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ixmp.Scenario.var()</span></code></a>, except columns indexed by the
MESSAGE<em>ix</em> set <code class="docutils literal notranslate"><span class="pre">year</span></code> are returned with <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the variable.</p></li>
<li><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a><em> (</em><em>str -&gt; list of str</em><em>)</em><em>, </em><em>optional</em>) – Filters for the dimensions of the variable.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered elements of the variable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.var_list">
<span class="sig-name descname"><span class="pre">var_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#message_ix.Scenario.var_list" title="Permalink to this definition"></a></dt>
<dd><p>List all defined variables.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.vintage_and_active_years">
<span class="sig-name descname"><span class="pre">vintage_and_active_years</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ya_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_horizon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.vintage_and_active_years" title="Permalink to this definition"></a></dt>
<dd><p>Return sets of vintage and active years for use in data input.</p>
<p>For a valid pair <cite>(year_vtg, year_act)</cite>, the following conditions are
satisfied:</p>
<ol class="arabic simple">
<li><p>Both the vintage year (<cite>year_vtg</cite>) and active year (<cite>year_act</cite>) are
in the model’s <code class="docutils literal notranslate"><span class="pre">year</span></code> set.</p></li>
<li><p><cite>year_vtg</cite> &lt;= <cite>year_act</cite>.</p></li>
<li><p><cite>year_act</cite> &lt;= the model’s first year <strong>or</strong> <cite>year_act</cite> is in the
smaller subset <code class="xref py py-meth docutils literal notranslate"><span class="pre">ixmp.Scenario.years_active()</span></code> for the given
<cite>ya_args</cite>.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ya_args</strong> (<em>tuple of</em><em> (</em><em>node</em><em>, </em><em>tec</em><em>, </em><em>yr_vtg</em><em>)</em><em>, </em><em>optional</em>) – Arguments to <a class="reference internal" href="#message_ix.Scenario.years_active" title="message_ix.Scenario.years_active"><code class="xref py py-meth docutils literal notranslate"><span class="pre">years_active()</span></code></a>.</p></li>
<li><p><strong>in_horizon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – Only return years within the model horizon
(<a class="reference internal" href="#message_ix.Scenario.firstmodelyear" title="message_ix.Scenario.firstmodelyear"><code class="xref py py-obj docutils literal notranslate"><span class="pre">firstmodelyear</span></code></a> or later).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>with columns ‘year_vtg’ and ‘year_act’, in which each row is a
valid pair.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)">pandas.DataFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.Scenario.years_active">
<span class="sig-name descname"><span class="pre">years_active</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yr_vtg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.Scenario.years_active" title="Permalink to this definition"></a></dt>
<dd><p>Return years in which <em>tec</em> of <em>yr_vtg</em> can be active in <em>node</em>.</p>
<p>The <a class="reference internal" href="model/MESSAGE/parameter_def.html#params-tech"><span class="std std-ref">parameters</span></a> <code class="docutils literal notranslate"><span class="pre">duration_period</span></code> and
<code class="docutils literal notranslate"><span class="pre">technical_lifetime</span></code> are used to determine which periods are partly
or fully within the lifetime of the technology.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Node name.</p></li>
<li><p><strong>tec</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Technology name.</p></li>
<li><p><strong>yr_vtg</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Vintage year.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="model-classes">
<h2><a class="toc-backref" href="#id7">Model classes</a><a class="headerlink" href="#model-classes" title="Permalink to this headline"></a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.models.MESSAGE" title="message_ix.models.MESSAGE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MESSAGE</span></code></a>([name])</p></td>
<td><p>Model class for MESSAGE.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.models.MACRO" title="message_ix.models.MACRO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MACRO</span></code></a>(*args, **kwargs)</p></td>
<td><p>Model class for MACRO.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.models.MESSAGE_MACRO" title="message_ix.models.MESSAGE_MACRO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MESSAGE_MACRO</span></code></a>(*args, **kwargs)</p></td>
<td><p>Model class for MESSAGE_MACRO.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.models.GAMSModel" title="message_ix.models.GAMSModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GAMSModel</span></code></a>([name])</p></td>
<td><p>Extended <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api-model.html#ixmp.model.gams.GAMSModel" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.model.gams.GAMSModel</span></code></a> for MESSAGE &amp; MACRO.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#message_ix.models.DEFAULT_CPLEX_OPTIONS" title="message_ix.models.DEFAULT_CPLEX_OPTIONS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DEFAULT_CPLEX_OPTIONS</span></code></a></p></td>
<td><p>Solver options used by <a class="reference internal" href="#message_ix.Scenario.solve" title="message_ix.Scenario.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">message_ix.Scenario.solve()</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#message_ix.models.MESSAGE_ITEMS" title="message_ix.models.MESSAGE_ITEMS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MESSAGE_ITEMS</span></code></a></p></td>
<td><p>List of ixmp items for MESSAGE.</p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt class="sig sig-object py" id="message_ix.models.DEFAULT_CPLEX_OPTIONS">
<span class="sig-prename descclassname"><span class="pre">message_ix.models.</span></span><span class="sig-name descname"><span class="pre">DEFAULT_CPLEX_OPTIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'advind':</span> <span class="pre">0,</span> <span class="pre">'epopt':</span> <span class="pre">1e-06,</span> <span class="pre">'lpmethod':</span> <span class="pre">2,</span> <span class="pre">'threads':</span> <span class="pre">4}</span></em><a class="headerlink" href="#message_ix.models.DEFAULT_CPLEX_OPTIONS" title="Permalink to this definition"></a></dt>
<dd><p>Solver options used by <a class="reference internal" href="#message_ix.Scenario.solve" title="message_ix.Scenario.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">message_ix.Scenario.solve()</span></code></a>.</p>
<p>These configure the GAMS CPLEX solver (or another solver, if selected); see <a class="reference external" href="https://www.gams.com/latest/docs/S_CPLEX.html">the solver documentation</a> for possible values.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="message_ix.models.GAMSModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.models.</span></span><span class="sig-name descname"><span class="pre">GAMSModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">model_options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.GAMSModel" title="Permalink to this definition"></a></dt>
<dd><p>Extended <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api-model.html#ixmp.model.gams.GAMSModel" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.model.gams.GAMSModel</span></code></a> for MESSAGE &amp; MACRO.</p>
<p>The <a class="reference internal" href="#message_ix.models.MESSAGE" title="message_ix.models.MESSAGE"><code class="xref py py-class docutils literal notranslate"><span class="pre">MESSAGE</span></code></a>, <a class="reference internal" href="#message_ix.models.MACRO" title="message_ix.models.MACRO"><code class="xref py py-class docutils literal notranslate"><span class="pre">MACRO</span></code></a>, and <a class="reference internal" href="#message_ix.models.MESSAGE_MACRO" title="message_ix.models.MESSAGE_MACRO"><code class="xref py py-class docutils literal notranslate"><span class="pre">MESSAGE_MACRO</span></code></a> child classes encapsulate the GAMS code for the core MESSAGE (or MACRO) mathematical formulation.</p>
<p>The class receives <cite>model_options</cite> via <a class="reference internal" href="#message_ix.Scenario.solve" title="message_ix.Scenario.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Scenario.solve()</span></code></a>. Some of these are passed on to the parent class <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api-model.html#ixmp.model.gams.GAMSModel" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.model.gams.GAMSModel</span></code></a> (see there for a list); others are handled as described below.</p>
<p>The “model_dir” option may be set in the user’s <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#configuration" title="(in ixmp v3.5.1.dev7+ge795853)"><span class="xref std std-ref">ixmp configuration file</span></a> using the key “message model dir”.
If not set, it defaults to “message_ix/model” below the directory where <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> is installed.</p>
<p>The “solve_options” option may be set in the user’s ixmp configuration file using the key “message solve options”.
If not set, it defaults to <a class="reference internal" href="#message_ix.models.DEFAULT_CPLEX_OPTIONS" title="message_ix.models.DEFAULT_CPLEX_OPTIONS"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEFAULT_CPLEX_OPTIONS</span></code></a>.</p>
<p>For example, with the following configuration file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">{</span><span class="w"></span>
<span class="w">  </span><span class="s">&quot;platform&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;default&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;my-platform&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">    </span><span class="s">&quot;my-platform&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="s">&quot;backend&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;jdbc&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;etc&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;etc&quot;</span><span class="p p-Indicator">},</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">},</span><span class="w"></span>
<span class="w">  </span><span class="s">&quot;message</span><span class="nv"> </span><span class="s">model</span><span class="nv"> </span><span class="s">dir&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;/path/to/custom/gams/source/files&quot;</span><span class="p p-Indicator">,</span><span class="w"></span>
<span class="w">  </span><span class="s">&quot;message</span><span class="nv"> </span><span class="s">solve</span><span class="nv"> </span><span class="s">options&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="s">&quot;lpmethod&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">4</span><span class="p p-Indicator">},</span><span class="w"></span>
<span class="p p-Indicator">}</span><span class="w"></span>
</pre></div>
</div>
<p>The following are equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Model options given explicitly</span>
<span class="n">scen</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span>
    <span class="n">model_dir</span><span class="o">=</span><span class="s2">&quot;/path/to/custom/gams/source/files&quot;</span><span class="p">,</span>
    <span class="n">solve_options</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">lpmethod</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Model options are read from configuration file</span>
<span class="n">scen</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
</pre></div>
</div>
<p>The following tables list all model options:</p>
<table class="colwidths-given docutils align-default" id="id3">
<caption><span class="caption-text">Options in <a class="reference internal" href="#message_ix.models.GAMSModel" title="message_ix.models.GAMSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.models.GAMSModel</span></code></a> or overridden from <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code></span><a class="headerlink" href="#id3" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 40%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Usage</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>model_dir</strong></p></td>
<td><p>Path to GAMS source files.</p></td>
<td><p>See above.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>model_file</strong></p></td>
<td><p>Path to GAMS source file.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'{model_dir}/{model_name}_run.gms'</span></code></p></td>
</tr>
<tr class="row-even"><td><p><strong>in_file</strong></p></td>
<td><p>Path to write GDX input file.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'{model_dir}/data/MsgData_{case}.gdx'</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><strong>out_file</strong></p></td>
<td><p>Path to read GDX output file.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'{model_dir}/output/MsgOutput_{case}.gdx'</span></code></p></td>
</tr>
<tr class="row-even"><td><p><strong>solve_args</strong></p></td>
<td><p>Arguments passed directly to GAMS.</p></td>
<td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="s1">&#39;--in=&quot;</span><span class="si">{in_file}</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--out=&quot;</span><span class="si">{out_file}</span><span class="s1">&quot;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--iter=&quot;</span><span class="si">{model_dir}</span><span class="s1">/output/MsgIterationReport_</span><span class="si">{case}</span><span class="s1">.gdx&quot;&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><strong>solve_options</strong></p></td>
<td><p>Options for the GAMS LP solver.</p></td>
<td><p><a class="reference internal" href="#message_ix.models.DEFAULT_CPLEX_OPTIONS" title="message_ix.models.DEFAULT_CPLEX_OPTIONS"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEFAULT_CPLEX_OPTIONS</span></code></a></p></td>
</tr>
</tbody>
</table>
<table class="colwidths-given docutils align-default" id="id4">
<caption><span class="caption-text">Option defaults inherited from <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api-model.html#ixmp.model.gams.GAMSModel" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.model.gams.GAMSModel</span></code></a></span><a class="headerlink" href="#id4" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>case</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'{scenario.model}_{scenario.scenario}'</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><strong>gams_args</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">['LogOption=4']</span></code></p></td>
</tr>
<tr class="row-even"><td><p><strong>check_solution</strong></p></td>
<td><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>comment</strong></p></td>
<td><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><strong>equ_list</strong></p></td>
<td><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>var_list</strong></p></td>
<td><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="message_ix.models.GAMSModel.enforce">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">enforce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.GAMSModel.enforce" title="Permalink to this definition"></a></dt>
<dd><p>Enforce data consistency in <cite>scenario</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.models.GAMSModel.initialize">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.GAMSModel.initialize" title="Permalink to this definition"></a></dt>
<dd><p>Set up <em>scenario</em> with required sets and parameters for MESSAGE.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#message_ix.models.MESSAGE_ITEMS" title="message_ix.models.MESSAGE_ITEMS"><code class="xref py py-data docutils literal notranslate"><span class="pre">MESSAGE_ITEMS</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.models.GAMSModel.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.GAMSModel.run" title="Permalink to this definition"></a></dt>
<dd><p>Execute the model.</p>
<p>GAMSModel creates a file named <code class="docutils literal notranslate"><span class="pre">cplex.opt</span></code> in the model directory containing
the “solve_options”, as described above.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>GAMSModel can solve Scenarios in two or more Python processes
simultaneously; but using <em>different</em> CPLEX options in each process may
produce unexpected results.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="message_ix.models.MESSAGE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.models.</span></span><span class="sig-name descname"><span class="pre">MESSAGE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">model_options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.MESSAGE" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#message_ix.models.GAMSModel" title="message_ix.models.GAMSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.models.GAMSModel</span></code></a></p>
<p>Model class for MESSAGE.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="message_ix.models.MESSAGE.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MESSAGE'</span></em><a class="headerlink" href="#message_ix.models.MESSAGE.name" title="Permalink to this definition"></a></dt>
<dd><p>Model name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.models.MESSAGE.initialize">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.MESSAGE.initialize" title="Permalink to this definition"></a></dt>
<dd><p>Set up <em>scenario</em> with required sets and parameters for MESSAGE.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#message_ix.models.MESSAGE_ITEMS" title="message_ix.models.MESSAGE_ITEMS"><code class="xref py py-data docutils literal notranslate"><span class="pre">MESSAGE_ITEMS</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="message_ix.models.MACRO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.models.</span></span><span class="sig-name descname"><span class="pre">MACRO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.MACRO" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#message_ix.models.GAMSModel" title="message_ix.models.GAMSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.models.GAMSModel</span></code></a></p>
<p>Model class for MACRO.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="message_ix.models.MACRO.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MACRO'</span></em><a class="headerlink" href="#message_ix.models.MACRO.name" title="Permalink to this definition"></a></dt>
<dd><p>Model name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="message_ix.models.MACRO.GAMS_min_version">
<span class="sig-name descname"><span class="pre">GAMS_min_version</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'24.8.1'</span></em><a class="headerlink" href="#message_ix.models.MACRO.GAMS_min_version" title="Permalink to this definition"></a></dt>
<dd><p>MACRO uses the GAMS <code class="docutils literal notranslate"><span class="pre">break;</span></code> statement, and thus requires GAMS 24.8.1 or later.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="message_ix.models.MACRO.initialize">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.MACRO.initialize" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the model structure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="message_ix.models.MESSAGE_MACRO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">message_ix.models.</span></span><span class="sig-name descname"><span class="pre">MESSAGE_MACRO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.models.MESSAGE_MACRO" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#message_ix.models.MACRO" title="message_ix.models.MACRO"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.models.MACRO</span></code></a></p>
<p>Model class for MESSAGE_MACRO.</p>
<p>MESSAGE_MACRO solves the MESSAGE and MACRO models iteratively, connecting changes in technology activity and resource demands (from MESSAGE) to changes in final demands and prices (from MACRO).
This iteration continues until the solution <em>converges</em>; i.e. the two models reach a stable point for the values of these parameters.</p>
<p>MESSAGE_MACRO accepts three additional <em>model_options</em> that control the behaviour of this iteration algorithm:</p>
<ul class="simple">
<li><p><strong>max_adjustment</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, default 0.2): the maximum absolute relative change in final demands between iterations.
If MACRO returns demands that have changed by more than a factor outside the range (1 - <cite>max_adjustment</cite>, 1 + <cite>max_adjustment</cite>) since the previous iteration, then the change is confined to the limits of that range for the next run of MESSAGE.</p></li>
<li><p><strong>convergence_criterion</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, default 0.01): threshold for model convergence.
This option applies to the same value as <cite>max_adjustment</cite>: the relative change in final demands between two iterations.
If the absolute relative change is less than <cite>convergence_criterion</cite>, the linked model run is complete.</p></li>
<li><p><strong>max_iteration</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, default 50): the maximum number of iterations between the two models.
If the solution does not converge after this many iterations, the linked model run fails and no valid result is produced.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#message_ix.Scenario.add_macro" title="message_ix.Scenario.add_macro"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Scenario.add_macro()</span></code></a></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="message_ix.models.MESSAGE_MACRO.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MESSAGE-MACRO'</span></em><a class="headerlink" href="#message_ix.models.MESSAGE_MACRO.name" title="Permalink to this definition"></a></dt>
<dd><p>Model name.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="message_ix.models.MESSAGE_ITEMS">
<span class="sig-prename descclassname"><span class="pre">message_ix.models.</span></span><span class="sig-name descname"><span class="pre">MESSAGE_ITEMS</span></span><em class="property"><span class="w"> </span><span class="pre">=</span> <span class="pre">dict(…)</span></em><a class="headerlink" href="#message_ix.models.MESSAGE_ITEMS" title="Permalink to this definition"></a></dt>
<dd><p>List of ixmp items for MESSAGE.</p>
<p>Keys are the names of items (sets, parameters, variables, and equations); values are <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> specifying their type and dimensionality, with keys ‘ix_type’, ‘idx_sets’, and in some cases ‘idx_names’.
These include all items listed in the MESSAGE mathematical specification, i.e. <a class="reference internal" href="model/MESSAGE/sets_maps_def.html#sets-maps-def"><span class="std std-ref">Sets and mappings</span></a> and <a class="reference internal" href="model/MESSAGE/parameter_def.html#parameter-def"><span class="std std-ref">Parameter definition</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#message_ix.models.MESSAGE.initialize" title="message_ix.models.MESSAGE.initialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MESSAGE.initialize()</span></code></a>, <a class="reference internal" href="#message_ix.macro.MACRO_ITEMS" title="message_ix.macro.MACRO_ITEMS"><code class="xref py py-data docutils literal notranslate"><span class="pre">MACRO_ITEMS</span></code></a></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="message_ix.macro.MACRO_ITEMS">
<span class="sig-prename descclassname"><span class="pre">message_ix.macro.</span></span><span class="sig-name descname"><span class="pre">MACRO_ITEMS</span></span><em class="property"><span class="w"> </span><span class="pre">=</span> <span class="pre">dict(…)</span></em><a class="headerlink" href="#message_ix.macro.MACRO_ITEMS" title="Permalink to this definition"></a></dt>
<dd><p>dict() -&gt; new empty dictionary
dict(mapping) -&gt; new dictionary initialized from a mapping object’s</p>
<blockquote>
<div><p>(key, value) pairs</p>
</div></blockquote>
<dl>
<dt>dict(iterable) -&gt; new dictionary initialized as if via:</dt><dd><p>d = {}
for k, v in iterable:</p>
<blockquote>
<div><p>d[k] = v</p>
</div></blockquote>
</dd>
<dt>dict(<a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs) -&gt; new dictionary initialized with the name=value pairs</dt><dd><p>in the keyword argument list.  For example:  dict(one=1, two=2)</p>
</dd>
</dl>
<p>All of the items in the MACRO mathematical formulation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#message_ix.models.MESSAGE_ITEMS" title="message_ix.models.MESSAGE_ITEMS"><code class="xref py py-data docutils literal notranslate"><span class="pre">MESSAGE_ITEMS</span></code></a></p>
</div>
</dd></dl>

</section>
<section id="module-message_ix.util">
<span id="utility-methods"></span><span id="utils"></span><h2><a class="toc-backref" href="#id8">Utility methods</a><a class="headerlink" href="#module-message_ix.util" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="message_ix.util.make_df">
<span class="sig-prename descclassname"><span class="pre">message_ix.util.</span></span><span class="sig-name descname"><span class="pre">make_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.util.make_df" title="Permalink to this definition"></a></dt>
<dd><p>Return a data frame for parameter <cite>name</cite> filled with <cite>data</cite>.</p>
<p><a class="reference internal" href="#message_ix.util.make_df" title="message_ix.util.make_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_df()</span></code></a> always returns a data frame with the columns required by
<a class="reference internal" href="#message_ix.Scenario.add_par" title="message_ix.Scenario.add_par"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_par()</span></code></a>: the dimensions of the parameter <cite>name</cite>, plus ‘value’ and
‘unit’. Columns not listed in <cite>data</cite> are left empty.</p>
<p>The <cite>data</cite> keyword arguments can be passed in many ways; see the
<a class="reference external" href="https://docs.python.org/3/tutorial/controlflow.html#tut-keywordargs" title="(in Python v3.10)"><span>Keyword Arguments</span></a> and “Function Examples” sections of the Python
introductory tutorial, or the examples below.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">make_df</span><span class="p">(</span>
<span class="gp">... </span>   <span class="s2">&quot;demand&quot;</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">],</span> <span class="n">commodity</span><span class="o">=</span><span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">  node  commodity  level  year  time  value  unit</span>
<span class="go">0  foo        baz   None  None  None    1.2  None</span>
<span class="go">1  bar        baz   None  None  None    3.4  None</span>
</pre></div>
</div>
<p>Pass some values as direct keyword arguments, and others by unpacking a dictionary:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">common</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">commodity</span><span class="o">=</span><span class="s2">&quot;light&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">level</span><span class="o">=</span><span class="s2">&quot;useful&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">time</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;GWa&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">make_df</span><span class="p">(</span>
<span class="gp">... </span>   <span class="s2">&quot;demand&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">node</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Westeros&quot;</span><span class="p">,</span> <span class="s2">&quot;Middle-earth&quot;</span><span class="p">],</span>
<span class="gp">... </span>   <span class="n">year</span><span class="o">=</span><span class="p">[</span><span class="mi">680</span><span class="p">,</span> <span class="mi">700</span><span class="p">],</span>
<span class="gp">... </span>   <span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">80</span><span class="p">],</span>
<span class="gp">... </span>   <span class="c1"># Use values from `common` as additional keyword args:</span>
<span class="gp">... </span>   <span class="o">**</span><span class="n">common</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">           node  commodity   level  year  time  value  unit</span>
<span class="go">0      Westeros      light  useful   680  year     50   GWa</span>
<span class="go">1  Middle-earth      light  useful   700  year     50   GWa</span>
</pre></div>
</div>
<p>Code that uses the deprecated signature, such as:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">2021</span><span class="p">,</span> <span class="mi">2022</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">make_df</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="go">   year  value  unit</span>
<span class="go">0     1    1.0     y</span>
<span class="go">1     2    1.0     y</span>
<span class="go">2     3    1.0     y</span>
</pre></div>
</div>
<p>or:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">node</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Westeros&quot;</span><span class="p">,</span> <span class="s2">&quot;Middle-earth&quot;</span><span class="p">],</span>
<span class="gp">... </span>   <span class="n">year</span><span class="o">=</span><span class="p">[</span><span class="mi">680</span><span class="p">,</span> <span class="mi">700</span><span class="p">],</span>
<span class="gp">... </span>   <span class="n">time</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">make_df</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;standard&quot;</span><span class="p">)</span>
<span class="go">           node  year  time  unit      mode</span>
<span class="go">0      Westeros   680  year     -  standard</span>
<span class="go">1  Middle-earth   700  year     -  standard</span>
</pre></div>
</div>
<p>…can either be adjusted to use the new signature:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">make_df</span><span class="p">(</span><span class="s2">&quot;duration_period&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">base</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or, emulated using the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign" title="(in pandas v1.4.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.assign()</span></code></a> method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">base</span><span class="p">)</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The former is recommended, because it will ensure the result has the correct columns
for the parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of a parameter listed in <code class="xref py py-data docutils literal notranslate"><span class="pre">MESSAGE_ITEMS</span></code> or <code class="xref py py-data docutils literal notranslate"><span class="pre">MACRO_ITEMS</span></code>.</p></li>
<li><p><strong>data</strong> (<em>optional</em>) – Contents for dimensions of the parameter, its ‘value’, or ‘unit’. Other keys are
ignored.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.4.3)">pandas.DataFrame</a></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.10)"><strong>ValueError</strong></a> – if <cite>name</cite> is not the name of a MESSAGE or MACRO parameter; if arrays in <cite>data</cite>
    have uneven lengths.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-message_ix.testing">
<span id="testing-utilities"></span><h2><a class="toc-backref" href="#id9">Testing utilities</a><a class="headerlink" href="#module-message_ix.testing" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="message_ix.testing.make_dantzig">
<span class="sig-prename descclassname"><span class="pre">message_ix.testing.</span></span><span class="sig-name descname"><span class="pre">make_dantzig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">solve_opts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.testing.make_dantzig" title="Permalink to this definition"></a></dt>
<dd><p>Return an <a class="reference internal" href="#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a> for Dantzig’s canning problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mp</strong> (<a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Platform" title="(in ixmp v3.5.1.dev7+ge795853)"><em>ixmp.Platform</em></a>) – Platform on which to create the scenario.</p></li>
<li><p><strong>solve</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the scenario is solved.</p></li>
<li><p><strong>multi_year</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the scenario has years 1963–1965 inclusive. Otherwise, the
scenario has the single year 1963.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="message_ix.testing.make_westeros">
<span class="sig-prename descclassname"><span class="pre">message_ix.testing.</span></span><span class="sig-name descname"><span class="pre">make_westeros</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emissions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#message_ix.testing.make_westeros" title="Permalink to this definition"></a></dt>
<dd><p>Return an <a class="reference internal" href="#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a> for the Westeros model.</p>
<p>This is the same model used in the <code class="docutils literal notranslate"><span class="pre">westeros_baseline.ipynb</span></code> tutorial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mp</strong> (<a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Platform" title="(in ixmp v3.5.1.dev7+ge795853)"><em>ixmp.Platform</em></a>) – Platform on which to create the scenario.</p></li>
<li><p><strong>emissions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the <code class="docutils literal notranslate"><span class="pre">emissions_factor</span></code> parameter is also populated for CO2.</p></li>
<li><p><strong>solve</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the scenario is solved.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="macro.html" class="btn btn-neutral float-left" title="Calibrate and tune MESSAGE-MACRO" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rmessageix.html" class="btn btn-neutral float-right" title="Usage in R via reticulate" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, IIASA Energy, Climate, and Environment (ECE) Program.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>