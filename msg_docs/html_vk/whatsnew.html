<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>What’s New &mdash; MESSAGEix 3.5.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/messageix-favicon.svg"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script>window.MathJax = {"tex": {"macros": {"ACT": "\\text{ACT}", "STORAGE": "\\text{STORAGE}", "STORAGECHARGE": "\\text{STORAGE_CHARGE}", "durationtimerel": "\\text{duration_time_rel}", "input": "\\text{input}", "maptimecommoditystorage": "\\text{map_time_commodity_storage}", "storageinitial": "\\text{storage_initial}", "storageselfdischarge": "\\text{storage_self_discharge}"}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User guidelines and notice" href="notice.html" />
    <link rel="prev" title="Usage in R via reticulate" href="rmessageix.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/combined-logo-white.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prereqs.html">Prerequisite knowledge &amp; skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="framework.html">MESSAGE<em>ix</em> model &amp; framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Publications, Projects, and Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mathematical Specification</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/sets_maps_def.html">Sets and mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Years, periods, and time slices</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/parameter_def.html">Parameter definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/model_core.html">MESSAGE core formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/model_solve.html">Solve statement workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/reporting.html">Standard output reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MESSAGE/scaling_investment_costs.html">Auxiliary investment parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="model/MACRO/macro_core.html">MACRO core formulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developing MESSAGEix models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="efficiency.html">Efficiency - output- vs. input defined technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/add_year.html">Add model years to an existing Scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Postprocessing and reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging and data validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="macro.html">Calibrate and tune MESSAGE-MACRO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help &amp; reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rmessageix.html">Usage in R via <code class="docutils literal notranslate"><span class="pre">reticulate</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">What’s New</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#next-release">Next release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#migration-notes">Migration notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#all-changes">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v3-5-0-2022-05-06">v3.5.0 (2022-05-06)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Migration notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v3-4-0-2022-01-27">v3.4.0 (2022-01-27)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v3-3-0-2021-05-28">v3.3.0 (2021-05-28)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Migration notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v3-2-0-2021-01-24">v3.2.0 (2021-01-24)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">Migration notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v3-1-0-2020-08-28">v3.1.0 (2020-08-28)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v3-0-0-2020-06-07">v3.0.0 (2020-06-07)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Migration notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v2-0-0-2020-01-14">v2.0.0 (2020-01-14)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">Migration notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-2-0-2019-06-25">v1.2.0 (2019-06-25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">All changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-1-0-2018-11-21">v1.1.0 (2018-11-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">Migration notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#database-migration">Database Migration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#new-property-file-layout">New Property File Layout</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id15">All changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notice.html">User guidelines and notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to development</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Sharing publications, projects, and tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MESSAGEix</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>What’s New</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/whatsnew.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="what-s-new">
<h1>What’s New<a class="headerlink" href="#what-s-new" title="Permalink to this headline"></a></h1>
<section id="next-release">
<h2>Next release<a class="headerlink" href="#next-release" title="Permalink to this headline"></a></h2>
<section id="migration-notes">
<h3>Migration notes<a class="headerlink" href="#migration-notes" title="Permalink to this headline"></a></h3>
<ul>
<li><p>The <cite>in_horizon</cite> argument to <a class="reference internal" href="api.html#message_ix.Scenario.vintage_and_active_years" title="message_ix.Scenario.vintage_and_active_years"><code class="xref py py-meth docutils literal notranslate"><span class="pre">vintage_and_active_years()</span></code></a> is deprecated, and will be removed in <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> 4.0 or later.
At the same time, the behaviour will change to be the equivalent of providing <cite>in_horizon</cite> = <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>, i.e. the method will no longer filter to the scenario time horizon by default.
To prepare for this change, user code that expects values confined to the time horizon can be altered to use <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.query.html#pandas.DataFrame.query" title="(in pandas v1.4.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.query()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">scen</span><span class="o">.</span><span class="n">vintage_and_active_years</span><span class="p">()</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scen</span><span class="o">.</span><span class="n">y0</span><span class="si">}</span><span class="s2"> &lt;= year_vtg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>The index sets in <code class="xref py py-meth docutils literal notranslate"><span class="pre">map_tec_storage()</span></code> are extended to include “mode” of operation and temporal level of a storage container (“lvl_temporal”).
Therefore, if this set is already populated in a scenario without “mode” and “lvl_temporal”, the updated mathematical equation does not work.
To resolve this, the user needs to populate this set again, by adding the “mode” of operation for both charger-discharge technologies, and adding “mode” and “lvl_temporal” for the storage device.
Furthermore, parameters “storage_initial” and “storage_self_discharge” should be updated as well by including “mode” for each storage device.</p></li>
</ul>
</section>
<section id="all-changes">
<h3>All changes<a class="headerlink" href="#all-changes" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>New reporting computation <code class="xref py py-func docutils literal notranslate"><span class="pre">as_message_df()</span></code> (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/628">PR #628</a>).</p></li>
<li><p>Extend functionality of <a class="reference internal" href="api.html#message_ix.Scenario.vintage_and_active_years" title="message_ix.Scenario.vintage_and_active_years"><code class="xref py py-meth docutils literal notranslate"><span class="pre">vintage_and_active_years()</span></code></a>; add aliases <code class="xref py py-meth docutils literal notranslate"><span class="pre">yv_ya()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">ya()</span></code>, and <code class="xref py py-attr docutils literal notranslate"><span class="pre">y0</span></code> (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/572">PR #572</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/623">PR #623</a>).</p></li>
<li><p>Add scripts and HOWTO for documentation videos (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/396">PR #396</a>).</p></li>
<li><p>Extend functionality of storage solutions to include “mode” and temporal level (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/633">PR #633</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-5-0-2022-05-06">
<span id="v3-5-0"></span><h2>v3.5.0 (2022-05-06)<a class="headerlink" href="#v3-5-0-2022-05-06" title="Permalink to this headline"></a></h2>
<section id="id1">
<h3>Migration notes<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<p>The format of input data files for MACRO calibration has been changed in <a class="reference external" href="https://github.com/iiasa/message_ix/pull/327">PR #327</a>.
Files compatible with v3.4.0 and earlier will not work with this version and should be updated; see details of the current data file format in the <a class="reference internal" href="macro.html"><span class="doc">documentation</span></a>.</p>
<p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/561">PR #561</a> corrected the model internal logic for handling zero values in the <a class="reference internal" href="model/MESSAGE/parameter_def.html#params-tech"><span class="std std-ref">capacity_factor</span></a> parameter.
Before this change, the GAMS code inserted a <code class="docutils literal notranslate"><span class="pre">capacity_factor</span></code> value of 1.0 where such zero values appeared; now, zeros are preserved, so the technologies may be created (<code class="docutils literal notranslate"><span class="pre">CAP</span></code>) but none of their capacity will be usable at the
<span class="math notranslate nohighlight">\((n, t, y^V, y, h)\)</span> where zero values appear.
This is consistent with the general concept of a “capacity factor”: for instance, a solar photovoltaic technology for electricity generation may have a non-zero <em>capacity</em> with a <em>capacity factor</em> of 0 at <span class="math notranslate nohighlight">\(h=\text{night}\)</span>.
This may cause changes in model output for scenarios where such zero values appear; see <a class="reference external" href="https://github.com/iiasa/message_ix/issue/591">#591</a> for discussion, including methods to check for and adjust/remove such values.</p>
</section>
<section id="id2">
<h3>All changes<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Extend documentation on historical capacity and activity values (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/496">PR #496</a>)</p></li>
<li><p>Extend documentation on decision variables “CAP_NEW” and “CAP” (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/595">PR #595</a>)</p></li>
<li><p>Extend documentation to guide users through the Westeros tutorials (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/594">PR #594</a>).</p></li>
<li><p>Add new logo and diagram to the documentation (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/597">PR #597</a>).</p></li>
<li><p>Correct typo in GAMS formulation, <a class="reference internal" href="model/MESSAGE/model_core.html#equation-renewables-equivalence"><span class="std std-ref">Equation RENEWABLES_EQUIVALENCE</span></a> (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/581">PR #581</a>).</p></li>
<li><p>Handle zero values in <code class="docutils literal notranslate"><span class="pre">capacity_factor</span></code> in models with sub-annual time resolution; expand tests (<a class="reference external" href="https://github.com/iiasa/message_ix/issue/515">#515</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/561">PR #561</a>).</p></li>
<li><p>Extend explanations, update <a class="reference internal" href="api.html#message_ix.util.make_df" title="message_ix.util.make_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_df()</span></code></a> signature in tutorials (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/524">PR #524</a>).</p></li>
<li><p>Improve configurability of <a class="reference internal" href="macro.html#module-message_ix.macro" title="message_ix.macro"><code class="xref py py-mod docutils literal notranslate"><span class="pre">macro</span></code></a>; see the <a class="reference internal" href="macro.html"><span class="doc">documentation</span></a> (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/327">PR #327</a>).</p></li>
<li><p>Split <a class="reference internal" href="reporting.html#message_ix.reporting.Reporter.add_tasks" title="message_ix.reporting.Reporter.add_tasks"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Reporter.add_tasks()</span></code></a> for use without an underlying :class:.`Scenario` (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/567">PR #567</a>).</p></li>
<li><p>Allow setting the “model_dir” and “solve_options” options for <a class="reference internal" href="api.html#message_ix.models.GAMSModel" title="message_ix.models.GAMSModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">GAMSModel</span></code></a> (and subclasses <a class="reference internal" href="api.html#message_ix.models.MESSAGE" title="message_ix.models.MESSAGE"><code class="xref py py-class docutils literal notranslate"><span class="pre">MESSAGE</span></code></a>, <a class="reference internal" href="api.html#message_ix.models.MACRO" title="message_ix.models.MACRO"><code class="xref py py-class docutils literal notranslate"><span class="pre">MACRO</span></code></a>, and <a class="reference internal" href="api.html#message_ix.models.MESSAGE_MACRO" title="message_ix.models.MESSAGE_MACRO"><code class="xref py py-class docutils literal notranslate"><span class="pre">MESSAGE_MACRO</span></code></a>) through the user’s ixmp configuration file; expand documentation (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/557">PR #557</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-4-0-2022-01-27">
<span id="v3-4-0"></span><h2>v3.4.0 (2022-01-27)<a class="headerlink" href="#v3-4-0-2022-01-27" title="Permalink to this headline"></a></h2>
<section id="id3">
<h3>All changes<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Expand the documentation with an outlook of the MESSAGEix usage (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/520">PR #520</a>).</p></li>
<li><p>Adjust test suite for pyam v1.1.0 compatibility (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/499">PR #499</a>).</p></li>
<li><p>Add Westeros <a class="reference internal" href="tutorials.html"><span class="doc">tutorial</span></a> on historical parameters (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/478">PR #478</a>).</p></li>
<li><p>Update reference for activity and capacity soft constraints (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/474">PR #474</a>).</p></li>
<li><p>Update <a class="reference internal" href="api.html#message_ix.Scenario.years_active" title="message_ix.Scenario.years_active"><code class="xref py py-meth docutils literal notranslate"><span class="pre">years_active()</span></code></a> to use sorted results (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/491">PR #491</a>).</p></li>
<li><p>Adjust the Westeros reporting tutorial to pyam 1.0 deprecations (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/492">PR #492</a>).</p></li>
<li><p>Change precision of GAMS check for parameter “duration_time” (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/513">PR #513</a>).</p></li>
<li><p>Update light and historic demand in Westeros baseline tutorial (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/523">PR #523</a>).</p></li>
<li><p>Enhance mathematical formulation to represent sub-annual time slices consistently (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/509">PR #509</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-3-0-2021-05-28">
<span id="v3-3-0"></span><h2>v3.3.0 (2021-05-28)<a class="headerlink" href="#v3-3-0-2021-05-28" title="Permalink to this headline"></a></h2>
<section id="id4">
<h3>Migration notes<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">rmessageix</span></code> (and <code class="docutils literal notranslate"><span class="pre">rixmp</span></code>) are deprecated and removed, as newer versions of the R <a class="reference external" href="https://rstudio.github.io/reticulate/">reticulate</a> package allow direct import and use of the Python modules with full functionality.
See the updated page for <a class="reference internal" href="rmessageix.html"><span class="doc">Usage in R via reticulate</span></a>, and the updated instructions on how to <a class="reference internal" href="install.html#install-r"><span class="std std-ref">Install R and reticulate</span></a>.</p>
</section>
<section id="id5">
<h3>All changes<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Update the Westeros <a class="reference internal" href="tutorials.html"><span class="doc">tutorial</span></a> on flexible generation (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/369">PR #369</a>).</p></li>
<li><p>Add a Westeros <a class="reference internal" href="tutorials.html"><span class="doc">tutorial</span></a> on modeling renewable resource supply curves (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/370">PR #370</a>).</p></li>
<li><p>Update the Westeros <a class="reference internal" href="tutorials.html"><span class="doc">tutorial</span></a> on firm capacity (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/368">PR #368</a>).</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">rmessageix</span></code> (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/473">PR #473</a>).</p></li>
<li><p>Expand documentation of <a class="reference internal" href="model/MESSAGE/model_core.html#gams-storage"><span class="std std-ref">commodity storage</span></a> sets, parameters, and equations (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/473">PR #473</a>).</p></li>
<li><p>Add two new Westeros <a class="reference internal" href="tutorials.html"><span class="doc">tutorial</span></a> on creating scenarios from Excel files (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/450">PR #450</a>).</p></li>
<li><p>Fix bug in <a class="reference internal" href="api.html#message_ix.Scenario.years_active" title="message_ix.Scenario.years_active"><code class="xref py py-meth docutils literal notranslate"><span class="pre">years_active()</span></code></a> to use the lifetime corresponding to the vintage year for which the active years are being retrieved (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/456">PR #456</a>).</p></li>
<li><p>Add a PowerPoint document usable to generate the RES diagrams for the Westeros tutorials (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/408">PR #408</a>).</p></li>
<li><p>Expand documentation <a class="reference internal" href="install.html"><span class="doc">Installation</span></a> for installing GAMS under macOS (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/460">PR #460</a>).</p></li>
<li><p>Add new Westeros <a class="reference internal" href="tutorials.html"><span class="doc">tutorial</span></a> on add-on technologies (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/365">PR #365</a>).</p></li>
<li><p>Expand documentation of <a class="reference internal" href="model/MESSAGE/parameter_def.html#section-parameter-dynamic-constraints"><span class="std std-ref">dynamic constraint parameters</span></a> (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/454">PR #454</a>).</p></li>
<li><p>Adjust <a class="reference internal" href="reporting.html#module-message_ix.reporting" title="message_ix.reporting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.reporting</span></code></a> to use <code class="xref py py-mod docutils literal notranslate"><span class="pre">genno</span></code> / <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/reporting.html#module-ixmp.reporting" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp.reporting</span></code></a> changes in <a class="reference external" href="https://github.com/iiasa/ixmp/pull/397">ixmp PR #397</a> (<a class="reference external" href="https://github.com/iiasa/message_ix/pull/441">PR #441</a>).</p></li>
</ul>
</section>
</section>
<section id="v3-2-0-2021-01-24">
<h2>v3.2.0 (2021-01-24)<a class="headerlink" href="#v3-2-0-2021-01-24" title="Permalink to this headline"></a></h2>
<section id="id6">
<h3>Migration notes<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<ul>
<li><p>Code that uses <a class="reference internal" href="api.html#message_ix.util.make_df" title="message_ix.util.make_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_df()</span></code></a> can be adjusted in one of two ways.
See the function documentation for details.
The function should be imported from the top level:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">message_ix</span> <span class="kn">import</span> <span class="n">make_df</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id7">
<h3>All changes<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/407">PR #407</a>: Use <a class="reference internal" href="reporting.html#module-message_ix.reporting" title="message_ix.reporting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reporting</span></code></a> in tutorials; add <a class="reference internal" href="tutorials.html#module-message_ix.util.tutorial" title="message_ix.util.tutorial"><code class="xref py py-mod docutils literal notranslate"><span class="pre">util.tutorial</span></code></a> for shorthand code used to streamline tutorials.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/407">PR #407</a>: Make <a class="reference internal" href="reporting.html#message_ix.reporting.Reporter" title="message_ix.reporting.Reporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Reporter</span></code></a> a top-level class.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/415">PR #415</a>: Improve <a class="reference internal" href="api.html#message_ix.util.make_df" title="message_ix.util.make_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_df()</span></code></a> to generate empty, partially-, or fully-filled data frames with the correct columns for any MESSAGE or MACRO parameter.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/415">PR #415</a>: Make complete lists of <a class="reference internal" href="api.html#message_ix.models.MESSAGE_ITEMS" title="message_ix.models.MESSAGE_ITEMS"><code class="xref py py-data docutils literal notranslate"><span class="pre">MESSAGE_ITEMS</span></code></a>, <a class="reference internal" href="api.html#message_ix.macro.MACRO_ITEMS" title="message_ix.macro.MACRO_ITEMS"><code class="xref py py-data docutils literal notranslate"><span class="pre">MACRO_ITEMS</span></code></a> and their dimensions accessible through the Python API.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/421">PR #421</a>: Fix discounting from forward-looking to backward-looking and provide an explanation of the period structure and discounting in documentation of <a class="reference internal" href="time.html"><span class="doc">Years, periods, and time slices</span></a>.</p></li>
</ul>
</section>
</section>
<section id="v3-1-0-2020-08-28">
<h2>v3.1.0 (2020-08-28)<a class="headerlink" href="#v3-1-0-2020-08-28" title="Permalink to this headline"></a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> v3.1.0 coincides with <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> v3.1.0.</p>
<p>For citing <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code>, distinct digital object identifiers (DOIs) are available for every release from v3.1.0 onwards; see the <a class="reference internal" href="notice.html#notice-cite"><span class="std std-ref">user guidelines and notice</span></a> for more information and how to cite.</p>
<section id="id8">
<h3>All changes<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/367">PR #367</a>: Add new westeros tutorial on share constraints.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/366">PR #366</a>: Add new Westeros tutorial on modeling fossil resource supply curves.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/391">PR #391</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/392">PR #392</a>: Add a documentation page on <a class="reference internal" href="prereqs.html"><span class="doc">pre-requisite knowledge &amp; skills</span></a>; expand guidelines on <a class="reference internal" href="contributing.html"><span class="doc">Contributing to development</span></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/389">PR #389</a>: Fix a bug in <a class="reference external" href="https://pyam-iamc.readthedocs.io/en/stable/api/general.html#pyam.concat" title="(in pyam v1.5.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pyam.concat()</span></code></a> using <em>non</em>-pyam objects.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/286">PR #286</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/381">PR #381</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/389">PR #389</a>: Improve <a class="reference internal" href="api.html#message_ix.Scenario.add_horizon" title="message_ix.Scenario.add_horizon"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_horizon()</span></code></a> to also set <code class="docutils literal notranslate"><span class="pre">duration_period</span></code>; add documentation of <a class="reference internal" href="time.html"><span class="doc">Years, periods, and time slices</span></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/377">PR #377</a>: Improve the <a class="reference internal" href="rmessageix.html"><span class="doc">rmessageix</span></a> R package, tutorials, and expand documentation and installation instructions.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/382">PR #382</a>: Update discount factor from <code class="docutils literal notranslate"><span class="pre">df_year</span></code> to <code class="docutils literal notranslate"><span class="pre">df_period</span></code> in documentation of the objective function to match the GAMS formulation.</p></li>
</ul>
</section>
</section>
<section id="v3-0-0-2020-06-07">
<h2>v3.0.0 (2020-06-07)<a class="headerlink" href="#v3-0-0-2020-06-07" title="Permalink to this headline"></a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> v3.0.0 coincides with <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> v3.0.0.</p>
<section id="id9">
<h3>Migration notes<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<p>The <a class="reference internal" href="model/MESSAGE/model_core.html#gams-storage"><span class="std std-ref">generic storage formulation</span></a> introduces <strong>new ixmp items</strong> (sets, parameters, variables, and equations) to the MESSAGE model scheme.
When loading a Scenario created with a version of <cite>message_ix</cite> older than 3.0.0, <a class="reference internal" href="api.html#message_ix.models.MESSAGE.initialize" title="message_ix.models.MESSAGE.initialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MESSAGE.initialize()</span></code></a> will initialized these items (and leave them empty), using at most one call to <a class="reference internal" href="api.html#message_ix.Scenario.commit" title="message_ix.Scenario.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">commit()</span></code></a>.</p>
<p>See also the <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/whatsnew.html#v3-0-0-2020-06-05">migration notes for ixmp 3.0.0</a>.</p>
</section>
<section id="id10">
<h3>All changes<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/190">PR #190</a>: Add generic mathematical formulation of <a class="reference internal" href="model/MESSAGE/model_core.html#gams-storage"><span class="std std-ref">technologies that store commodities</span></a>, such as water and energy.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/343">PR #343</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/345">PR #345</a>: Accept <a class="reference internal" href="api.html#message_ix.models.MESSAGE_MACRO" title="message_ix.models.MESSAGE_MACRO"><code class="xref py py-class docutils literal notranslate"><span class="pre">MESSAGE_MACRO</span></code></a> iteration control parameters through <a class="reference internal" href="api.html#message_ix.Scenario.solve" title="message_ix.Scenario.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve()</span></code></a>; document how to tune these to avoid numerical issues.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/340">PR #340</a>: Allow cplex.opt to be used by <cite>message_ix</cite> from multiple processes.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/328">PR #328</a>: Expand automatic reporting of emissions prices and mapping sets; improve robustness of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Reporter.convert_pyam()</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/321">PR #321</a>: Move <a class="reference internal" href="api.html#message_ix.Scenario.to_excel" title="message_ix.Scenario.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Scenario.to_excel()</span></code></a>, <a class="reference internal" href="api.html#message_ix.Scenario.read_excel" title="message_ix.Scenario.read_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_excel()</span></code></a> to <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/api.html#ixmp.Scenario" title="(in ixmp v3.5.1.dev7+ge795853)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ixmp.Scenario</span></code></a>; they continue to work with <a class="reference internal" href="api.html#message_ix.Scenario" title="message_ix.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">message_ix.Scenario</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/323">PR #323</a>: Add <cite>units</cite>, <cite>replace_vars</cite> arguments to <a class="reference internal" href="reporting.html#message_ix.reporting.Reporter.convert_pyam" title="message_ix.reporting.Reporter.convert_pyam"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Reporter.convert_pyam()</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/308">PR #308</a>: Expand automatic reporting of add-on technologies.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/313">PR #313</a>: Include all tests in the <cite>message_ix</cite> package.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/307">PR #307</a>: Adjust to deprecations in ixmp 2.0.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/223">PR #223</a>: Add methods for parametrization and calibration of MACRO based on an existing MESSAGE Scenario.</p></li>
</ul>
</section>
</section>
<section id="v2-0-0-2020-01-14">
<h2>v2.0.0 (2020-01-14)<a class="headerlink" href="#v2-0-0-2020-01-14" title="Permalink to this headline"></a></h2>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix</span></code> v2.0.0 coincides with <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> v2.0.0.</p>
<section id="id11">
<h3>Migration notes<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<p>Support for <strong>Python 2.7 is dropped</strong> as it has reached end-of-life, meaning no further releases will be made even to fix bugs.
See <a class="reference external" href="https://www.python.org/dev/peps/pep-0373/">PEP-0373</a> and <a class="reference external" href="https://python3statement.org">https://python3statement.org</a>.
<cite>message_ix</cite> users must upgrade to Python 3.</p>
<p><strong>Command-line interface (CLI).</strong> Use <code class="docutils literal notranslate"><span class="pre">message-ix</span></code> as the program for all command-line operations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">message-ix</span> <span class="pre">copy-model</span></code> replaces <code class="docutils literal notranslate"><span class="pre">messageix-config</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message-ix</span> <span class="pre">dl</span></code> replaces <code class="docutils literal notranslate"><span class="pre">messageix-dl</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message-ix</span></code> also provides all the features of the <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> CLI.</p></li>
</ul>
<p><strong>Configuration.</strong> ixmp adds a streamlined system for storing information about different platforms, backends, and databases that store Scenario data.
See the <a class="reference external" href="https://docs.messageix.org/projects/ixmp/en/latest/whatsnew.html" title="(in ixmp v3.5.1.dev7+ge795853)"><span class="xref std std-doc">ixmp release notes</span></a> for migration notes.</p>
</section>
<section id="id12">
<h3>All changes<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/285">PR #285</a>: Drop support for Python 2.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/284">PR #284</a>: Add a suggested sequence/structure to how to run the Westeros tutorials.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/281">PR #281</a>: Test and improve logic of <a class="reference internal" href="api.html#message_ix.Scenario.years_active" title="message_ix.Scenario.years_active"><code class="xref py py-meth docutils literal notranslate"><span class="pre">years_active()</span></code></a> and <a class="reference internal" href="api.html#message_ix.Scenario.vintage_and_active_years" title="message_ix.Scenario.vintage_and_active_years"><code class="xref py py-meth docutils literal notranslate"><span class="pre">vintage_and_active_years()</span></code></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/269">PR #269</a>: Enforce <code class="docutils literal notranslate"><span class="pre">year</span></code>-indexed columns as integers.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/256">PR #256</a>: Update to use <code class="xref py py-obj docutils literal notranslate"><span class="pre">ixmp.config</span></code> and improve CLI.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/255">PR #255</a>: Add <code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.testing.nightly</span></code> and <code class="docutils literal notranslate"><span class="pre">message-ix</span> <span class="pre">nightly</span></code> CLI command group for slow-running tests.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/249">PR #249</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/259">PR #259</a>: Build MESSAGE and MESSAGE_MACRO classes on ixmp model API; adjust Scenario.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/235">PR #235</a>: Add a reporting tutorial.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/236">PR #236</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/242">PR #242</a>, <a class="reference external" href="https://github.com/iiasa/message_ix/pull/263">PR #263</a>: Enhance reporting.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/232">PR #232</a>: Add Westeros tutorial for modelling seasonality, update existing tutorials.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/276">PR #276</a>: Improve add_year for bounds and code cleanup</p></li>
</ul>
</section>
</section>
<section id="v1-2-0-2019-06-25">
<h2>v1.2.0 (2019-06-25)<a class="headerlink" href="#v1-2-0-2019-06-25" title="Permalink to this headline"></a></h2>
<p>MESSAGEix 1.2.0 adds an option to set the commodity balance to strict equality,
rather than a supply &gt; demand inequality. It also improves the support for
models with non-equidistant years.</p>
<p>Other improvements include an experimental reporting module, support for CPLEX
solver options via <a class="reference internal" href="api.html#message_ix.Scenario.solve" title="message_ix.Scenario.solve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">solve()</span></code></a>, and a reusable <a class="reference internal" href="api.html#module-message_ix.testing" title="message_ix.testing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.testing</span></code></a>
module.</p>
<p>Release 1.2.0 coincides with ixmp
<a class="reference external" href="https://github.com/iiasa/ixmp/releases/tag/v0.2.0">release 0.2.0</a>, which
provides full support for <a class="reference internal" href="api.html#message_ix.Scenario.clone" title="message_ix.Scenario.clone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone()</span></code></a> across platforms (database
instances), e.g. from a remote database to a local HSQL database; as well as
other improvements. See the ixmp release notes for further details.</p>
<section id="id13">
<h3>All changes<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/161">PR #161</a>: A feature for adding new periods to a scenario.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/205">PR #205</a>: Implement required changes related to timeseries-support and cloning across platforms (see <a class="reference external" href="https://github.com/iiasa/ixmp/pull/142">ixmp#142</a>).</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/196">PR #196</a>: Improve testing by re-using <code class="xref py py-mod docutils literal notranslate"><span class="pre">ixmp</span></code> apparatus.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/187">PR #187</a>: Test for cumulative bound on emissions.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/182">PR #182</a>: Fix cross-platform cloning.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/178">PR #178</a>: Bugfix of the <code class="docutils literal notranslate"><span class="pre">PRICE_EMISSION</span></code> variable in models with non-equidistant period durations.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/176">PR #176</a>: Add <a class="reference internal" href="reporting.html#module-message_ix.reporting" title="message_ix.reporting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">message_ix.reporting</span></code></a> module.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/173">PR #173</a>: The meth:<cite>~.Scenario.solve</cite> command now takes additional arguments when solving with CPLEX. The cplex.opt file is now generated on the fly during the solve command and removed after successfully solving.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/172">PR #172</a>: Add option to set <code class="docutils literal notranslate"><span class="pre">COMMODITY_BALANCE</span></code> to equality.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/154">PR #154</a>: Enable documentation build on ReadTheDocs.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/138">PR #138</a>: Update documentation and tutorials.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/131">PR #131</a>: Update clone function argument <cite>scen</cite> to <cite>scenario</cite> with planned deprecation of the former.</p></li>
</ul>
</section>
</section>
<section id="v1-1-0-2018-11-21">
<h2>v1.1.0 (2018-11-21)<a class="headerlink" href="#v1-1-0-2018-11-21" title="Permalink to this headline"></a></h2>
<section id="id14">
<h3>Migration notes<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<p>This patch introduces a few backwards-incompatible changes to database management.</p>
<section id="database-migration">
<h4>Database Migration<a class="headerlink" href="#database-migration" title="Permalink to this headline"></a></h4>
<p>If you see an error message like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>
<span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="mf">.7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">ixmp</span><span class="o">/</span><span class="n">core</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">81</span><span class="p">:</span> <span class="ow">in</span> <span class="fm">__init__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_jobj</span> <span class="o">=</span> <span class="n">java</span><span class="o">.</span><span class="n">ixmp</span><span class="o">.</span><span class="n">Platform</span><span class="p">(</span><span class="s2">&quot;Python&quot;</span><span class="p">,</span> <span class="n">dbprops</span><span class="p">)</span>
<span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>

<span class="bp">self</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">jpype</span><span class="o">.</span><span class="n">_jclass</span><span class="o">.</span><span class="n">at</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">iiasa</span><span class="o">.</span><span class="n">ixmp</span><span class="o">.</span><span class="n">Platform</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7ff1a8e98410</span><span class="o">&gt;</span>
<span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;/tmp/kH07wz/test.properties&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_javaInit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="nb">object</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">)</span> \
           <span class="ow">and</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">_SPECIAL_CONSTRUCTOR_KEY</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__javaobject__</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__javaobject__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">__javaclass__</span><span class="o">.</span><span class="n">newClassInstance</span><span class="p">(</span>
<span class="o">&gt;</span>               <span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">E</span>           <span class="n">org</span><span class="o">.</span><span class="n">flywaydb</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">FlywayExceptionPyRaisable</span><span class="p">:</span> <span class="n">org</span><span class="o">.</span><span class="n">flywaydb</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">FlywayException</span><span class="p">:</span> <span class="n">Validate</span> <span class="n">failed</span><span class="p">:</span> <span class="n">Migration</span> <span class="n">checksum</span> <span class="n">mismatch</span> <span class="k">for</span> <span class="n">migration</span> <span class="mi">1</span>
<span class="n">E</span>           <span class="o">-&gt;</span> <span class="n">Applied</span> <span class="n">to</span> <span class="n">database</span> <span class="p">:</span> <span class="mi">1588531206</span>
<span class="n">E</span>           <span class="o">-&gt;</span> <span class="n">Resolved</span> <span class="n">locally</span>    <span class="p">:</span> <span class="mi">822227094</span>
</pre></div>
</div>
<p>Then you need to update your local database. There are two methods to do so:</p>
<ol class="arabic simple">
<li><p>Delete it (you will lose all data and need to regenerate it). The default
location is ~/.local/ixmp/localdb/.</p></li>
<li><p>Manually apply the underlying migrations. This is not particularly easy, but
allows you to save all your data. If you want help, feel free to get in
contact on the
<a class="reference external" href="https://groups.google.com/forum/#!forum/message_ix">listserv</a>.</p></li>
</ol>
</section>
<section id="new-property-file-layout">
<h4>New Property File Layout<a class="headerlink" href="#new-property-file-layout" title="Permalink to this headline"></a></h4>
<p>If you see an error message like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="mf">.7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">jpype</span><span class="o">/</span><span class="n">_jclass</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">111</span><span class="p">:</span> <span class="n">at</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">iiasa</span><span class="o">.</span><span class="n">ixmp</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">IxExceptionPyRaisable</span>
<span class="o">----------------------------</span> <span class="n">Captured</span> <span class="n">stdout</span> <span class="n">setup</span> <span class="o">-----------------------------</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">13</span> <span class="mi">08</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="mi">410</span> <span class="n">ERROR</span> <span class="n">at</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">iiasa</span><span class="o">.</span><span class="n">ixmp</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">DbConfig</span><span class="p">:</span><span class="mi">357</span> <span class="o">-</span> <span class="n">missing</span> <span class="nb">property</span> <span class="s1">&#39;config.server.config&#39;</span> <span class="ow">in</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">hhvE1o</span><span class="o">/</span><span class="n">test</span><span class="o">.</span><span class="n">properties</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">13</span> <span class="mi">08</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="mi">412</span> <span class="n">ERROR</span> <span class="n">at</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">iiasa</span><span class="o">.</span><span class="n">ixmp</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">DbConfig</span><span class="p">:</span><span class="mi">357</span> <span class="o">-</span> <span class="n">missing</span> <span class="nb">property</span> <span class="s1">&#39;config.server.password&#39;</span> <span class="ow">in</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">hhvE1o</span><span class="o">/</span><span class="n">test</span><span class="o">.</span><span class="n">properties</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">13</span> <span class="mi">08</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="mi">412</span> <span class="n">ERROR</span> <span class="n">at</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">iiasa</span><span class="o">.</span><span class="n">ixmp</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">DbConfig</span><span class="p">:</span><span class="mi">357</span> <span class="o">-</span> <span class="n">missing</span> <span class="nb">property</span> <span class="s1">&#39;config.server.username&#39;</span> <span class="ow">in</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">hhvE1o</span><span class="o">/</span><span class="n">test</span><span class="o">.</span><span class="n">properties</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">13</span> <span class="mi">08</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="mi">413</span> <span class="n">ERROR</span> <span class="n">at</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">iiasa</span><span class="o">.</span><span class="n">ixmp</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">DbConfig</span><span class="p">:</span><span class="mi">357</span> <span class="o">-</span> <span class="n">missing</span> <span class="nb">property</span> <span class="s1">&#39;config.server.url&#39;</span> <span class="ow">in</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">hhvE1o</span><span class="o">/</span><span class="n">test</span><span class="o">.</span><span class="n">properties</span>
<span class="o">------------------------------</span> <span class="n">Captured</span> <span class="n">log</span> <span class="n">setup</span> <span class="o">------------------------------</span>
<span class="n">core</span><span class="o">.</span><span class="n">py</span>                     <span class="mi">80</span> <span class="n">INFO</span>     <span class="n">launching</span> <span class="n">ixmp</span><span class="o">.</span><span class="n">Platform</span> <span class="n">using</span> <span class="n">config</span> <span class="n">file</span> <span class="n">at</span> <span class="s1">&#39;/tmp/hhvE1o/test.properties&#39;</span>
<span class="n">_________________</span> <span class="n">ERROR</span> <span class="n">at</span> <span class="n">setup</span> <span class="n">of</span> <span class="n">test_add_spatial_multiple</span> <span class="n">__________________</span>

    <span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_mp</span><span class="p">():</span>
        <span class="n">test_props</span> <span class="o">=</span> <span class="n">create_local_testdb</span><span class="p">()</span>

        <span class="c1"># start jvm</span>
        <span class="n">ixmp</span><span class="o">.</span><span class="n">start_jvm</span><span class="p">()</span>

        <span class="c1"># launch Platform and connect to testdb (reconnect if closed)</span>
<span class="o">&gt;</span>       <span class="n">mp</span> <span class="o">=</span> <span class="n">ixmp</span><span class="o">.</span><span class="n">Platform</span><span class="p">(</span><span class="n">test_props</span><span class="p">)</span>
</pre></div>
</div>
<p>Then you need to update your property configuration file. The old file looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">message_ix_test_db</span><span class="nd">@local</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">driver</span><span class="mf">.1</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">hsqldb</span><span class="o">.</span><span class="n">jdbcDriver</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">url</span><span class="mf">.1</span> <span class="o">=</span> <span class="n">jdbc</span><span class="p">:</span><span class="n">hsqldb</span><span class="p">:</span><span class="n">file</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">database</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">user</span><span class="mf">.1</span> <span class="o">=</span> <span class="n">ixmp</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">pwd</span><span class="mf">.1</span> <span class="o">=</span> <span class="n">ixmp</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">driver</span><span class="mf">.2</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">hsqldb</span><span class="o">.</span><span class="n">jdbcDriver</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">url</span><span class="mf">.2</span> <span class="o">=</span> <span class="n">jdbc</span><span class="p">:</span><span class="n">hsqldb</span><span class="p">:</span><span class="n">file</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">database</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">user</span><span class="mf">.2</span> <span class="o">=</span> <span class="n">ixmp</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">pwd</span><span class="mf">.2</span> <span class="o">=</span> <span class="n">ixmp</span>
</pre></div>
</div>
<p>The new file should look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">message_ix_test_db</span><span class="nd">@local</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">hsqldb</span><span class="o">.</span><span class="n">jdbcDriver</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">jdbc</span><span class="p">:</span><span class="n">hsqldb</span><span class="p">:</span><span class="n">file</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">database</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">ixmp</span>
<span class="n">jdbc</span><span class="o">.</span><span class="n">pwd</span> <span class="o">=</span> <span class="n">ixmp</span>
</pre></div>
</div>
</section>
</section>
<section id="id15">
<h3>All changes<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/202">PR #202</a>: Added the “Development rule of thumb” section from the wiki and the Tutorial style guide to the Contributor guidelines. Tweaked some formatting to improve readibility.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/113">PR #113</a>: Upgrading to MESSAGEix 1.1: improved representation of renewables, share constraints, etc.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/109">PR #109</a>: MACRO module added for initializing models to be solved with MACRO. Added scenario-based CI on circleci.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/99">PR #99</a>: Fixing an error in the compuation of the auxiliary GAMS reporting variable <code class="docutils literal notranslate"><span class="pre">PRICE_EMISSION</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/89">PR #89</a>: Fully implementing system reliability and flexibity considerations (cf. Sullivan).</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/88">PR #88</a>: Reformulated capacity maintainance constraint to ensure that newly installed capacity cannot be decommissioned within the same model period as it is built in.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/84">PR #84</a>: <code class="docutils literal notranslate"><span class="pre">message_ix.Scenario.vintage_active_years()</span></code> now limits active years to those after the first model year or the years of a certain technology vintage.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/82">PR #82</a>: Introducing “add-on technologies” for mitigation options, etc.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/81">PR #81</a>: Share constraints by mode added.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/80">PR #80</a>: Share constraints by commodity/level added.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/78">PR #78</a>: Bugfix: <code class="docutils literal notranslate"><span class="pre">message_ix.Scenario.solve()</span></code> uses ‘MESSAGE’ by default, but can be provided other model names.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/77">PR #77</a>: <code class="docutils literal notranslate"><span class="pre">rename()</span></code> function can optionally keep old values in the model (i.e., copy vs. copy-with-replace).</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/74">PR #74</a>: Activity upper and lower bounds can now be applied to all modes of a technology.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/67">PR #67</a>: Use of advanced basis in cplex.opt turned off by default to avoid conflicts with barrier method.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/65">PR #65</a>: Bugfix for downloading tutorials. Now downloads current installed version by default.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/60">PR #60</a>: Add basic ability to write and read model input to/from Excel.</p></li>
<li><p><a class="reference external" href="https://github.com/iiasa/message_ix/pull/59">PR #59</a>: Added MacOSX CI support.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rmessageix.html" class="btn btn-neutral float-left" title="Usage in R via reticulate" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="notice.html" class="btn btn-neutral float-right" title="User guidelines and notice" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, IIASA Energy, Climate, and Environment (ECE) Program.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>